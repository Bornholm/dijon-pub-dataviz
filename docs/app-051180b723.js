!function(t,e,n){function i(){var e=t.L;r.noConflict=function(){return t.L=e,this},t.L=r}var r={version:"1.0.1"};"object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd&&define(r),"undefined"!=typeof t&&i(),r.Util={extend:function(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r)t[e]=r[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++r.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}},wrapNum:function(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return r.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?r.Util.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},getParamString:function(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&e.indexOf("?")!==-1?"&":"?")+i.join("&")},template:function(t,e){return t.replace(r.Util.templateRe,function(t,i){var r=e[i];if(r===n)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}function n(e){var n=+new Date,r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(e,r)}var i=0,o=t.requestAnimationFrame||e("RequestAnimationFrame")||n,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};r.Util.requestAnimFrame=function(e,i,a){return a&&o===n?void e.call(i):o.call(t,r.bind(e,i))},r.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),r.extend=r.Util.extend,r.bind=r.Util.bind,r.stamp=r.Util.stamp,r.setOptions=r.Util.setOptions,r.Class=function(){},r.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=r.Util.create(n);i.constructor=e,e.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(r.extend(e,t.statics),delete t.statics),t.includes&&(r.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=r.Util.extend(r.Util.create(i.options),t.options)),r.extend(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},r.Class.include=function(t){return r.extend(this.prototype,t),this},r.Class.mergeOptions=function(t){return r.extend(this.prototype.options,t),this},r.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this},r.Evented=r.Class.extend({on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=r.Util.splitWords(t);for(var o=0,a=t.length;o<a;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=r.Util.splitWords(t);for(var o=0,a=t.length;o<a;o++)this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),i===this&&(i=n);for(var o={fn:e,ctx:i},a=r,s=0,u=a.length;s<u;s++)if(a[s].fn===e&&a[s].ctx===i)return;a.push(o),r.count++},_off:function(t,e,i){var o,a,s;if(this._events&&(o=this._events[t])){if(!e){for(a=0,s=o.length;a<s;a++)o[a].fn=r.Util.falseFn;return void delete this._events[t]}if(i===this&&(i=n),o)for(a=0,s=o.length;a<s;a++){var u=o[a];if(u.ctx===i&&u.fn===e)return u.fn=r.Util.falseFn,this._firingCount&&(this._events[t]=o=o.slice()),void o.splice(a,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=r.Util.extend({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r.bind(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,r.extend({layer:t.target},t),!0)}});var o=r.Evented.prototype;o.addEventListener=o.on,o.removeEventListener=o.clearAllEventListeners=o.off,o.addOneTimeEventListener=o.once,o.fireEvent=o.fire,o.hasEventListeners=o.listens,r.Mixin={Events:o},function(){var n=navigator.userAgent.toLowerCase(),i=e.documentElement,o="ActiveXObject"in t,a=n.indexOf("webkit")!==-1,s=n.indexOf("phantom")!==-1,u=n.search("android [23]")!==-1,l=n.indexOf("chrome")!==-1,c=n.indexOf("gecko")!==-1&&!a&&!t.opera&&!o,h=0===navigator.platform.indexOf("Win"),f="undefined"!=typeof orientation||n.indexOf("mobile")!==-1,d=!t.PointerEvent&&t.MSPointerEvent,p=t.PointerEvent||d,g=o&&"transition"in i.style,_="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!u,m="MozPerspective"in i.style,v="OTransition"in i.style,y=!t.L_NO_TOUCH&&(p||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);r.Browser={ie:o,ielt9:o&&!e.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in e),webkit:a,gecko:c,android:n.indexOf("android")!==-1,android23:u,chrome:l,safari:!l&&n.indexOf("safari")!==-1,win:h,ie3d:g,webkit3d:_,gecko3d:m,opera12:v,any3d:!t.L_DISABLE_3D&&(g||_||m)&&!v&&!s,mobile:f,mobileWebkit:f&&a,mobileWebkit3d:f&&_,mobileOpera:f&&t.opera,mobileGecko:f&&c,touch:!!y,msPointer:!!d,pointer:!!p,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),r.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(t){return this.clone()._add(r.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(r.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new r.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new r.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=r.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=r.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=r.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}},r.point=function(t,e,i){return t instanceof r.Point?t:r.Util.isArray(t)?new r.Point(t[0],t[1]):t===n||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new r.Point(t.x,t.y):new r.Point(t,e,i)},r.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])},r.Bounds.prototype={extend:function(t){return t=r.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof r.Point?r.point(t):r.bounds(t),t instanceof r.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=r.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,a=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return a&&s},overlaps:function(t){t=r.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,a=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return a&&s},isValid:function(){return!(!this.min||!this.max)}},r.bounds=function(t,e){return!t||t instanceof r.Bounds?t:new r.Bounds(t,e)},r.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},r.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new r.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},r.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,n){var i=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!i||"auto"===i)&&e.defaultView){var r=e.defaultView.getComputedStyle(t,null);i=r?r[n]:null}return"auto"===i?null:i},create:function(t,n,i){var r=e.createElement(t);return r.className=n||"",i&&i.appendChild(r),r},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==n)return t.classList.contains(e);var i=r.DomUtil.getClass(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)},addClass:function(t,e){if(t.classList!==n)for(var i=r.Util.splitWords(e),o=0,a=i.length;o<a;o++)t.classList.add(i[o]);else if(!r.DomUtil.hasClass(t,e)){var s=r.DomUtil.getClass(t);r.DomUtil.setClass(t,(s?s+" ":"")+e)}},removeClass:function(t,e){t.classList!==n?t.classList.remove(e):r.DomUtil.setClass(t,r.Util.trim((" "+r.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===n?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===n?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&r.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"},testProp:function(t){for(var n=e.documentElement.style,i=0;i<t.length;i++)if(t[i]in n)return t[i];return!1},setTransform:function(t,e,n){var i=e||new r.Point(0,0);t.style[r.DomUtil.TRANSFORM]=(r.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(t,e){t._leaflet_pos=e,r.Browser.any3d?r.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new r.Point(0,0)}},function(){r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var n=r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(r.DomUtil.TRANSITION_END="webkitTransition"===n||"OTransition"===n?n+"End":"transitionend","onselectstart"in e)r.DomUtil.disableTextSelection=function(){r.DomEvent.on(t,"selectstart",r.DomEvent.preventDefault)},r.DomUtil.enableTextSelection=function(){r.DomEvent.off(t,"selectstart",r.DomEvent.preventDefault)};else{var i=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r.DomUtil.disableTextSelection=function(){if(i){var t=e.documentElement.style;this._userSelect=t[i],t[i]="none"}},r.DomUtil.enableTextSelection=function(){i&&(e.documentElement.style[i]=this._userSelect,delete this._userSelect)}}r.DomUtil.disableImageDrag=function(){r.DomEvent.on(t,"dragstart",r.DomEvent.preventDefault)},r.DomUtil.enableImageDrag=function(){r.DomEvent.off(t,"dragstart",r.DomEvent.preventDefault)},r.DomUtil.preventOutline=function(e){for(;e.tabIndex===-1;)e=e.parentNode;e&&e.style&&(r.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline="none",r.DomEvent.on(t,"keydown",r.DomUtil.restoreOutline,this))},r.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,r.DomEvent.off(t,"keydown",r.DomUtil.restoreOutline,this))}}(),r.LatLng=function(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==n&&(this.alt=+i)},r.LatLng.prototype={equals:function(t,e){if(!t)return!1;t=r.latLng(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===n?1e-9:e)},toString:function(t){return"LatLng("+r.Util.formatNum(this.lat,t)+", "+r.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return r.CRS.Earth.distance(this,r.latLng(t))},wrap:function(){return r.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return r.latLngBounds([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new r.LatLng(this.lat,this.lng,this.alt)}},r.latLng=function(t,e,i){return t instanceof r.LatLng?t:r.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new r.LatLng(t[0],t[1],t[2]):2===t.length?new r.LatLng(t[0],t[1]):null:t===n||null===t?t:"object"==typeof t&&"lat"in t?new r.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===n?null:new r.LatLng(t,e,i)},r.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])},r.LatLngBounds.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof r.LatLng)e=t,n=t;else{if(!(t instanceof r.LatLngBounds))return t?this.extend(r.latLng(t)||r.latLngBounds(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new r.LatLng(e.lat,e.lng),this._northEast=new r.LatLng(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new r.LatLngBounds(new r.LatLng(e.lat-i,e.lng-o),new r.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof r.LatLng?r.latLng(t):r.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof r.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=r.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),a=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return a&&s},overlaps:function(t){t=r.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),a=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return a&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=r.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},r.latLngBounds=function(t,e){return t instanceof r.LatLngBounds?t:new r.LatLngBounds(t,e)},r.Projection={},r.Projection.LonLat={project:function(t){return new r.Point(t.lng,t.lat)},unproject:function(t){return new r.LatLng(t.y,t.x)},bounds:r.bounds([-180,-90],[180,90])},r.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new r.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new r.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return r.bounds([-t,-t],[t,t])}()},r.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return r.bounds(i,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?r.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?r.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return r.latLng(n,e,i)}},r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,(-1),0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0}),r.CRS.Earth=r.extend({},r.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(o,1))}}),r.CRS.EPSG3857=r.extend({},r.CRS.Earth,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*r.Projection.SphericalMercator.R);return new r.Transformation(t,.5,(-t),.5)}()}),r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"}),r.CRS.EPSG4326=r.extend({},r.CRS.Earth,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/180,1,-1/180,.5)}),r.Map=r.Evented.extend({options:{crs:r.CRS.EPSG3857,center:n,zoom:n,minZoom:n,maxZoom:n,layers:[],maxBounds:n,renderer:n,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=r.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=r.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==n&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==n&&this.setView(r.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(t,e){return e=e===n?this.getZoom():e,this._resetView(r.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(r.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(r.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),a=t instanceof r.Point?t:this.latLngToContainerPoint(t),s=a.subtract(o).multiplyBy(1-1/i),u=this.containerPointToLatLng(o.add(s));return this.setView(u,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():r.latLngBounds(t);var n=r.point(e.paddingTopLeft||e.padding||[0,0]),i=r.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o;var a=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),u=this.project(t.getNorthEast(),o),l=this.unproject(s.add(u).divideBy(2).add(a),o);return{center:l,zoom:o}},fitBounds:function(t,e){if(t=r.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(r.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=r.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,r.latLngBounds(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=r.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),a=i.subtract(o);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=n,this._containerId=n}r.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var t in this._layers)this._layers[t].remove();return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=r.DomUtil.create("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new r.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=r.latLngBounds(t),n=r.point(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),a=this.getMaxZoom(),s=t.getNorthWest(),u=t.getSouthEast(),l=this.getSize().subtract(n),c=this.project(u,i).subtract(this.project(s,i)),h=r.Browser.any3d?this.options.zoomSnap:1,f=Math.min(l.x/c.x,l.y/c.y);return i=this.getScaleZoom(f,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(o,Math.min(a,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new r.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===n?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===n?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===n?this._zoom:e;var r=i.zoom(t*i.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(r.latLng(t),e)},unproject:function(t,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(r.point(t),e)},layerPointToLatLng:function(t){var e=r.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(r.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(r.latLng(t))},distance:function(t,e){return this.options.crs.distance(r.latLng(t),r.latLng(e))},containerPointToLayerPoint:function(t){return r.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return r.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(r.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(t)))},mouseEventToContainerPoint:function(t){return r.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=r.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");r.DomEvent.addListener(e,"scroll",this._onScroll,this),this._containerId=r.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&r.Browser.any3d,r.DomUtil.addClass(t,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(r.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=r.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),r.DomUtil.setPosition(this._mapPane,new r.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(r.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),r.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){r.DomUtil.setPosition(this._mapPane,new r.Point(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,i){e===n&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return r.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(r.DomEvent){this._targets={},this._targets[r.stamp(this._container)]=this;var n=e?"off":"on";r.DomEvent[n](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&r.DomEvent[n](t,"resize",this._onResize,this),r.Browser.any3d&&this.options.transform3DLimit&&this[n]("moveend",this._onMoveEnd)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if(n=this._targets[r.stamp(a)],n&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!r.DomEvent._isExternalTarget(a,t))break;if(i.push(n),o)break}if(a===this._container)break;a=a.parentNode}return i.length||s||o||!r.DomEvent._isExternalTarget(a,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!r.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&r.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=r.Util.extend({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e)),n.length)){var o=n[0];"contextmenu"===e&&o.listens(e,!0)&&r.DomEvent.preventDefault(t);var a={originalEvent:t};if("keypress"!==t.type){var s=o instanceof r.Marker;a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint);
}for(var u=0;u<n.length;u++)if(n[u].fire(e,a,!0),a.originalEvent._stopped||n[u].options.nonBubblingEvents&&r.Util.indexOf(n[u].options.nonBubblingEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)||new r.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==n?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),a=new r.Bounds(i.subtract(o),i.add(o)),s=this._getBoundsOffset(a,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new r.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=r.bounds(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),a=i.max.subtract(t.max),s=this._rebound(o.x,-a.x),u=this._rebound(o.y,-a.y);return new r.Point(s,u)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=r.Browser.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))}}),r.map=function(t,e){return new r.Map(t,e)},r.Layer=r.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r.stamp(t)],this},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),r.Map.include({addLayer:function(t){var e=r.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=r.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&r.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?r.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[r.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),i=this._getZoomSpan();for(var r in this._zoomBoundLayers){var o=this._zoomBoundLayers[r].options;t=o.minZoom===n?t:Math.min(t,o.minZoom),e=o.maxZoom===n?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-(1/0)?n:e,this._layersMinZoom=t===1/0?n:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),r.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:r.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,a=Math.sqrt(1-o*o),s=a*Math.sin(i),u=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),a/2);return i=-n*Math.log(Math.max(u,1e-10)),new r.Point(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,a=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),u=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=a*Math.sin(u),e=Math.pow((1-e)/(1+e),a/2),c=Math.PI/2-2*Math.atan(s*e)-u,u+=c;return new r.LatLng(u*n,t.x*n/i)}},r.CRS.EPSG3395=r.extend({},r.CRS.Earth,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*r.Projection.Mercator.R);return new r.Transformation(t,.5,(-t),.5)}()}),r.GridLayer=r.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:r.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:n,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){r.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),r.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(r.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(r.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return e.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof r.Point?t:new r.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-(1/0),1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!r.Browser.ielt9){r.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var a=Math.min(1,(t-o.loaded)/200);r.DomUtil.setOpacity(o.el,a),a<1?e=!0:(o.active&&(n=!0),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=r.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===n)return n;for(var i in this._levels)this._levels[i].el.children.length||i===t?this._levels[i].el.style.zIndex=e-Math.abs(t-i):(r.DomUtil.remove(this._levels[i].el),this._removeTilesAtZoom(i),delete this._levels[i]);var o=this._levels[t],a=this._map;return o||(o=this._levels[t]={},o.el=r.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=a.project(a.unproject(a.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,a.getCenter(),a.getZoom()),r.Util.falseFn(o.el.offsetWidth)),this._level=o,o},_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)r.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),a=Math.floor(e/2),s=n-1,u=new r.Point((+o),(+a));u.z=+s;var l=this._tileCoordsToKey(u),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>i&&this._retainParent(o,a,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var a=2*e;a<2*e+2;a++){var s=new r.Point(o,a);s.z=n+1;var u=this._tileCoordsToKey(s),l=this._tiles[u];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,a,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,i,r){var o=Math.round(e);(this.options.maxZoom!==n&&o>this.options.maxZoom||this.options.minZoom!==n&&o<this.options.minZoom)&&(o=n);var a=this.options.updateWhenZooming&&o!==this._tileZoom;r&&!a||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),o!==n&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();r.Browser.any3d?r.DomUtil.setTransform(t.el,o,i):r.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),a=e.getSize().divideBy(2*i);return new r.Bounds(o.subtract(a),o.add(a))},_update:function(t){var i=this._map;if(i){var o=i.getZoom();if(t===n&&(t=i.getCenter()),this._tileZoom!==n){var a=this._getTiledPixelBounds(t),s=this._pxBoundsToTileRange(a),u=s.getCenter(),l=[],c=this.options.keepBuffer,h=new r.Bounds(s.getBottomLeft().subtract([c,-c]),s.getTopRight().add([c,-c]));for(var f in this._tiles){var d=this._tiles[f].coords;d.z===this._tileZoom&&h.contains(r.point(d.x,d.y))||(this._tiles[f].current=!1)}if(Math.abs(o-this._tileZoom)>1)return void this._setView(t,o);for(var p=s.min.y;p<=s.max.y;p++)for(var g=s.min.x;g<=s.max.x;g++){var _=new r.Point(g,p);if(_.z=this._tileZoom,this._isValidTile(_)){var m=this._tiles[this._tileCoordsToKey(_)];m?m.current=!0:l.push(_)}}if(l.sort(function(t,e){return t.distanceTo(u)-e.distanceTo(u)}),0!==l.length){this._loading||(this._loading=!0,this.fire("loading"));var v=e.createDocumentFragment();for(g=0;g<l.length;g++)this._addTile(l[g],v);this._level.el.appendChild(v)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return r.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),a=e.unproject(i,t.z),s=e.unproject(o,t.z);return this.options.noWrap||(a=e.wrapLatLng(a),s=e.wrapLatLng(s)),new r.LatLngBounds(a,s)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new r.Point((+e[0]),(+e[1]));return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(r.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){r.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=r.Util.falseFn,t.onmousemove=r.Util.falseFn,r.Browser.ielt9&&this.options.opacity<1&&r.DomUtil.setOpacity(t,this.options.opacity),r.Browser.android&&!r.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&r.Util.requestAnimFrame(r.bind(this._tileReady,this,t,null,o)),r.DomUtil.setPosition(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(r.DomUtil.setOpacity(n.el,0),r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(r.DomUtil.addClass(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),r.Browser.ielt9||!this._map._fadeAnimated?r.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(r.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new r.Point(this._wrapX?r.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?r.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new r.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),r.gridLayer=function(t){return new r.GridLayer(t)},r.TileLayer=r.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=r.setOptions(this,e),e.detectRetina&&r.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),r.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,n){var i=e.createElement("img");return r.DomEvent.on(i,"load",r.bind(this._tileOnLoad,this,n,i)),r.DomEvent.on(i,"error",r.bind(this._tileOnError,this,n,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:r.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return r.Util.template(this._url,r.extend(e,this.options))},_tileOnLoad:function(t,e){r.Browser.ielt9?setTimeout(r.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&(e.src=i),t(n,e)},getTileSize:function(){var t=this._map,e=r.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,i=this.options.maxNativeZoom;return null!==i&&n>i?e.divideBy(t.getZoomScale(i,n)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=r.Util.falseFn,e.onerror=r.Util.falseFn,e.complete||(e.src=r.Util.emptyImageUrl,r.DomUtil.remove(e)))}}),r.tileLayer=function(t,e){return new r.TileLayer(t,e)},r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=r.extend({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);e=r.setOptions(this,e),n.width=n.height=e.tileSize*(e.detectRetina&&r.Browser.retina?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,r.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),a=r.TileLayer.prototype.getTileUrl.call(this,t);return a+r.Util.getParamString(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return r.extend(this.wmsParams,t),e||this.redraw(),this}}),r.tileLayer.wms=function(t,e){return new r.TileLayer.WMS(t,e)},r.ImageOverlay=r.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,e,n){this._url=t,this._bounds=r.latLngBounds(e),r.setOptions(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(r.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){r.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=r.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=r.Util.falseFn,t.onmousemove=r.Util.falseFn,t.onload=r.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);r.DomUtil.setTransform(this._image,n,e)},_reset:function(){var t=this._image,e=new r.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();r.DomUtil.setPosition(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}}),r.imageOverlay=function(t,e,n){return new r.ImageOverlay(t,e,n)},r.Icon=r.Class.extend({initialize:function(t){r.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=r.point(i),a=r.point("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,n){return n=n||e.createElement("img"),n.src=t,n},_getIconUrl:function(t){return r.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),r.icon=function(t){return new r.Icon(t)},r.Icon.Default=r.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return r.Icon.Default.imagePath||(r.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||r.Icon.Default.imagePath)+r.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=r.DomUtil.create("div","leaflet-default-icon-path",e.body),n=r.DomUtil.getStyle(t,"background-image")||r.DomUtil.getStyle(t,"backgroundImage");return e.body.removeChild(t),0===n.indexOf("url")?n.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),r.Marker=r.Layer.extend({options:{icon:new r.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=r.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),r.DomUtil.addClass(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),a=!1;o!==this._shadow&&(this._removeShadow(),a=!0),o&&r.DomUtil.addClass(o,e),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&a&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),r.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&r.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){r.DomUtil.setPosition(this._icon,t),this._shadow&&r.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(r.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),r.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new r.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;r.DomUtil.setOpacity(this._icon,t),this._shadow&&r.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),r.marker=function(t,e){return new r.Marker(t,e)},r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&"DIV"===t.tagName?t:e.createElement("div"),i=this.options;if(n.innerHTML=i.html!==!1?i.html:"",i.bgPos){var o=r.point(i.bgPos);n.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),r.divIcon=function(t){return new r.DivIcon(t)},r.DivOverlay=r.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){r.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&r.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&r.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(r.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(r.bind(r.DomUtil.remove,r.DomUtil,this._container),200)):r.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=r.point(this.options.offset),n=this._getAnchor();this._zoomAnimated?r.DomUtil.setPosition(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),r.Popup=r.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){r.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof r.Path||this._source.on("preclick",r.DomEvent.stopPropagation))},onRemove:function(t){r.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof r.Path||this._source.off("preclick",r.DomEvent.stopPropagation))},getEvents:function(){var t=r.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=r.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var n=this._closeButton=r.DomUtil.create("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",r.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var i=this._wrapper=r.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=r.DomUtil.create("div",t+"-content",i),r.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",r.DomEvent.stopPropagation),this._tipContainer=r.DomUtil.create("div",t+"-tip-container",e),this._tip=r.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,a="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",r.DomUtil.addClass(t,a)):r.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();r.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(r.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new r.Point(this._containerLeft,-n-this._containerBottom);o._add(r.DomUtil.getPosition(this._container));var a=t.layerPointToContainerPoint(o),s=r.point(this.options.autoPanPadding),u=r.point(this.options.autoPanPaddingTopLeft||s),l=r.point(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),h=0,f=0;
a.x+i+l.x>c.x&&(h=a.x+i-c.x+l.x),a.x-h-u.x<0&&(h=a.x-u.x),a.y+n+l.y>c.y&&(f=a.y+n-c.y+l.y),a.y-f-u.y<0&&(f=a.y-u.y),(h||f)&&t.fire("autopanstart").panBy([h,f])}},_onCloseButtonClick:function(t){this._close(),r.DomEvent.stop(t)},_getAnchor:function(){return r.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),r.popup=function(t,e){return new r.Popup(t,e)},r.Map.mergeOptions({closePopupOnClick:!0}),r.Map.include({openPopup:function(t,e,n){return t instanceof r.Popup||(t=new r.Popup(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),r.Layer.include({bindPopup:function(t,e){return t instanceof r.Popup?(r.setOptions(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new r.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof r.Layer||(e=t,t=this),t instanceof r.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return r.DomEvent.stop(t),e instanceof r.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),r.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),r.Tooltip=r.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){r.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){r.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=r.DivOverlay.prototype.getEvents.call(this);return r.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=r.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),a=this.options.direction,s=n.offsetWidth,u=n.offsetHeight,l=r.point(this.options.offset),c=this._getAnchor();"top"===a?t=t.add(r.point(-s/2+l.x,-u+l.y+c.y)):"bottom"===a?t=t.subtract(r.point(s/2-l.x,-l.y)):"center"===a?t=t.subtract(r.point(s/2+l.x,u/2-c.y+l.y)):"right"===a||"auto"===a&&o.x<i.x?(a="right",t=t.add([l.x+c.x,c.y-u/2+l.y])):(a="left",t=t.subtract(r.point(s+c.x-l.x,u/2-c.y-l.y))),r.DomUtil.removeClass(n,"leaflet-tooltip-right"),r.DomUtil.removeClass(n,"leaflet-tooltip-left"),r.DomUtil.removeClass(n,"leaflet-tooltip-top"),r.DomUtil.removeClass(n,"leaflet-tooltip-bottom"),r.DomUtil.addClass(n,"leaflet-tooltip-"+a),r.DomUtil.setPosition(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&r.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return r.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),r.tooltip=function(t,e){return new r.Tooltip(t,e)},r.Map.include({openTooltip:function(t,e,n){return t instanceof r.Tooltip||(t=new r.Tooltip(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),r.Layer.include({bindTooltip:function(t,e){return t instanceof r.Tooltip?(r.setOptions(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=r.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),r.Browser.touch&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof r.Layer||(e=t,t=this),t instanceof r.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(r.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(r.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:n)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}}),r.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),r.LayerGroup=r.Layer.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r.stamp(t)}}),r.layerGroup=function(t){return new r.LayerGroup(t)},r.FeatureGroup=r.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),r.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),r.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new r.LatLngBounds;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),r.featureGroup=function(t){return new r.FeatureGroup(t)},r.Renderer=r.Layer.extend({options:{padding:.1},initialize:function(t){r.setOptions(this,t),r.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&r.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){r.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=r.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,e),s=this._map.project(t,e),u=s.subtract(a),l=o.multiplyBy(-n).add(i).add(o).subtract(u);r.Browser.any3d?r.DomUtil.setTransform(this._container,l,n):r.DomUtil.setPosition(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new r.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),r.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&r.canvas()||r.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===n)return!1;var e=this._paneRenderers[t];return e===n&&(e=r.SVG&&r.svg({pane:t})||r.Canvas&&r.canvas({pane:t}),this._paneRenderers[t]=e),e}}),r.Path=r.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this),this._renderer.on("update",this._update,this)},onRemove:function(){this._renderer._removePath(this),this._renderer.off("update",this._update,this)},getEvents:function(){return{zoomend:this._project,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return r.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(r.Browser.touch?10:0)}}),r.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var i=t.length,r=typeof Uint8Array!=n+""?Uint8Array:Array,o=new r(i);o[0]=o[i-1]=1,this._simplifyDPStep(t,o,e,0,i-1);var a,s=[];for(a=0;a<i;a++)o[a]&&s.push(t[a]);return s},_simplifyDPStep:function(t,e,n,i,r){var o,a,s,u=0;for(a=i+1;a<=r-1;a++)s=this._sqClosestPointOnSegment(t[a],t[i],t[r],!0),s>u&&(o=a,u=s);u>n&&(e[o]=1,this._simplifyDPStep(t,e,n,i,o),this._simplifyDPStep(t,e,n,o,r))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)this._sqDist(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n},clipSegment:function(t,e,n,i,r){var o,a,s,u=i?this._lastCode:this._getBitCode(t,n),l=this._getBitCode(e,n);for(this._lastCode=l;;){if(!(u|l))return[t,e];if(u&l)return!1;o=u||l,a=this._getEdgeIntersection(t,e,o,n,r),s=this._getBitCode(a,n),o===u?(t=a,u=s):(e=a,l=s)}},_getEdgeIntersection:function(t,e,n,i,o){var a,s,u=e.x-t.x,l=e.y-t.y,c=i.min,h=i.max;return 8&n?(a=t.x+u*(h.y-t.y)/l,s=h.y):4&n?(a=t.x+u*(c.y-t.y)/l,s=c.y):2&n?(a=h.x,s=t.y+l*(h.x-t.x)/u):1&n&&(a=c.x,s=t.y+l*(c.x-t.x)/u),new r.Point(a,s,o)},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,a=e.x,s=e.y,u=n.x-a,l=n.y-s,c=u*u+l*l;return c>0&&(o=((t.x-a)*u+(t.y-s)*l)/c,o>1?(a=n.x,s=n.y):o>0&&(a+=u*o,s+=l*o)),u=t.x-a,l=t.y-s,i?u*u+l*l:new r.Point(a,s)}},r.Polyline=r.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){r.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,a=r.LineUtil._sqClosestPointOnSegment,s=0,u=this._parts.length;s<u;s++)for(var l=this._parts[s],c=1,h=l.length;c<h;c++){e=l[c-1],n=l[c];var f=a(t,e,n,!0);f<i&&(i=f,o=a(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<u-1;t++)if(r=s[t],o=s[t+1],n=r.distanceTo(o),i+=n,i>e)return a=(i-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=r.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new r.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return r.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=r.Polyline._flat(t),i=0,o=t.length;i<o;i++)n?(e[i]=r.latLng(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new r.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new r.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,o,a=t[0]instanceof r.LatLng,s=t.length;if(a){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,o,a,s,u,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(u=this._rings[e],n=0,a=u.length;n<a-1;n++)s=r.LineUtil.clipSegment(u[n],u[n+1],t,n,!0),s&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===u[n+1]&&n!==a-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=r.LineUtil.simplify(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),r.polyline=function(t,e){return new r.Polyline(t,e)},r.Polyline._flat=function(t){return!r.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},r.PolyUtil={},r.PolyUtil.clipPolygon=function(t,e,n){var i,o,a,s,u,l,c,h,f,d=[1,4,2,8],p=r.LineUtil;for(o=0,c=t.length;o<c;o++)t[o]._code=p._getBitCode(t[o],e);for(s=0;s<4;s++){for(h=d[s],i=[],o=0,c=t.length,a=c-1;o<c;a=o++)u=t[o],l=t[a],u._code&h?l._code&h||(f=p._getEdgeIntersection(l,u,h,e,n),f._code=p._getBitCode(f,e),i.push(f)):(l._code&h&&(f=p._getEdgeIntersection(l,u,h,e,n),f._code=p._getBitCode(f,e),i.push(f)),i.push(u));t=i}return t},r.Polygon=r.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=r.Polyline.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof r.LatLng&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){r.Polyline.prototype._setLatLngs.call(this,t),r.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return r.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new r.Point(e,e);if(t=new r.Bounds(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,o=0,a=this._rings.length;o<a;o++)i=r.PolyUtil.clipPolygon(this._rings[o],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),r.polygon=function(t,e){return new r.Polygon(t,e)},r.Rectangle=r.Polygon.extend({initialize:function(t,e){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=r.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),r.rectangle=function(t,e){return new r.Rectangle(t,e)},r.CircleMarker=r.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=r.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return r.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new r.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),r.circleMarker=function(t,e){return new r.CircleMarker(t,e)},r.Circle=r.CircleMarker.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=r.extend({},n,{radius:e})),r.setOptions(this,e),this._latlng=r.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new r.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:r.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===r.CRS.Earth.distance){var o=Math.PI/180,a=this._mRadius/r.CRS.Earth.R/o,s=n.project([e+a,t]),u=n.project([e-a,t]),l=s.add(u).divideBy(2),c=n.unproject(l).lat,h=Math.acos((Math.cos(a*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(h)||0===h)&&(h=a/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:Math.max(Math.round(l.x-n.project([c,t-h]).x),1),this._radiusY=Math.max(Math.round(l.y-s.y),1)}else{var f=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}}),r.circle=function(t,e,n){return new r.Circle(t,e,n)},r.SVG=r.Renderer.extend({getEvents:function(){var t=r.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=r.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=r.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){r.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),r.DomUtil.setPosition(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=r.SVG.create("path");t.options.className&&r.DomUtil.addClass(e,t.options.className),t.options.interactive&&r.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){r.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,r.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){r.DomUtil.toFront(t._path)},_bringToBack:function(t){r.DomUtil.toBack(t._path)}}),r.extend(r.SVG,{create:function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var n,i,o,a,s,u,l="";for(n=0,o=t.length;n<o;n++){for(s=t[n],i=0,a=s.length;i<a;i++)u=s[i],l+=(i?"L":"M")+u.x+" "+u.y;l+=e?r.Browser.svg?"z":"x":""}return l||"M0 0"}}),r.Browser.svg=!(!e.createElementNS||!r.SVG.create("svg").createSVGRect),r.svg=function(t){return r.Browser.svg||r.Browser.vml?new r.SVG(t):null},r.Browser.vml=!r.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(t){return!1}}(),r.SVG.include(r.Browser.vml?{_initContainer:function(){this._container=r.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(r.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=r.SVG.create("shape");r.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=r.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;r.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=r.SVG.create("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=r.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=r.SVG.create("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){r.DomUtil.toFront(t._container)},_bringToBack:function(t){r.DomUtil.toBack(t._container)}}:{}),r.Browser.vml&&(r.SVG.create=function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),r.Canvas=r.Renderer.extend({onAdd:function(){r.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=e.createElement("canvas");r.DomEvent.on(t,"mousemove",r.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},r.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=r.Browser.retina?2:1;r.DomUtil.setPosition(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",r.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_initPath:function(t){this._updateDashArray(t),this._layers[r.stamp(t)]=t},_addPath:r.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){if(this._map){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new r.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||r.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var e,n=this._redrawBounds;this._ctx.save(),n&&(this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,n.max.x-n.min.x,n.max.y-n.min.y),this._ctx.clip());for(var i in this._layers)e=this._layers[i],(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath(),t&&e._removed&&(delete e._removed,delete this._layers[i]);this._ctx.restore()},_updatePoly:function(t,e){var n,i,r,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),u.setLineDash&&u.setLineDash(t.options&&t.options._dashArray||[]),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}},_updateCircle:function(t){if(!t._empty()){var e=t._point,n=this._ctx,i=t._radius,r=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=this._clear,i=e.options;t.globalCompositeOperation=n?"destination-out":"source-over",i.fill&&(t.globalAlpha=n?1:i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.globalAlpha=n?1:i.opacity,e._prevWeight=t.lineWidth=n?e._prevWeight+1:i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){var e,n=this._map.mouseEventToLayerPoint(t),i=[];for(var o in this._layers)e=this._layers[o],e.options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(r.DomEvent._fakeStop(t),i.push(e));i.length&&this._fireEvent(i,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_handleMouseOut:function(t,e){var n=this._hoveredLayer;!n||"mouseout"!==t.type&&n._containsPoint(e)||(r.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var n,i;for(n in this._drawnLayers)i=this._drawnLayers[n],i.options.interactive&&i._containsPoint(e)&&(r.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:r.Util.falseFn,_bringToBack:r.Util.falseFn}),r.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),r.canvas=function(t){return r.Browser.canvas?new r.Canvas(t):null},r.Polyline.prototype._containsPoint=function(t,e){var n,i,o,a,s,u,l=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(n=0,a=this._parts.length;n<a;n++)for(u=this._parts[n],i=0,s=u.length,o=s-1;i<s;o=i++)if((e||0!==i)&&r.LineUtil.pointToSegmentDistance(t,u[o],u[i])<=l)return!0;return!1},r.Polygon.prototype._containsPoint=function(t){var e,n,i,o,a,s,u,l,c=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,u=this._parts.length;o<u;o++)for(e=this._parts[o],a=0,l=e.length,s=l-1;a<l;s=a++)n=e[a],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||r.Polyline.prototype._containsPoint.call(this,t,!0)},r.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},r.GeoJSON=r.FeatureGroup.extend({initialize:function(t,e){r.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=r.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this;
}var a=this.options;if(a.filter&&!a.filter(t))return this;var s=r.GeoJSON.geometryToLayer(t,a);return s?(s.feature=r.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),a.onEachFeature&&a.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=r.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),r.extend(r.GeoJSON,{geometryToLayer:function(t,e){var n,i,o,a,s="Feature"===t.type?t.geometry:t,u=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,h=e&&e.coordsToLatLng||this.coordsToLatLng;if(!u&&!s)return null;switch(s.type){case"Point":return n=h(u),c?c(t,n):new r.Marker(n);case"MultiPoint":for(o=0,a=u.length;o<a;o++)n=h(u[o]),l.push(c?c(t,n):new r.Marker(n));return new r.FeatureGroup(l);case"LineString":case"MultiLineString":return i=this.coordsToLatLngs(u,"LineString"===s.type?0:1,h),new r.Polyline(i,e);case"Polygon":case"MultiPolygon":return i=this.coordsToLatLngs(u,"Polygon"===s.type?1:2,h),new r.Polygon(i,e);case"GeometryCollection":for(o=0,a=s.geometries.length;o<a;o++){var f=this.geometryToLayer({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);f&&l.push(f)}return new r.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new r.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)i=e?this.coordsToLatLngs(t[o],e-1,n):(n||this.coordsToLatLng)(t[o]),r.push(i);return r},latLngToCoords:function(t){return t.alt!==n?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,n){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?r.GeoJSON.latLngsToCoords(t[o],e-1,n):r.GeoJSON.latLngToCoords(t[o]));return!e&&n&&i.push(i[0]),i},getFeature:function(t,e){return t.feature?r.extend({},t.feature,{geometry:e}):r.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(a),r.Circle.include(a),r.CircleMarker.include(a),r.Polyline.prototype.toGeoJSON=function(){var t=!r.Polyline._flat(this._latlngs),e=r.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return r.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},r.Polygon.prototype.toGeoJSON=function(){var t=!r.Polyline._flat(this._latlngs),e=t&&!r.Polyline._flat(this._latlngs[0]),n=r.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(n=[n]),r.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})},r.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON();n.push(e?i.geometry:r.GeoJSON.asFeature(i))}}),e?r.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),r.geoJSON=function(t,e){return new r.GeoJSON(t,e)},r.geoJson=r.geoJSON;var s="_leaflet_events";r.DomEvent={on:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],n);else{e=r.Util.splitWords(e);for(var a=0,s=e.length;a<s;a++)this._on(t,e[a],n,i)}return this},off:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],n);else{e=r.Util.splitWords(e);for(var a=0,s=e.length;a<s;a++)this._off(t,e[a],n,i)}return this},_on:function(e,n,i,o){var a=n+r.stamp(i)+(o?"_"+r.stamp(o):"");if(e[s]&&e[s][a])return this;var u=function(n){return i.call(o||e,n||t.event)},l=u;return r.Browser.pointer&&0===n.indexOf("touch")?this.addPointerListener(e,n,u,a):r.Browser.touch&&"dblclick"===n&&this.addDoubleTapListener?this.addDoubleTapListener(e,u,a):"addEventListener"in e?"mousewheel"===n?e.addEventListener("onwheel"in e?"wheel":"mousewheel",u,!1):"mouseenter"===n||"mouseleave"===n?(u=function(n){n=n||t.event,r.DomEvent._isExternalTarget(e,n)&&l(n)},e.addEventListener("mouseenter"===n?"mouseover":"mouseout",u,!1)):("click"===n&&r.Browser.android&&(u=function(t){return r.DomEvent._filterClick(t,l)}),e.addEventListener(n,u,!1)):"attachEvent"in e&&e.attachEvent("on"+n,u),e[s]=e[s]||{},e[s][a]=u,this},_off:function(t,e,n,i){var o=e+r.stamp(n)+(i?"_"+r.stamp(i):""),a=t[s]&&t[s][o];return a?(r.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):r.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[s][o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,r.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return r.DomEvent.on(t,"mousewheel",r.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=r.DomEvent.stopPropagation;return r.DomEvent.on(t,r.Draggable.START.join(" "),e),r.DomEvent.on(t,{click:r.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return r.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new r.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new r.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},_wheelPxFactor:r.Browser.win&&r.Browser.chrome?2:r.Browser.gecko?t.devicePixelRatio:1,getWheelDelta:function(t){return r.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/r.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){r.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=r.DomEvent._lastClick&&n-r.DomEvent._lastClick;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?void r.DomEvent.stop(t):(r.DomEvent._lastClick=n,void e(t))}},r.DomEvent.addListener=r.DomEvent.on,r.DomEvent.removeListener=r.DomEvent.off,r.Draggable=r.Evented.extend({options:{clickTolerance:3},statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(r.DomEvent.on(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(r.DomEvent.off(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!r.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(r.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(r.Draggable._dragging=!0,this._preventOutline&&r.DomUtil.preventOutline(this._element),r.DomUtil.disableImageDrag(),r.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var n=t.touches?t.touches[0]:t;this._startPoint=new r.Point(n.clientX,n.clientY),r.DomEvent.on(e,r.Draggable.MOVE[t.type],this._onMove,this).on(e,r.Draggable.END[t.type],this._onUp,this)}},_onMove:function(n){if(!n._simulated&&this._enabled){if(n.touches&&n.touches.length>1)return void(this._moved=!0);var i=n.touches&&1===n.touches.length?n.touches[0]:n,o=new r.Point(i.clientX,i.clientY),a=o.subtract(this._startPoint);(a.x||a.y)&&(Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(r.DomEvent.preventDefault(n),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(a),r.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,t.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._lastEvent=n,this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),r.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated&&this._enabled){r.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var n in r.Draggable.MOVE)r.DomEvent.off(e,r.Draggable.MOVE[n],this._onMove,this).off(e,r.Draggable.END[n],this._onUp,this);r.DomUtil.enableImageDrag(),r.DomUtil.enableTextSelection(),this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,r.Draggable._dragging=!1}}}),r.Handler=r.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new r.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}r.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){r.DomUtil.removeClass(this._map._container,"leaflet-grab"),r.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=r.latLngBounds(this._map.options.maxBounds);this._offsetLimit=r.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,u=o.multiplyBy(s/a),l=u.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),h=u.multiplyBy(c/l),f=c/(n.inertiaDeceleration*s),d=h.multiplyBy(-f/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),r.Util.requestAnimFrame(function(){e.panBy(d,{duration:f,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),r.Map.addInitHook("addHandler","dragging",r.Map.Drag),r.Map.mergeOptions({doubleClickZoom:!0}),r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}}),r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom),r.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=r.DomEvent.getWheelDelta(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r.bind(this._performZoom,this),i),r.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}}),r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom),r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,n){function i(t){var e;if(e=r.Browser.pointer?r.DomEvent._pointersCount:t.touches.length,!(e>1)){var n=Date.now(),i=n-(a||n);s=t.touches?t.touches[0]:t,u=i>0&&i<=l,a=n}}function o(){if(u&&!s.cancelBubble){if(r.Browser.pointer){var t,n,i={};for(n in s)t=s[n],i[n]=t&&t.bind?t.bind(s):t;s=i}s.type="dblclick",e(s),a=null}}var a,s,u=!1,l=250,c="_leaflet_",h=this._touchstart,f=this._touchend;return t[c+h+n]=i,t[c+f+n]=o,t[c+"dblclick"+n]=e,t.addEventListener(h,i,!1),t.addEventListener(f,o,!1),r.Browser.edge||t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_",i=t[n+this._touchstart+e],o=t[n+this._touchend+e],a=t[n+"dblclick"+e];return t.removeEventListener(this._touchstart,i,!1),t.removeEventListener(this._touchend,o,!1),r.Browser.edge||t.removeEventListener("dblclick",a,!1),this}}),r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,n,i){return"touchstart"===e?this._addPointerStart(t,n,i):"touchmove"===e?this._addPointerMove(t,n,i):"touchend"===e&&this._addPointerEnd(t,n,i),this},removePointerListener:function(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,i,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,i,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)),this},_addPointerStart:function(t,n,i){var o=r.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;r.DomEvent.preventDefault(t)}this._handlePointer(t,n)},this);if(t["_leaflet_touchstart"+i]=o,t.addEventListener(this.POINTER_DOWN,o,!1),!this._pointerDocListener){var a=r.bind(this._globalPointerUp,this);e.documentElement.addEventListener(this.POINTER_DOWN,r.bind(this._globalPointerDown,this),!0),e.documentElement.addEventListener(this.POINTER_MOVE,r.bind(this._globalPointerMove,this),!0),e.documentElement.addEventListener(this.POINTER_UP,a,!0),e.documentElement.addEventListener(this.POINTER_CANCEL,a,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var n in this._pointers)t.touches.push(this._pointers[n]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,n){var i=r.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+n]=i,t.addEventListener(this.POINTER_MOVE,i,!1)},_addPointerEnd:function(t,e,n){var i=r.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+n]=i,t.addEventListener(this.POINTER_UP,i,!1),t.addEventListener(this.POINTER_CANCEL,i,!1)}}),r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0}),r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(t.touches&&2===t.touches.length&&!n._animatingZoom&&!this._zooming){var i=n.mouseEventToContainerPoint(t.touches[0]),o=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),"center"!==n.options.touchZoom&&(this._pinchStartLatLng=n.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),r.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),r.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),r.Util.cancelAnimFrame(this._animRequest);var s=r.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=r.Util.requestAnimFrame(s,this,!0),r.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,r.Util.cancelAnimFrame(this._animRequest),r.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom),r.Map.mergeOptions({tap:!0,tapTolerance:15}),r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(r.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=t.touches[0],i=n.target;this._startPos=this._newPos=new r.Point(n.clientX,n.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),this._simulateEvent("mousedown",n),r.DomEvent.on(e,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),r.DomEvent.off(e,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var n=t.changedTouches[0],i=n.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.removeClass(i,"leaflet-active"),this._simulateEvent("mouseup",n),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new r.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(n,i){var r=e.createEvent("MouseEvents");r._simulated=!0,i.target._simulatedClick=!0,r.initMouseEvent(n,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}}),r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap),r.Map.mergeOptions({boxZoom:!0}),r.Map.BoxZoom=r.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),r.DomUtil.disableTextSelection(),r.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void r.DomEvent.on(e,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=r.DomUtil.create("div","leaflet-zoom-box",this._container),r.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new r.Bounds(this._point,this._startPoint),n=e.getSize();r.DomUtil.setPosition(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(r.DomUtil.remove(this._box),r.DomUtil.removeClass(this._container,"leaflet-crosshair")),r.DomUtil.enableTextSelection(),r.DomUtil.enableImageDrag(),r.DomEvent.off(e,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(r.bind(this._resetState,this),0);var e=new r.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom),r.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),r.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),r.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=e.body,i=e.documentElement,r=n.scrollTop||i.scrollTop,o=n.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){r.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=r.point(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n)return;i.closePopup()}r.DomEvent.stop(t)}}}),r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard),r.Handler.MarkerDrag=r.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(t,t,(!0))),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),r.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=r.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(i);n&&r.DomUtil.setPosition(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),r.Control=r.Class.extend({options:{position:"topright"},initialize:function(t){r.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return r.DomUtil.addClass(e,"leaflet-control"),n.indexOf("bottom")!==-1?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(r.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),r.control=function(t){return new r.Control(t)},r.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var a=n+t+" "+n+o;e[t+o]=r.DomUtil.create("div",a,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=r.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){r.DomUtil.remove(this._controlContainer)}}),r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=r.DomUtil.create("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var a=r.DomUtil.create("a",n,i);return a.innerHTML=t,a.href="#",a.title=e,r.DomEvent.on(a,"mousedown dblclick",r.DomEvent.stopPropagation).on(a,"click",r.DomEvent.stop).on(a,"click",o,this).on(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,e),r.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&r.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&r.DomUtil.addClass(this._zoomInButton,e)}}),r.Map.mergeOptions({zoomControl:!0}),r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))}),r.control.zoom=function(t){return new r.Control.Zoom(t)},r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){r.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=r.DomUtil.create("div","leaflet-control-attribution"),r.DomEvent&&r.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());
return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}}),r.Map.mergeOptions({attributionControl:!0}),r.Map.addInitHook(function(){this.options.attributionControl&&(new r.Control.Attribution).addTo(this)}),r.control.attribution=function(t){return new r.Control.Attribution(t)},r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=r.DomUtil.create("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=r.DomUtil.create("div",e,n)),t.imperial&&(this._iScale=r.DomUtil.create("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),r.control.scale=function(t){return new r.Control.Scale(t)},r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,n){r.setOptions(this,n),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(r.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(r.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):r.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return r.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=r.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),r.DomEvent.disableClickPropagation(e),r.Browser.touch||r.DomEvent.disableScrollPropagation(e);var n=this._form=r.DomUtil.create("form",t+"-list");if(this.options.collapsed){r.Browser.android||r.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var i=this._layersLink=r.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",r.Browser.touch?r.DomEvent.on(i,"click",r.DomEvent.stop).on(i,"click",this.expand,this):r.DomEvent.on(i,"focus",this.expand,this),r.DomEvent.on(n,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=r.DomUtil.create("div",t+"-base",n),this._separator=r.DomUtil.create("div",t+"-separator",n),this._overlaysList=r.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&r.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;r.DomUtil.empty(this._baseLayersList),r.DomUtil.empty(this._overlaysList);var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(r.stamp(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,n){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",r=e.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var n,i=e.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(n=e.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=o):n=this._createRadioElement("leaflet-base-layers",o),n.layerId=r.stamp(t.layer),r.DomEvent.on(n,"click",this._onInputClick,this);var a=e.createElement("span");a.innerHTML=" "+t.name;var s=e.createElement("div");i.appendChild(s),s.appendChild(n),s.appendChild(a);var u=t.overlay?this._overlaysList:this._baseLayersList;return u.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),r=[],o=[];this._handlingClick=!0;for(var a=i.length-1;a>=0;a--)t=i[a],e=this._getLayer(t.layerId).layer,n=this._map.hasLayer(e),t.checked&&!n?r.push(e):!t.checked&&n&&o.push(e);for(a=0;a<o.length;a++)this._map.removeLayer(o[a]);for(a=0;a<r.length;a++)this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._form.getElementsByTagName("input"),r=this._map.getZoom(),o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==n&&r<e.options.minZoom||e.options.maxZoom!==n&&r>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),r.control.layers=function(t,e,n){return new r.Control.Layers(t,e,n)},r.PosAnimation=r.Evented.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=r.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),r.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),r.Map.include({setView:function(t,e,i){if(e=e===n?this._zoom:this._limitZoom(e),t=this._limitCenter(r.latLng(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==n&&(i.zoom=r.extend({animate:i.animate},i.zoom),i.pan=r.extend({animate:i.animate,duration:i.duration},i.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=r.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new r.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!((e&&e.animate)!==!0&&!this.getSize().contains(n)||(this.panBy(n,e),0))}}),r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var u=r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.mobileOpera;u&&r.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),r.DomEvent.on(this._proxy,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),r.Map.include(u?{_createAnimProxy:function(){var t=this._proxy=r.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=r.DomUtil.TRANSFORM,i=t.style[n];r.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===t.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),n=this.getZoom();r.DomUtil.setTransform(t,this.project(e,n),this.getZoomScale(n,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(n.animate!==!0&&!this.getSize().contains(o)||(r.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),r.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),r.Map.include({flyTo:function(t,e,i){function o(t){var e=t?-1:1,n=t?v:m,i=v*v-m*m+e*b*b*y*y,r=2*n*b*y,o=i/r,a=Math.sqrt(o*o+1)-o,s=a<1e-9?-18:Math.log(a);return s}function a(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return a(t)/s(t)}function l(t){return m*(s(S)/s(S+x*t))}function c(t){return m*(s(S)*u(S+x*t)-a(S))/b}function h(t){return 1-Math.pow(1-t,1.5)}function f(){var n=(Date.now()-w)/T,i=h(n)*L;n<=1?(this._flyToFrame=r.Util.requestAnimFrame(f,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(c(i)/y)),_),this.getScaleZoom(m/l(i),_),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(i=i||{},i.animate===!1||!r.Browser.any3d)return this.setView(t,e,i);this._stop();var d=this.project(this.getCenter()),p=this.project(t),g=this.getSize(),_=this._zoom;t=r.latLng(t),e=e===n?_:e;var m=Math.max(g.x,g.y),v=m*this.getZoomScale(_,e),y=p.distanceTo(d)||1,x=1.42,b=x*x,S=o(0),w=Date.now(),L=(o(1)-S)/x,T=i.duration?1e3*i.duration:1e3*L*.8;return this._moveStart(!0),f.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)}}),r.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=r.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r.bind(this._handleGeolocationResponse,this),n=r.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new r.LatLng(e,n),o=i.toBounds(t.coords.accuracy),a=this._locateOptions;if(a.setView){var s=this.getBoundsZoom(o);this.setView(i,a.maxZoom?Math.min(s,a.maxZoom):s)}var u={latlng:i,bounds:o,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(u[l]=t.coords[l]);this.fire("locationfound",u)}})}(window,document),!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||et;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"!==n&&!pt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){return pt.isFunction(e)?pt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?pt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?pt.grep(t,function(t){return at.call(e,t)>-1!==n}):Lt.test(e)?pt.filter(e,t,n):(e=pt.filter(e,t),pt.grep(t,function(t){return at.call(e,t)>-1!==n&&1===t.nodeType}))}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return pt.each(t.match(Et)||[],function(t,n){e[n]=!0}),e}function s(t){return t}function u(t){throw t}function l(t,e,n){var i;try{t&&pt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&pt.isFunction(i=t.then)?i.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function c(){et.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),pt.ready()}function h(){this.expando=pt.expando+h.uid++}function f(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Nt.test(t)?JSON.parse(t):t)}function d(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Gt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=f(n)}catch(t){}zt.set(t,e,n)}else n=void 0;return n}function p(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},u=s(),l=n&&n[3]||(pt.cssNumber[e]?"":"px"),c=(pt.cssNumber[e]||"px"!==l&&+u)&&Bt.exec(pt.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,pt.style(t,e,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function g(t){var e,n=t.ownerDocument,i=t.nodeName,r=Ht[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=pt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Ht[i]=r,r)}function _(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Rt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ut(i)&&(r[o]=g(i))):"none"!==n&&(r[o]="none",Rt.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function m(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],n):n}function v(t,e){for(var n=0,i=t.length;n<i;n++)Rt.set(t[n],"globalEval",!e||Rt.get(e[n],"globalEval"))}function y(t,e,n,i,r){for(var o,a,s,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if(o=t[d],o||0===o)if("object"===pt.type(o))pt.merge(f,o.nodeType?[o]:o);else if(Yt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(Xt.exec(o)||["",""])[1].toLowerCase(),u=qt[s]||qt._default,a.innerHTML=u[1]+pt.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;pt.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&pt.inArray(o,i)>-1)r&&r.push(o);else if(l=pt.contains(o.ownerDocument,o),a=m(h.appendChild(o),"script"),l&&v(a),n)for(c=0;o=a[c++];)Wt.test(o.type||"")&&n.push(o);return h}function x(){return!0}function b(){return!1}function S(){try{return et.activeElement}catch(t){}}function w(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)w(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=b;else if(!r)return t;return 1===o&&(a=r,r=function(t){return pt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,i,n)})}function L(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function T(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function P(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){var n,i,r,o,a,s,u,l;if(1===e.nodeType){if(Rt.hasData(t)&&(o=Rt.access(t),a=Rt.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;n<i;n++)pt.event.add(e,r,l[r][n])}zt.hasData(t)&&(s=zt.access(t),u=pt.extend({},s),zt.set(e,u))}}function C(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Zt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function M(t,e,i,r){e=rt.apply([],e);var o,a,s,u,l,c,h=0,f=t.length,d=f-1,p=e[0],g=pt.isFunction(p);if(g||f>1&&"string"==typeof p&&!ft.checkClone&&ne.test(p))return t.each(function(n){var o=t.eq(n);g&&(e[0]=p.call(this,n,o.html())),M(o,e,i,r)});if(f&&(o=y(e,t[0].ownerDocument,!1,t,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=pt.map(m(o,"script"),T),u=s.length;h<f;h++)l=o,h!==d&&(l=pt.clone(l,!0,!0),u&&pt.merge(s,m(l,"script"))),i.call(t[h],l,h);if(u)for(c=s[s.length-1].ownerDocument,pt.map(s,P),h=0;h<u;h++)l=s[h],Wt.test(l.type||"")&&!Rt.access(l,"globalEval")&&pt.contains(c,l)&&(l.src?pt._evalUrl&&pt._evalUrl(l.src):n(l.textContent.replace(re,""),c))}return t}function E(t,e,n){for(var i,r=e?pt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pt.cleanData(m(i)),i.parentNode&&(n&&pt.contains(i.ownerDocument,i)&&v(m(i,"script")),i.parentNode.removeChild(i));return t}function k(t,e,n){var i,r,o,a,s=t.style;return n=n||se(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||pt.contains(t.ownerDocument,t)||(a=pt.style(t,e)),!ft.pixelMarginRight()&&ae.test(a)&&oe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in fe)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=he.length;n--;)if(t=he[n]+e,t in fe)return t}function I(t,e,n){var i=Bt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function R(t,e,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=pt.css(t,n+jt[o],!0,r)),i?("content"===n&&(a-=pt.css(t,"padding"+jt[o],!0,r)),"margin"!==n&&(a-=pt.css(t,"border"+jt[o]+"Width",!0,r))):(a+=pt.css(t,"padding"+jt[o],!0,r),"padding"!==n&&(a+=pt.css(t,"border"+jt[o]+"Width",!0,r)));return a}function z(t,e,n){var i,r=!0,o=se(t),a="border-box"===pt.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(i=t.getBoundingClientRect()[e]),i<=0||null==i){if(i=k(t,e,o),(i<0||null==i)&&(i=t.style[e]),ae.test(i))return i;r=a&&(ft.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+R(t,e,n||(a?"border":"content"),r,o)+"px"}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function G(){pe&&(t.requestAnimationFrame(G),pt.fx.tick())}function V(){return t.setTimeout(function(){de=void 0}),de=pt.now()}function B(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=jt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function j(t,e,n){for(var i,r=(H.tweeners[e]||[]).concat(H.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function U(t,e,n){var i,r,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&Ut(t),m=Rt.get(t,"fxshow");n.queue||(a=pt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,pt.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(r=e[i],ge.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}d[i]=m&&m[i]||pt.style(t,i)}if(u=!pt.isEmptyObject(e),u||!pt.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=m&&m.display,null==l&&(l=Rt.get(t,"display")),c=pt.css(t,"display"),"none"===c&&(l?c=l:(_([t],!0),l=t.style.display||l,c=pt.css(t,"display"),_([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===pt.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(i in d)u||(m?"hidden"in m&&(g=m.hidden):m=Rt.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&_([t],!0),f.done(function(){g||_([t]),Rt.remove(t,"fxshow");for(i in d)pt.style(t,i,d[i])})),u=j(g?m[i]:0,i,f),i in m||(m[i]=u.start,g&&(u.end=u.start,u.start=0))}}function F(t,e){var n,i,r,o,a;for(n in t)if(i=pt.camelCase(n),r=e[i],o=t[n],pt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=pt.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function H(t,e,n){var i,r,o=0,a=H.prefilters.length,s=pt.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=de||V(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||V(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(F(c,l.opts.specialEasing);o<a;o++)if(i=H.prefilters[o].call(l,t,c,l.opts))return pt.isFunction(i.stop)&&(pt._queueHooks(l.elem,l.opts.queue).stop=pt.proxy(i.stop,i)),i;return pt.map(c,j,l),pt.isFunction(l.opts.start)&&l.opts.start.call(t,l),pt.fx.timer(pt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Z(t){var e=t.match(Et)||[];return e.join(" ")}function X(t){return t.getAttribute&&t.getAttribute("class")||""}function W(t,e,n,i){var r;if(pt.isArray(e))pt.each(e,function(e,r){n||Pe.test(t)?i(t,r):W(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==pt.type(e))i(t,e);else for(r in e)W(t+"["+r+"]",e[r],n,i)}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Et)||[];if(pt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Y(t,e,n,i){function r(s){var u;return o[s]=!0,pt.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=t===Ge;return r(e.dataTypes[0])||!o["*"]&&r("*")}function $(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function Q(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function K(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function J(t){return pt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var tt=[],et=t.document,nt=Object.getPrototypeOf,it=tt.slice,rt=tt.concat,ot=tt.push,at=tt.indexOf,st={},ut=st.toString,lt=st.hasOwnProperty,ct=lt.toString,ht=ct.call(Object),ft={},dt="3.1.1",pt=function(t,e){return new pt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_t=/^-ms-/,mt=/-([a-z])/g,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:dt,constructor:pt,length:0,toArray:function(){return it.call(this)},get:function(t){return null==t?it.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},pt.extend=pt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||pt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(pt.isPlainObject(i)||(r=pt.isArray(i)))?(r?(r=!1,o=n&&pt.isArray(n)?n:[]):o=n&&pt.isPlainObject(n)?n:{},a[e]=pt.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},pt.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=pt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ut.call(t)||(e=nt(t))&&(n=lt.call(e,"constructor")&&e.constructor,"function"!=typeof n||ct.call(n)!==ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?st[ut.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(_t,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:at.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;o<a;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,n){var r,o,a=0,s=[];if(i(t))for(r=t.length;a<r;a++)o=e(t[a],a,n),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&s.push(o);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),pt.isFunction(t))return i=it.call(arguments,2),r=function(){return t.apply(e||this,i.concat(it.call(arguments)))},r.guid=t.guid=t.guid||pt.guid++,r},now:Date.now,support:ft}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=tt[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,n,i){var r,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:j)!==O&&D(e),e=e||O,R)){if(11!==p&&(u=mt.exec(t)))if(r=u[1]){if(9===p){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&V(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return K.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&S.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(r)),n}if(S.qsa&&!X[t+" "]&&(!z||!z.test(t))){if(1!==p)f=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,St):e.setAttribute("id",s=B),l=P(t),o=l.length;o--;)l[o]="#"+s+" "+d(l[o]);c=l.join(","),f=vt.test(t)&&h(e.parentNode)||e}if(c)try{return K.apply(n,f.querySelectorAll(c)),n}catch(t){}finally{s===B&&e.removeAttribute("id")}}}return C(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=O.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t;
}}function l(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Lt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=F++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,u){var l,c,h,f=[U,s];if(u){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(h=e[B]||(e[B]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===U&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function v(t,e,n,r,o,a){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,a)),i(function(i,a,s,u){var l,c,h,f=[],d=[],p=a.length,g=i||_(e||"*",s.nodeType?[s]:s,[]),v=!t||!i&&e?g:m(g,f,t,s,u),y=n?o||(i?t:p||r)?[]:a:v;if(n&&n(v,y,s,u),r)for(l=m(y,d),r(l,[],s,u),c=l.length;c--;)(h=l[c])&&(y[d[c]]=!(v[d[c]]=h));if(i){if(o||t){if(o){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(v[c]=h);o(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=o?tt(i,h):f[c])>-1&&(i[l]=!(a[l]=h))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,u):K.apply(a,y)})}function y(t){for(var e,n,i,r=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=p(function(t){return t===e},a,!0),l=p(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==M)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];s<r;s++)if(n=w.relative[t[s].type])c=[p(g(c),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[B]){for(i=++s;i<r&&!w.relative[t[i].type];i++);return v(s>1&&g(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&y(t.slice(s,i)),i<r&&y(t=t.slice(i)),i<r&&d(t))}c.push(n)}return g(c)}function x(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,u,l){var c,h,f,d=0,p="0",g=i&&[],_=[],v=M,y=i||o&&w.find.TAG("*",l),x=U+=null==v?1:Math.random()||.1,b=y.length;for(l&&(M=a===O||a||l);p!==b&&null!=(c=y[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===O||(D(c),s=!R);f=t[h++];)if(f(c,a||O,s)){u.push(c);break}l&&(U=x)}r&&((c=!f&&c)&&d--,i&&g.push(c))}if(d+=p,r&&p!==d){for(h=0;f=n[h++];)f(g,_,a,s);if(i){if(d>0)for(;p--;)g[p]||_[p]||(_[p]=$.call(u));_=m(_)}K.apply(u,_),l&&!i&&_.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(U=x,M=v),g};return r?i(a):a}var b,S,w,L,T,P,A,C,M,E,k,D,O,I,R,z,N,G,V,B="sizzle"+1*new Date,j=t.document,U=0,F=0,H=n(),Z=n(),X=n(),W=function(t,e){return t===e&&(k=!0),0},q={}.hasOwnProperty,Y=[],$=Y.pop,Q=Y.push,K=Y.push,J=Y.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,St=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){D()},Lt=p(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{K.apply(Y=J.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(t){K={apply:Y.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}S=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,I=O.documentElement,R=!T(O),j!==O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),S.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=_t.test(O.getElementsByClassName),S.getById=r(function(t){return I.appendChild(t).id=B,!O.getElementsByName||!O.getElementsByName(B).length}),S.getById?(w.filter.ID=function(t){var e=t.replace(yt,xt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n?[n]:[]}}):(w.filter.ID=function(t){var e=t.replace(yt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),w.find.TAG=S.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):S.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=S.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&R)return e.getElementsByClassName(t)},N=[],z=[],(S.qsa=_t.test(O.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&z.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||z.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||z.push("~="),t.querySelectorAll(":checked").length||z.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||z.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&z.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&z.push(":enabled",":disabled"),I.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&z.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),z.push(",.*:")})),(S.matchesSelector=_t.test(G=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){S.disconnectedMatch=G.call(t,"*"),G.call(t,"[s!='']:x"),N.push("!=",ot)}),z=z.length&&new RegExp(z.join("|")),N=N.length&&new RegExp(N.join("|")),e=_t.test(I.compareDocumentPosition),V=e||_t.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return k=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!S.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===j&&V(j,t)?-1:e===O||e.ownerDocument===j&&V(j,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return k=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!r||!o)return t===O?-1:e===O?1:r?-1:o?1:E?tt(E,t)-tt(E,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===j?-1:u[i]===j?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&D(t),n=n.replace(ct,"='$1']"),S.matchesSelector&&R&&!X[n+" "]&&(!N||!N.test(n))&&(!z||!z.test(n)))try{var i=G.call(t,n);if(i||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&D(t),V(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&D(t);var n=w.attrHandle[e.toLowerCase()],i=n&&q.call(w.attrHandle,e.toLowerCase())?n(t,e,!R):void 0;return void 0!==i?i:S.attributes||!R?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(bt,St)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(k=!S.detectDuplicates,E=!S.sortStable&&t.slice(0),t.sort(W),k){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},L=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=L(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=L(e);return n},w=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=P(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",_=e.parentNode,m=s&&e.nodeName.toLowerCase(),v=!u&&!s,y=!1;if(_){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?_.firstChild:_.lastChild],a&&v){for(f=_,h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===U&&l[1],y=d&&l[2],f=d&&_.childNodes[d];f=++d&&f&&f[g]||(y=d=0)||p.pop();)if(1===f.nodeType&&++y&&f===e){c[t]=[U,d,y];break}}else if(v&&(f=e,h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===U&&l[1],y=d),y===!1)for(;(f=++d&&f&&f[g]||(y=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++y||(v&&(h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[U,y]),f!==e)););return y-=r,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(r=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=tt(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=A(t.replace(st,"$1"));return r[B]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(yt,xt),function(e){return(e.textContent||e.innerText||L(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,xt).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=u(b);return f.prototype=w.filters=w.pseudos,w.setFilters=new f,P=e.tokenize=function(t,n){var i,r,o,a,s,u,l,c=Z[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=w.preFilter;s;){i&&!(r=ut.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=lt.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in w.filter)!(r=dt[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):Z(t,u).slice(0)},A=e.compile=function(t,e){var n,i=[],r=[],o=X[t+" "];if(!o){for(e||(e=P(t)),n=e.length;n--;)o=y(e[n]),o[B]?i.push(o):r.push(o);o=X(t,x(r,i)),o.selector=t}return o},C=e.select=function(t,e,n,i){var r,o,a,s,u,l="function"==typeof t&&t,c=!i&&P(t=l.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&R&&w.relative[o[1].type]){if(e=(w.find.ID(a.matches[0].replace(yt,xt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((u=w.find[s])&&(i=u(a.matches[0].replace(yt,xt),vt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return K.apply(n,i),n;break}}return(l||A(t,c))(i,e,!R,n,!e||vt.test(t)&&h(e.parentNode)||e),n},S.sortStable=B.split("").sort(W).join("")===B,S.detectDuplicates=!!k,D(),S.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains,pt.escapeSelector=yt.escape;var xt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(n))break;i.push(t)}return i},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},St=pt.expr.match.needsContext,wt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Lt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<i;e++)if(pt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)pt.find(t,r[e],n);return i>1?pt.uniqueSort(n):n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&St.test(t)?pt(t):t||[],!1).length}});var Tt,Pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,At=pt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Pt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),wt.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=et.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):pt.isFunction(t)?void 0!==n.ready?n.ready(t):t(pt):pt.makeArray(t,this)};At.prototype=pt.fn,Tt=pt(et);var Ct=/^(?:parents|prev(?:Until|All))/,Mt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e=pt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(pt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&pt(t);if(!St.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?at.call(pt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return t.contentDocument||pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(n,i){var r=pt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pt.filter(i,r)),this.length>1&&(Mt[t]||pt.uniqueSort(r),Ct.test(t)&&r.reverse()),this.pushStack(r)}});var Et=/[^\x20\t\r\n\f]+/g;pt.Callbacks=function(t){t="string"==typeof t?a(t):pt.extend({},t);var e,n,i,r,o=[],s=[],u=-1,l=function(){for(r=t.once,i=e=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(u=o.length-1,s.push(n)),function e(n){pt.each(n,function(n,i){pt.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==pt.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;(n=pt.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?pt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},pt.extend({Deferred:function(e){var n=[["notify","progress",pt.Callbacks("memory"),pt.Callbacks("memory"),2],["resolve","done",pt.Callbacks("once memory"),pt.Callbacks("once memory"),0,"resolved"],["reject","fail",pt.Callbacks("once memory"),pt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return pt.Deferred(function(e){pt.each(n,function(n,i){var r=pt.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var l=this,c=arguments,h=function(){var t,h;if(!(e<a)){if(t=i.apply(l,c),t===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,pt.isFunction(h)?r?h.call(t,o(a,n,s,r),o(a,n,u,r)):(a++,h.call(t,o(a,n,s,r),o(a,n,u,r),o(a,n,s,n.notifyWith))):(i!==s&&(l=void 0,c=[t]),(r||n.resolveWith)(l,c))}},f=r?h:function(){try{h()}catch(t){pt.Deferred.exceptionHook&&pt.Deferred.exceptionHook(t,f.stackTrace),e+1>=a&&(i!==u&&(l=void 0,c=[t]),n.rejectWith(l,c))}};e?f():(pt.Deferred.getStackHook&&(f.stackTrace=pt.Deferred.getStackHook()),t.setTimeout(f))}}var a=0;return pt.Deferred(function(t){n[0][3].add(o(0,t,pt.isFunction(r)?r:s,t.notifyWith)),n[1][3].add(o(0,t,pt.isFunction(e)?e:s)),n[2][3].add(o(0,t,pt.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?pt.extend(t,r):r}},o={};return pt.each(n,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=it.call(arguments),o=pt.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?it.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(l(t,o.done(a(n)).resolve,o.reject),"pending"===o.state()||pt.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)l(r[n],a(n),o.reject);return o.promise()}});var kt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&kt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},pt.readyException=function(e){t.setTimeout(function(){throw e})};var Dt=pt.Deferred();pt.fn.ready=function(t){return Dt.then(t).catch(function(t){pt.readyException(t)}),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||Dt.resolveWith(et,[pt]))}}),pt.ready.then=Dt.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(pt.ready):(et.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Ot=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===pt.type(n)){r=!0;for(s in n)Ot(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,pt.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(pt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o},It=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},It(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[pt.camelCase(e)]=n;else for(i in e)r[pt.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][pt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){pt.isArray(e)?e=e.map(pt.camelCase):(e=pt.camelCase(e),e=e in i?[e]:e.match(Et)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||pt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!pt.isEmptyObject(e)}};var Rt=new h,zt=new h,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Gt=/[A-Z]/g;pt.extend({hasData:function(t){return zt.hasData(t)||Rt.hasData(t)},data:function(t,e,n){return zt.access(t,e,n)},removeData:function(t,e){zt.remove(t,e)},_data:function(t,e,n){return Rt.access(t,e,n)},_removeData:function(t,e){Rt.remove(t,e)}}),pt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=zt.get(o),1===o.nodeType&&!Rt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=pt.camelCase(i.slice(5)),d(o,i,r[i])));Rt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){zt.set(this,t)}):Ot(this,function(e){var n;if(o&&void 0===e){if(n=zt.get(o,t),void 0!==n)return n;if(n=d(o,t),void 0!==n)return n}else this.each(function(){zt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){zt.remove(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Rt.get(t,e),n&&(!i||pt.isArray(n)?i=Rt.access(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),o=pt._queueHooks(t,e),a=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Rt.get(t,n)||Rt.access(t,n,{empty:pt.Callbacks("once memory").add(function(){Rt.remove(t,[e+"queue",n])})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):void 0===e?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Rt.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Vt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+Vt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Ut=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&pt.contains(t.ownerDocument,t)&&"none"===pt.css(t,"display")},Ft=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Ht={};pt.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ut(this)?pt(this).show():pt(this).hide()})}});var Zt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Wt=/^$|\/(?:java|ecma)script/i,qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td;var Yt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ft.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var $t=et.documentElement,Qt=/^key/,Kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Jt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,h,f,d,p,g,_=Rt.get(t);if(_)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&pt.find.matchesSelector($t,r),n.guid||(n.guid=pt.guid++),(u=_.events)||(u=_.events={}),(a=_.handle)||(a=_.handle=function(e){return"undefined"!=typeof pt&&pt.event.triggered!==e.type?pt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Et)||[""],l=e.length;l--;)s=Jt.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(h=pt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=pt.event.special[d]||{},c=pt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),pt.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,l,c,h,f,d,p,g,_=Rt.hasData(t)&&Rt.get(t);if(_&&(u=_.events)){for(e=(e||"").match(Et)||[""],l=e.length;l--;)if(s=Jt.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(h=pt.event.special[d]||{},
d=(i?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&h.teardown.call(t,p,_.handle)!==!1||pt.removeEvent(t,d,_.handle),delete u[d])}else for(d in u)pt.event.remove(t,d+e[l],n,i,!0);pt.isEmptyObject(u)&&Rt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=pt.event.fix(t),u=new Array(arguments.length),l=(Rt.get(this,"events")||{})[s.type]||[],c=pt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=pt.event.handlers.call(this,s,l),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,i=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),void 0!==i&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||l.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?pt(r,this).index(l)>-1:pt.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(pt.Event.prototype,t,{enumerable:!0,configurable:!0,get:pt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[pt.expando]?t:new pt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},pt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?x:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=x,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=x,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=x,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Qt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},pt.event.addProp),pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||pt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),pt.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=b),this.each(function(){pt.event.remove(this,t,n,e)})}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pt.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=pt.contains(t.ownerDocument,t);if(!(ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(a=m(s),o=m(t),i=0,r=o.length;i<r;i++)C(o[i],a[i]);if(e)if(n)for(o=o||m(t),a=a||m(s),i=0,r=o.length;i<r;i++)A(o[i],a[i]);else A(t,s);return a=m(s,"script"),a.length>0&&v(a,!u&&m(t,"script")),s},cleanData:function(t){for(var e,n,i,r=pt.event.special,o=0;void 0!==(n=t[o]);o++)if(It(n)){if(e=n[Rt.expando]){if(e.events)for(i in e.events)r[i]?pt.event.remove(n,i):pt.removeEvent(n,i,e.handle);n[Rt.expando]=void 0}n[zt.expando]&&(n[zt.expando]=void 0)}}}),pt.fn.extend({detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?pt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=L(this,t);e.appendChild(t)}})},prepend:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=L(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(pt.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ee.test(t)&&!qt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(pt.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return M(this,arguments,function(e){var n=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(m(this)),n&&n.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=[],r=pt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),pt(r[a])[e](n),ot.apply(i,n.get());return this.pushStack(i)}});var oe=/^margin/,ae=new RegExp("^("+Vt+")(?!px)[a-z%]+$","i"),se=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",$t.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,$t.removeChild(a),s=null}}var n,i,r,o,a=et.createElement("div"),s=et.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),pt.extend(ft,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var ue=/^(none|table(?!-c[ea]).+)/,le={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},he=["Webkit","Moz","ms"],fe=et.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=k(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=pt.camelCase(e),u=t.style;return e=pt.cssProps[s]||(pt.cssProps[s]=O(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Bt.exec(n))&&r[1]&&(n=p(t,e,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(pt.cssNumber[s]?"":"px")),ft.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u[e]=n))))}},css:function(t,e,n,i){var r,o,a,s=pt.camelCase(e);return e=pt.cssProps[s]||(pt.cssProps[s]=O(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=k(t,e,i)),"normal"===r&&e in ce&&(r=ce[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){if(n)return!ue.test(pt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?z(t,e,i):Ft(t,le,function(){return z(t,e,i)})},set:function(t,n,i){var r,o=i&&se(t),a=i&&R(t,e,i,"border-box"===pt.css(t,"boxSizing",!1,o),o);return a&&(r=Bt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=pt.css(t,e)),I(t,n,a)}}}),pt.cssHooks.marginLeft=D(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(k(t,"marginLeft"))||t.getBoundingClientRect().left-Ft(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+jt[i]+e]=o[i]||o[i-2]||o[0];return r}},oe.test(t)||(pt.cssHooks[t+e].set=I)}),pt.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var i,r,o={},a=0;if(pt.isArray(e)){for(i=se(t),r=e.length;a<r;a++)o[e[a]]=pt.css(t,e[a],!1,i);return o}return void 0!==n?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)}}),pt.Tween=N,N.prototype={constructor:N,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pt.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=N.prototype.init,pt.fx.step={};var de,pe,ge=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;pt.Animation=pt.extend(H,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return p(n.elem,t,Bt.exec(e),n),n}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var n,i=0,r=t.length;i<r;i++)n=t[i],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(e)},prefilters:[U],prefilter:function(t,e){e?H.prefilters.unshift(t):H.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return pt.fx.off||et.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in pt.fx.speeds?i.duration=pt.fx.speeds[i.duration]:i.duration=pt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=pt.isEmptyObject(t),o=pt.speed(e,n,i),a=function(){var e=H(this,pt.extend({},t),o);(r||Rt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,a=Rt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&_e.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Rt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=pt.timers,a=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(B(e,!0),t,i,r)}}),pt.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.timers=[],pt.fx.tick=function(){var t,e=0,n=pt.timers;for(de=pt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||pt.fx.stop(),de=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){pe||(pe=t.requestAnimationFrame?t.requestAnimationFrame(G):t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(pe):t.clearInterval(pe),pe=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,n){return e=pt.fx?pt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",ft.checkOn=""!==t.value,ft.optSelected=n.selected,t=et.createElement("input"),t.value="t",t.type="radio",ft.radioValue="t"===t.value}();var me,ve=pt.expr.attrHandle;pt.fn.extend({attr:function(t,e){return Ot(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===o&&pt.isXMLDoc(t)||(r=pt.attrHooks[e.toLowerCase()]||(pt.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=pt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Et);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),me={set:function(t,e,n){return e===!1?pt.removeAttr(t,n):t.setAttribute(n,n),n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ve[e]||pt.find.attr;ve[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=ve[a],ve[a]=r,r=null!=n(t,e,i)?a:null,ve[a]=o),r}});var ye=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Ot(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[pt.propFix[t]||t]})}}),pt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ft.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[u++];)if(r=X(n),i=1===n.nodeType&&" "+Z(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=Z(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[u++];)if(r=X(n),i=1===n.nodeType&&" "+Z(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=Z(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,X(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=pt(this),o=t.match(Et)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=X(this),e&&Rt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Rt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+Z(X(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;pt.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=pt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,pt(this).val()):t,null==r?r="":"number"==typeof r?r+="":pt.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(be,""):null==n?"":n)):void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:Z(pt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=pt.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=pt.inArray(pt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},ft.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Se=/^(?:focusinfocus|focusoutblur)$/;pt.extend(pt.event,{trigger:function(e,n,i,r){var o,a,s,u,l,c,h,f=[i||et],d=lt.call(e,"type")?e.type:e,p=lt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||et,3!==i.nodeType&&8!==i.nodeType&&!Se.test(d+pt.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[pt.expando]?e:new pt.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:pt.makeArray(n,[e]),h=pt.event.special[d]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!pt.isWindow(i)){for(u=h.delegateType||d,Se.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||et)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,c=(Rt.get(a,"events")||{})[e.type]&&Rt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&It(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!It(i)||l&&pt.isFunction(i[d])&&!pt.isWindow(i)&&(s=i[l],s&&(i[l]=null),pt.event.triggered=d,i[d](),pt.event.triggered=void 0,s&&(i[l]=s)),e.result}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e)}}),pt.fn.extend({trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}}),pt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ft.focusin="onfocusin"in t,ft.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Rt.access(i,e);r||i.addEventListener(t,n,!0),Rt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Rt.access(i,e)-1;r?Rt.access(i,e,r):(i.removeEventListener(t,n,!0),Rt.remove(i,e))}}});var we=t.location,Le=pt.now(),Te=/\?/;pt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),n};var Pe=/\[\]$/,Ae=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],r=function(t,e){var n=pt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)W(n,t[n],e,r);return i.join("&")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Me.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!Zt.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Ee=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Re=/^(?:GET|HEAD)$/,ze=/^\/\//,Ne={},Ge={},Ve="*/".concat("*"),Be=et.createElement("a");Be.href=we.href,pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:Ie.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,pt.ajaxSettings),e):$(pt.ajaxSettings,t)},ajaxPrefilter:q(Ne),ajaxTransport:q(Ge),ajax:function(e,n){function i(e,n,i,s){var l,f,d,x,b,S=n;c||(c=!0,u&&t.clearTimeout(u),r=void 0,a=s||"",w.readyState=e>0?4:0,l=e>=200&&e<300||304===e,i&&(x=Q(p,w,i)),x=K(p,x,w,l),l?(p.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(pt.lastModified[o]=b),b=w.getResponseHeader("etag"),b&&(pt.etag[o]=b)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=x.state,f=x.data,d=x.error,l=!d)):(d=S,!e&&S||(S="error",e<0&&(e=0))),w.status=e,w.statusText=(n||S)+"",l?m.resolveWith(g,[f,S,w]):m.rejectWith(g,[w,S,d]),w.statusCode(y),y=void 0,h&&_.trigger(l?"ajaxSuccess":"ajaxError",[w,p,l?f:d]),v.fireWith(g,[w,S]),h&&(_.trigger("ajaxComplete",[w,p]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,u,l,c,h,f,d,p=pt.ajaxSetup({},n),g=p.context||p,_=p.context&&(g.nodeType||g.jquery)?pt(g):pt.event,m=pt.Deferred(),v=pt.Callbacks("once memory"),y=p.statusCode||{},x={},b={},S="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Oe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)w.always(t[w.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||S;return r&&r.abort(e),i(0,e),this}};if(m.promise(w),p.url=((e||p.url||we.href)+"").replace(ze,we.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Et)||[""],null==p.crossDomain){l=et.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Be.protocol+"//"+Be.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pt.param(p.data,p.traditional)),Y(Ne,p,n,w),c)return w;h=pt.event&&p.global,h&&0===pt.active++&&pt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Re.test(p.type),o=p.url.replace(ke,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ee,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Te.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(De,"$1"),d=(Te.test(o)?"&":"?")+"_="+Le++ +d),p.url=o+d),p.ifModified&&(pt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&w.setRequestHeader("If-None-Match",pt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ve+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)w.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(g,w,p)===!1||c))return w.abort();if(S="abort",v.add(p.complete),w.done(p.success),w.fail(p.error),r=Y(Ge,p,n,w)){if(w.readyState=1,h&&_.trigger("ajaxSend",[w,p]),c)return w;p.async&&p.timeout>0&&(u=t.setTimeout(function(){w.abort("timeout")},p.timeout));try{c=!1,r.send(x,i)}catch(t){if(c)throw t;i(-1,t)}}else i(-1,"No Transport");return w},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,r){return pt.isFunction(n)&&(r=r||i,i=n,n=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:n,success:i},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pt.fn.extend({wrapAll:function(t){var e;return this[0]&&(pt.isFunction(t)&&(t=t.call(this[0])),e=pt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){pt(this).replaceWith(this.childNodes)}),this}}),pt.expr.pseudos.hidden=function(t){return!pt.expr.pseudos.visible(t)},pt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},Ue=pt.ajaxSettings.xhr();ft.cors=!!Ue&&"withCredentials"in Ue,ft.ajax=Ue=!!Ue,pt.ajaxTransport(function(e){var n,i;if(ft.cors||Ue&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){
return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=pt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Fe=[],He=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Fe.pop()||pt.expando+"_"+Le++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(He.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&He.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(He,"$1"+r):e.jsonp!==!1&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||pt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Fe.push(r)),a&&pt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ft.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),pt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(ft.createHTMLDocument?(e=et.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=et.location.href,e.head.appendChild(i)):e=et),r=wt.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=y([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],r.childNodes))},pt.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=Z(t.slice(s)),t=t.slice(0,s)),pt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.pseudos.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l,c=pt.css(t,"position"),h=pt(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=pt.css(t,"top"),u=pt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):h.css(f)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),i.width||i.height?(r=o.ownerDocument,n=J(r),e=r.documentElement,{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i={top:i.top+pt.css(t[0],"borderTopWidth",!0),left:i.left+pt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||$t})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;pt.fn[t]=function(i){return Ot(this,function(t,i,r){var o=J(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=D(ft.pixelPosition,function(t,n){if(n)return n=k(t,e),ae.test(n)?pt(t).position()[e]+"px":n})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Ot(this,function(e,n,r){var o;return pt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?pt.css(e,n,s):pt.style(e,n,r,s)},e,a?r:void 0,a)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var Ze=t.jQuery,Xe=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=Xe),e&&t.jQuery===pt&&(t.jQuery=Ze),pt},e||(t.jQuery=t.$=pt),pt}),function(t){t.Map=L.map("map").setView([47.3208995,5.0372081],11);L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(t.Map)}(window.Pub=window.Pub||{}),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function r(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function o(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function s(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function u(t,e){return!(null==t||!t.length)&&-1<m(t,e,0)}function l(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function c(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function h(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function f(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function d(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function p(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function g(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function _(t,e,n,i){var r=t.length;for(n+=i?1:-1;i?n--:++n<r;)if(e(t[n],n,t))return n;return-1}function m(t,e,n){if(e===e)t:{--n;for(var i=t.length;++n<i;)if(t[n]===e){t=n;break t}t=-1}else t=_(t,y,n);return t}function v(t,e,n,i){--n;for(var r=t.length;++n<r;)if(i(t[n],e))return n;return-1}function y(t){return t!==t}function x(t,e){var n=null==t?0:t.length;return n?T(t,e)/n:F}function b(t){return function(e){return null==e?j:e[t]}}function S(t){return function(e){return null==t?j:t[e]}}function w(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function L(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function T(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==j&&(n=n===j?o:n+o)}return n}function P(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function A(t,e){return c(e,function(e){return[e,t[e]]})}function C(t){return function(e){return t(e)}}function M(t,e){return c(e,function(e){return t[e]})}function E(t,e){return t.has(e)}function k(t,e){for(var n=-1,i=t.length;++n<i&&-1<m(e,t[n],0););return n}function D(t,e){for(var n=t.length;n--&&-1<m(e,t[n],0););return n}function O(t){return"\\"+Gt[t]}function I(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function R(t,e){return function(n){return t(e(n))}}function z(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&"__lodash_placeholder__"!==a||(t[n]="__lodash_placeholder__",o[r++]=n)}return o}function N(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function V(t){if(Dt.test(t)){for(var e=Et.lastIndex=0;Et.test(t);)++e;t=e}else t=te(t);return t}function B(t){return Dt.test(t)?t.match(Et)||[]:t.split("")}var j,U=1/0,F=NaN,H=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Z=/\b__p\+='';/g,X=/\b(__p\+=)''\+/g,W=/(__e\(.*?\)|\b__t\))\+'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(q.source),Q=RegExp(Y.source),K=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/^\./,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,at=RegExp(ot.source),st=/^\s+|\s+$/g,ut=/^\s+/,lt=/\s+$/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ht=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/\\(\\)?/g,gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,xt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,St=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,Lt=/['\n\r\u2028\u2029\\]/g,Tt="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",Pt="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Tt,At="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Ct=RegExp("[']","g"),Mt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Et=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+At+Tt,"g"),kt=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)|\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)|\\d+",Pt].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Ot=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,It="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Rt={};Rt["[object Float32Array]"]=Rt["[object Float64Array]"]=Rt["[object Int8Array]"]=Rt["[object Int16Array]"]=Rt["[object Int32Array]"]=Rt["[object Uint8Array]"]=Rt["[object Uint8ClampedArray]"]=Rt["[object Uint16Array]"]=Rt["[object Uint32Array]"]=!0,Rt["[object Arguments]"]=Rt["[object Array]"]=Rt["[object ArrayBuffer]"]=Rt["[object Boolean]"]=Rt["[object DataView]"]=Rt["[object Date]"]=Rt["[object Error]"]=Rt["[object Function]"]=Rt["[object Map]"]=Rt["[object Number]"]=Rt["[object Object]"]=Rt["[object RegExp]"]=Rt["[object Set]"]=Rt["[object String]"]=Rt["[object WeakMap]"]=!1;var zt={};zt["[object Arguments]"]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object DataView]"]=zt["[object Boolean]"]=zt["[object Date]"]=zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Map]"]=zt["[object Number]"]=zt["[object Object]"]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object Symbol]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=!0,zt["[object Error]"]=zt["[object Function]"]=zt["[object WeakMap]"]=!1;var Nt,Gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=parseFloat,Bt=parseInt,jt="object"==typeof global&&global&&global.Object===Object&&global,Ut="object"==typeof self&&self&&self.Object===Object&&self,Ft=jt||Ut||Function("return this")(),Ht="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zt=Ht&&"object"==typeof module&&module&&!module.nodeType&&module,Xt=Zt&&Zt.exports===Ht,Wt=Xt&&jt.h;t:{try{Nt=Wt&&Wt.g("util");break t}catch(t){}Nt=void 0}var qt=Nt&&Nt.isArrayBuffer,Yt=Nt&&Nt.isDate,$t=Nt&&Nt.isMap,Qt=Nt&&Nt.isRegExp,Kt=Nt&&Nt.isSet,Jt=Nt&&Nt.isTypedArray,te=b("length"),ee=S({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),ne=S({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),ie=S({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),re=function S(Tt){function Pt(t){if(_r(t)&&!rs(t)&&!(t instanceof Nt)){if(t instanceof Et)return t;if(ro.call(t,"__wrapped__"))return Vi(t)}return new Et(t)}function At(){}function Et(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=j}function Nt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function jt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ut(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ht(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ut;++e<n;)this.add(t[e])}function Zt(t){this.size=(this.__data__=new jt(t)).size}function Wt(t,e){var n,i=rs(t),r=!i&&is(t),o=!i&&!r&&as(t),a=!i&&!r&&!o&&hs(t),r=(i=i||r||o||a)?P(t.length,Kr):[],s=r.length;for(n in t)!e&&!ro.call(t,n)||i&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Li(n,s))||r.push(n);return r}function te(t){var e=t.length;return e?t[un(0,e-1)]:j}function oe(t,e){return Ri(Nn(t),ge(e,0,t.length))}function ae(t){return Ri(Nn(t))}function se(t,e,n,i){return t===j||ur(t,eo[n])&&!ro.call(i,n)?e:t}function ue(t,e,n){(n===j||ur(t[e],n))&&(n!==j||e in t)||de(t,e,n)}function le(t,e,n){var i=t[e];ro.call(t,e)&&ur(i,n)&&(n!==j||e in t)||de(t,e,n)}function ce(t,e){for(var n=t.length;n--;)if(ur(t[n][0],e))return n;return-1}function he(t,e,n,i){return ia(t,function(t,r,o){e(i,t,n(t),o)}),i}function fe(t,e){return t&&Gn(e,Er(e),t)}function de(t,e,n){"__proto__"==e&&wo?wo(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function pe(t,e){for(var n=-1,i=e.length,r=Zr(i),o=null==t;++n<i;)r[n]=o?j:Cr(t,e[n]);return r}function ge(t,e,n){return t===t&&(n!==j&&(t=t<=n?t:n),e!==j&&(t=t>=e?t:e)),t}function _e(t,e,n,i,o,a,s){var u;if(i&&(u=a?i(t,o,a,s):i(t)),u!==j)return u;if(!gr(t))return t;if(o=rs(t)){if(u=xi(t),!e)return Nn(t,u)}else{var l=pa(t),c="[object Function]"==l||"[object GeneratorFunction]"==l;if(as(t))return kn(t,e);if("[object Object]"==l||"[object Arguments]"==l||c&&!a){if(u=bi(c?{}:t),!e)return Vn(t,fe(u,t))}else{if(!zt[l])return a?t:{};u=Si(t,l,_e,e)}}if(s||(s=new Zt),a=s.get(t))return a;s.set(t,u);var h=o?j:(n?fi:Er)(t);return r(h||t,function(r,o){h&&(o=r,r=t[o]),le(u,o,_e(r,e,n,i,o,t,s))}),u}function me(t){var e=Er(t);return function(n){return ve(n,t,e)}}function ve(t,e,n){var i=n.length;if(null==t)return!i;for(t=$r(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===j&&!(r in t)||!o(a))return!1}return!0}function ye(t,e,n){if("function"!=typeof t)throw new Jr("Expected a function");return ma(function(){t.apply(j,n)},e)}function xe(t,e,n,i){var r=-1,o=u,a=!0,s=t.length,h=[],f=e.length;if(!s)return h;n&&(e=c(e,C(n))),i?(o=l,a=!1):200<=e.length&&(o=E,a=!1,e=new Ht(e));t:for(;++r<s;){var d=t[r],p=null==n?d:n(d),d=i||0!==d?d:0;if(a&&p===p){for(var g=f;g--;)if(e[g]===p)continue t;h.push(d)}else o(e,p,i)||h.push(d)}return h}function be(t,e){var n=!0;return ia(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Se(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===j?a===a&&!xr(a):n(a,s)))var s=a,u=o}return u}function we(t,e){var n=[];return ia(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Le(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=wi),r||(r=[]);++o<a;){var s=t[o];0<e&&n(s)?1<e?Le(s,e-1,n,i,r):h(r,s):i||(r[r.length]=s)}return r}function Te(t,e){return t&&oa(t,e,Er)}function Pe(t,e){return t&&aa(t,e,Er)}function Ae(t,e){return s(e,function(e){return fr(t[e])})}function Ce(t,e){e=Pi(e,t)?[e]:Mn(e);for(var n=0,i=e.length;null!=t&&n<i;)t=t[zi(e[n++])];return n&&n==i?t:j}function Me(t,e,n){return e=e(t),rs(t)?e:h(e,n(t))}function Ee(t){if(null==t)return t===j?"[object Undefined]":"[object Null]";t=$r(t);var e;if(So&&So in t){var n=ro.call(t,So),i=t[So];try{t[So]=j,e=!0}catch(t){}var r=so.call(t);e&&(n?t[So]=i:delete t[So]),e=r}else e=so.call(t);return e}function ke(t,e){return t>e}function De(t,e){return null!=t&&ro.call(t,e)}function Oe(t,e){return null!=t&&e in $r(t)}function Ie(t,e,n){for(var i=n?l:u,r=t[0].length,o=t.length,a=o,s=Zr(o),h=1/0,f=[];a--;){var d=t[a];a&&e&&(d=c(d,C(e))),h=Ro(d.length,h),s[a]=!n&&(e||120<=r&&120<=d.length)?new Ht(a&&d):j}var d=t[0],p=-1,g=s[0];t:for(;++p<r&&f.length<h;){var _=d[p],m=e?e(_):_,_=n||0!==_?_:0;if(g?!E(g,m):!i(f,m,n)){for(a=o;--a;){var v=s[a];if(v?!E(v,m):!i(t[a],m,n))continue t}g&&g.push(m),f.push(_)}}return f}function Re(t,e,n){var i={};return Te(t,function(t,r,o){e(i,n(t),r,o)}),i}function ze(t,e,i){return Pi(e,t)||(e=Mn(e),t=Di(t,e),e=Hi(e)),e=null==t?t:t[zi(e)],null==e?j:n(e,t,i)}function Ne(t){return _r(t)&&"[object Arguments]"==Ee(t)}function Ge(t){return _r(t)&&"[object ArrayBuffer]"==Ee(t)}function Ve(t){return _r(t)&&"[object Date]"==Ee(t)}function Be(t,e,n,i,r){if(t===e)e=!0;else if(null==t||null==e||!gr(t)&&!_r(e))e=t!==t&&e!==e;else t:{var o=rs(t),a=rs(e),s="[object Array]",u="[object Array]";o||(s=pa(t),s="[object Arguments]"==s?"[object Object]":s),a||(u=pa(e),u="[object Arguments]"==u?"[object Object]":u);var l="[object Object]"==s,a="[object Object]"==u;if((u=s==u)&&as(t)){if(!as(e)){e=!1;break t}o=!0,l=!1}if(u&&!l)r||(r=new Zt),e=o||hs(t)?li(t,e,Be,n,i,r):ci(t,e,s,Be,n,i,r);else{if(!(2&i)&&(o=l&&ro.call(t,"__wrapped__"),s=a&&ro.call(e,"__wrapped__"),o||s)){t=o?t.value():t,e=s?e.value():e,r||(r=new Zt),e=Be(t,e,n,i,r);break t}if(u)e:if(r||(r=new Zt),o=2&i,s=Er(t),a=s.length,u=Er(e).length,a==u||o){for(l=a;l--;){var c=s[l];if(!(o?c in e:ro.call(e,c))){e=!1;break e}}if((u=r.get(t))&&r.get(e))e=u==e;else{u=!0,r.set(t,e),r.set(e,t);for(var h=o;++l<a;){var c=s[l],f=t[c],d=e[c];if(n)var p=o?n(d,f,c,e,t,r):n(f,d,c,t,e,r);if(p===j?f!==d&&!Be(f,d,n,i,r):!p){u=!1;break}h||(h="constructor"==c)}u&&!h&&(n=t.constructor,i=e.constructor,n!=i&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)&&(u=!1)),r.delete(t),r.delete(e),e=u}}else e=!1;else e=!1}}return e}function je(t){return _r(t)&&"[object Map]"==pa(t)}function Ue(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=$r(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var s=n[r],u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===j&&!(u in t))return!1}else{if(s=new Zt,i)var h=i(l,c,u,t,e,s);if(h===j?!Be(c,l,i,3,s):!h)return!1}}return!0}function Fe(t){return!(!gr(t)||ao&&ao in t)&&(fr(t)?co:yt).test(Ni(t))}function He(t){return _r(t)&&"[object RegExp]"==Ee(t)}function Ze(t){return _r(t)&&"[object Set]"==pa(t)}function Xe(t){return _r(t)&&pr(t.length)&&!!Rt[Ee(t)]}function We(t){return"function"==typeof t?t:null==t?Gr:"object"==typeof t?rs(t)?Ke(t[0],t[1]):Qe(t):Ur(t)}function qe(t){if(!Ci(t))return Oo(t);var e,n=[];for(e in $r(t))ro.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Ye(t,e){return t<e}function $e(t,e){var n=-1,i=lr(t)?Zr(t.length):[];return ia(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Qe(t){var e=mi(t);return 1==e.length&&e[0][2]?Mi(e[0][0],e[0][1]):function(n){return n===t||Ue(n,t,e)}}function Ke(t,e){return Pi(t)&&e===e&&!gr(e)?Mi(zi(t),e):function(n){var i=Cr(n,t);return i===j&&i===e?Mr(n,t):Be(e,i,j,3)}}function Je(t,e,n,i,r){t!==e&&oa(e,function(o,a){if(gr(o)){r||(r=new Zt);var s=r,u=t[a],l=e[a],c=s.get(l);if(c)ue(t,a,c);else{var c=i?i(u,l,a+"",t,e,s):j,h=c===j;if(h){var f=rs(l),d=!f&&as(l),p=!f&&!d&&hs(l),c=l;f||d||p?rs(u)?c=u:cr(u)?c=Nn(u):d?(h=!1,c=kn(l,!0)):p?(h=!1,c=On(l,!0)):c=[]:vr(l)||is(l)?(c=u,is(u)?c=Pr(u):(!gr(u)||n&&fr(u))&&(c=bi(l))):h=!1}h&&(s.set(l,c),Je(c,l,n,i,s),s.delete(l)),ue(t,a,c)}}else s=i?i(t[a],o,a+"",t,e,r):j,s===j&&(s=o),ue(t,a,s)},kr)}function tn(t,e){var n=t.length;if(n)return e+=0>e?n:0,Li(e,n)?t[e]:j}function en(t,e,n){var i=-1;return e=c(e.length?e:[Gr],C(gi())),t=$e(t,function(t){return{a:c(e,function(e){return e(t)}),b:++i,c:t}}),L(t,function(t,e){var i;t:{i=-1;for(var r=t.a,o=e.a,a=r.length,s=n.length;++i<a;){var u=In(r[i],o[i]);if(u){i=i>=s?u:u*("desc"==n[i]?-1:1);break t}}i=t.b-e.b}return i})}function nn(t,e){return t=$r(t),rn(t,e,function(e,n){return n in t})}function rn(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=t[a];n(s,a)&&de(o,a,s)}return o}function on(t){return function(e){return Ce(e,t)}}function an(t,e,n,i){var r=i?v:m,o=-1,a=e.length,s=t;for(t===e&&(e=Nn(e)),n&&(s=c(t,C(n)));++o<a;)for(var u=0,l=e[o],l=n?n(l):l;-1<(u=r(s,l,u,i));)s!==t&&yo.call(s,u,1),yo.call(t,u,1);return t}function sn(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;if(Li(r))yo.call(t,r,1);else if(Pi(r,t))delete t[zi(r)];else{var r=Mn(r),a=Di(t,r);null!=a&&delete a[zi(Hi(r))]}}}}function un(t,e){return t+Co(Go()*(e-t+1))}function ln(t,e){var n="";if(!t||1>e||9007199254740991<e)return n;do e%2&&(n+=t),(e=Co(e/2))&&(t+=t);while(e);return n}function cn(t,e){return va(ki(t,e,Gr),t+"")}function hn(t){return te(Or(t))}function fn(t,e){var n=Or(t);return Ri(n,ge(e,0,n.length))}function dn(t,e,n,i){if(!gr(t))return t;e=Pi(e,t)?[e]:Mn(e);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var u=zi(e[r]),l=n;if(r!=a){var c=s[u],l=i?i(c,u,s):j;l===j&&(l=gr(c)?c:Li(e[r+1])?[]:{})}le(s,u,l),s=s[u]}return t}function pn(t){return Ri(Or(t))}function gn(t,e,n){var i=-1,r=t.length;for(0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0,n=Zr(r);++i<r;)n[i]=t[i+e];return n}function _n(t,e){var n;return ia(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function mn(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&2147483647>=r){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!xr(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return vn(t,e,Gr,n)}function vn(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=xr(e),l=e===j;r<o;){var c=Co((r+o)/2),h=n(t[c]),f=h!==j,d=null===h,p=h===h,g=xr(h);(a?i||p:l?p&&(i||f):s?p&&f&&(i||!d):u?p&&f&&!d&&(i||!g):d||g?0:i?h<=e:h<e)?r=c+1:o=c}return Ro(o,4294967294)}function yn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!ur(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function xn(t){return"number"==typeof t?t:xr(t)?F:+t}function bn(t){if("string"==typeof t)return t;if(rs(t))return c(t,bn)+"";if(xr(t))return ea?ea.call(t):"";var e=t+"";return"0"==e&&1/t==-U?"-0":e}function Sn(t,e,n){var i=-1,r=u,o=t.length,a=!0,s=[],c=s;if(n)a=!1,r=l;else if(200<=o){if(r=e?null:ca(t))return N(r);a=!1,r=E,c=new Ht}else c=e?[]:s;t:for(;++i<o;){var h=t[i],f=e?e(h):h,h=n||0!==h?h:0;if(a&&f===f){for(var d=c.length;d--;)if(c[d]===f)continue t;e&&c.push(f),s.push(h)}else r(c,f,n)||(c!==s&&c.push(f),s.push(h))}return s}function wn(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?gn(t,i?0:o,i?o+1:r):gn(t,i?o+1:0,i?r:o)}function Ln(t,e){var n=t;return n instanceof Nt&&(n=n.value()),f(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function Tn(t,e,n){var i=t.length;if(2>i)return i?Sn(t[0]):[];for(var r=-1,o=Zr(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=xe(o[r]||a,t[s],e,n));return Sn(Le(o,1),e,n)}function Pn(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;)n(a,t[i],i<o?e[i]:j);return a}function An(t){return cr(t)?t:[]}function Cn(t){return"function"==typeof t?t:Gr}function Mn(t){return rs(t)?t:ya(t)}function En(t,e,n){var i=t.length;return n=n===j?i:n,!e&&n>=i?t:gn(t,e,n)}function kn(t,e){if(e)return t.slice();var n=t.length,n=go?go(n):new t.constructor(n);return t.copy(n),n}function Dn(t){var e=new t.constructor(t.byteLength);return new po(e).set(new po(t)),e}function On(t,e){return new t.constructor(e?Dn(t.buffer):t.buffer,t.byteOffset,t.length)}function In(t,e){if(t!==e){var n=t!==j,i=null===t,r=t===t,o=xr(t),a=e!==j,s=null===e,u=e===e,l=xr(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function Rn(t,e,n,i){var r=-1,o=t.length,a=n.length,s=-1,u=e.length,l=Io(o-a,0),c=Zr(u+l);for(i=!i;++s<u;)c[s]=e[s];for(;++r<a;)(i||r<o)&&(c[n[r]]=t[r]);for(;l--;)c[s++]=t[r++];return c}function zn(t,e,n,i){var r=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=Io(o-s,0),h=Zr(c+l);for(i=!i;++r<c;)h[r]=t[r];for(c=r;++u<l;)h[c+u]=e[u];for(;++a<s;)(i||r<o)&&(h[c+n[a]]=t[r++]);return h}function Nn(t,e){var n=-1,i=t.length;for(e||(e=Zr(i));++n<i;)e[n]=t[n];return e}function Gn(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):j;u===j&&(u=t[s]),r?de(n,s,u):le(n,s,u)}return n}function Vn(t,e){return Gn(t,fa(t),e)}function Bn(t,e){return function(n,r){var o=rs(n)?i:he,a=e?e():{};return o(n,t,gi(r,2),a)}}function jn(t){return cn(function(e,n){var i=-1,r=n.length,o=1<r?n[r-1]:j,a=2<r?n[2]:j,o=3<t.length&&"function"==typeof o?(r--,o):j;for(a&&Ti(n[0],n[1],a)&&(o=3>r?j:o,r=1),e=$r(e);++i<r;)(a=n[i])&&t(e,a,i,o);return e})}function Un(t,e){return function(n,i){if(null==n)return n;if(!lr(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=$r(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Fn(t){return function(e,n,i){var r=-1,o=$r(e);i=i(e);for(var a=i.length;a--;){var s=i[t?a:++r];if(!1===n(o[s],s,o))break}return e}}function Hn(t,e,n){function i(){return(this&&this!==Ft&&this instanceof i?o:t).apply(r?n:this,arguments)}var r=1&e,o=Wn(t);return i}function Zn(t){return function(e){e=Ar(e);var n=Dt.test(e)?B(e):j,i=n?n[0]:e.charAt(0);return e=n?En(n,1).join(""):e.slice(1),i[t]()+e}}function Xn(t){return function(e){return f(zr(Rr(e).replace(Ct,"")),t,"")}}function Wn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=na(t.prototype),e=t.apply(n,e);return gr(e)?e:n}}function qn(t,e,i){function r(){for(var a=arguments.length,s=Zr(a),u=a,l=pi(r);u--;)s[u]=arguments[u];return u=3>a&&s[0]!==l&&s[a-1]!==l?[]:z(s,l),a-=u.length,a<i?oi(t,e,Qn,r.placeholder,j,s,u,j,j,i-a):n(this&&this!==Ft&&this instanceof r?o:t,this,s)}var o=Wn(t);return r}function Yn(t){return function(e,n,i){var r=$r(e);if(!lr(e)){var o=gi(n,3);e=Er(e),n=function(t){return o(r[t],t,r)}}return n=t(e,n,i),-1<n?r[o?e[n]:n]:j}}function $n(t){return hi(function(e){var n=e.length,i=n,r=Et.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new Jr("Expected a function");if(r&&!a&&"wrapper"==di(o))var a=new Et([],(!0))}for(i=a?i:n;++i<n;)var o=e[i],r=di(o),s="wrapper"==r?ha(o):j,a=s&&Ai(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[di(s[0])].apply(a,s[3]):1==o.length&&Ai(o)?a[r]():a.thru(o);return function(){var t=arguments,i=t[0];if(a&&1==t.length&&rs(i)&&200<=i.length)return a.plant(i).value();for(var r=0,t=n?e[r].apply(this,t):i;++r<n;)t=e[r].call(this,t);return t}})}function Qn(t,e,n,i,r,o,a,s,u,l){function c(){for(var m=arguments.length,v=Zr(m),y=m;y--;)v[y]=arguments[y];if(p){var x,b=pi(c),y=v.length;for(x=0;y--;)v[y]===b&&++x}if(i&&(v=Rn(v,i,r,p)),o&&(v=zn(v,o,a,p)),m-=x,p&&m<l)return b=z(v,b),oi(t,e,Qn,c.placeholder,n,v,b,s,u,l-m);if(b=f?n:this,y=d?b[t]:t,m=v.length,s){x=v.length;for(var S=Ro(s.length,x),w=Nn(v);S--;){var L=s[S];v[S]=Li(L,x)?w[L]:j}}else g&&1<m&&v.reverse();return h&&u<m&&(v.length=u),this&&this!==Ft&&this instanceof c&&(y=_||Wn(y)),
y.apply(b,v)}var h=128&e,f=1&e,d=2&e,p=24&e,g=512&e,_=d?j:Wn(t);return c}function Kn(t,e){return function(n,i){return Re(n,t,e(i))}}function Jn(t,e){return function(n,i){var r;if(n===j&&i===j)return e;if(n!==j&&(r=n),i!==j){if(r===j)return i;"string"==typeof n||"string"==typeof i?(n=bn(n),i=bn(i)):(n=xn(n),i=xn(i)),r=t(n,i)}return r}}function ti(t){return hi(function(e){return e=c(e,C(gi())),cn(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function ei(t,e){e=e===j?" ":bn(e);var n=e.length;return 2>n?n?ln(e,t):e:(n=ln(e,Ao(t/V(e))),Dt.test(e)?En(B(n),0,t).join(""):n.slice(0,t))}function ni(t,e,i,r){function o(){for(var e=-1,u=arguments.length,l=-1,c=r.length,h=Zr(c+u),f=this&&this!==Ft&&this instanceof o?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++e];return n(f,a?i:this,h)}var a=1&e,s=Wn(t);return o}function ii(t){return function(e,n,i){i&&"number"!=typeof i&&Ti(e,n,i)&&(n=i=j),e=Sr(e),n===j?(n=e,e=0):n=Sr(n),i=i===j?e<n?1:-1:Sr(i);var r=-1;n=Io(Ao((n-e)/(i||1)),0);for(var o=Zr(n);n--;)o[t?n:++r]=e,e+=i;return o}}function ri(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Tr(e),n=Tr(n)),t(e,n)}}function oi(t,e,n,i,r,o,a,s,u,l){var c=8&e,h=c?a:j;a=c?j:a;var f=c?o:j;return o=c?j:o,e=(e|(c?32:64))&~(c?64:32),4&e||(e&=-4),r=[t,e,r,f,h,o,a,s,u,l],n=n.apply(j,r),Ai(t)&&_a(n,r),n.placeholder=i,Oi(n,t,e)}function ai(t){var e=Yr[t];return function(t,n){if(t=Tr(t),n=Ro(wr(n),292)){var i=(Ar(t)+"e").split("e"),i=e(i[0]+"e"+(+i[1]+n)),i=(Ar(i)+"e").split("e");return+(i[0]+"e"+(+i[1]-n))}return e(t)}}function si(t){return function(e){var n=pa(e);return"[object Map]"==n?I(e):"[object Set]"==n?G(e):A(e,t(e))}}function ui(t,e,n,i,r,o,a,s){var u=2&e;if(!u&&"function"!=typeof t)throw new Jr("Expected a function");var l=i?i.length:0;if(l||(e&=-97,i=r=j),a=a===j?a:Io(wr(a),0),s=s===j?s:wr(s),l-=r?r.length:0,64&e){var c=i,h=r;i=r=j}var f=u?j:ha(t);return o=[t,e,n,i,r,c,h,o,a,s],f&&(n=o[1],t=f[1],e=n|t,i=128==t&&8==n||128==t&&256==n&&o[7].length<=f[8]||384==t&&f[7].length<=f[8]&&8==n,131>e||i)&&(1&t&&(o[2]=f[2],e|=1&n?0:4),(n=f[3])&&(i=o[3],o[3]=i?Rn(i,n,f[4]):n,o[4]=i?z(o[3],"__lodash_placeholder__"):f[4]),(n=f[5])&&(i=o[5],o[5]=i?zn(i,n,f[6]):n,o[6]=i?z(o[5],"__lodash_placeholder__"):f[6]),(n=f[7])&&(o[7]=n),128&t&&(o[8]=null==o[8]?f[8]:Ro(o[8],f[8])),null==o[9]&&(o[9]=f[9]),o[0]=f[0],o[1]=e),t=o[0],e=o[1],n=o[2],i=o[3],r=o[4],s=o[9]=null==o[9]?u?0:t.length:Io(o[9]-l,0),!s&&24&e&&(e&=-25),Oi((f?sa:_a)(e&&1!=e?8==e||16==e?qn(t,e,s):32!=e&&33!=e||r.length?Qn.apply(j,o):ni(t,e,n,i):Hn(t,e,n),o),t,e)}function li(t,e,n,i,r,o){var a=2&r,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;if((u=o.get(t))&&o.get(e))return u==e;var u=-1,l=!0,c=1&r?new Ht:j;for(o.set(t,e),o.set(e,t);++u<s;){var h=t[u],f=e[u];if(i)var d=a?i(f,h,u,e,t,o):i(h,f,u,t,e,o);if(d!==j){if(d)continue;l=!1;break}if(c){if(!p(e,function(t,e){if(!E(c,e)&&(h===t||n(h,t,i,r,o)))return c.push(e)})){l=!1;break}}else if(h!==f&&!n(h,f,i,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function ci(t,e,n,i,r,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!i(new po(t),new po(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ur(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=I;case"[object Set]":if(s||(s=N),t.size!=e.size&&!(2&o))break;return(n=a.get(t))?n==e:(o|=1,a.set(t,e),e=li(s(t),s(e),i,r,o,a),a.delete(t),e);case"[object Symbol]":if(ta)return ta.call(t)==ta.call(e)}return!1}function hi(t){return va(ki(t,j,Ui),t+"")}function fi(t){return Me(t,Er,fa)}function di(t){for(var e=t.name+"",n=Wo[e],i=ro.call(Wo,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function pi(t){return(ro.call(Pt,"placeholder")?Pt:t).placeholder}function gi(){var t=Pt.iteratee||Vr,t=t===Vr?We:t;return arguments.length?t(arguments[0],arguments[1]):t}function _i(t,e){var n=t.__data__,i=typeof e;return("string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function mi(t){for(var e=Er(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,r===r&&!gr(r)]}return e}function vi(t,e){var n=null==t?j:t[e];return Fe(n)?n:j}function yi(t,e,n){e=Pi(e,t)?[e]:Mn(e);for(var i=-1,r=e.length,o=!1;++i<r;){var a=zi(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&pr(r)&&Li(a,r)&&(rs(t)||is(t)))}function xi(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&ro.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function bi(t){return"function"!=typeof t.constructor||Ci(t)?{}:na(_o(t))}function Si(n,i,r,o){var a=n.constructor;switch(i){case"[object ArrayBuffer]":return Dn(n);case"[object Boolean]":case"[object Date]":return new a((+n));case"[object DataView]":return i=o?Dn(n.buffer):n.buffer,new n.constructor(i,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return On(n,o);case"[object Map]":return i=o?r(I(n),!0):I(n),f(i,t,new n.constructor);case"[object Number]":case"[object String]":return new a(n);case"[object RegExp]":return i=new n.constructor(n.source,_t.exec(n)),i.lastIndex=n.lastIndex,i;case"[object Set]":return i=o?r(N(n),!0):N(n),f(i,e,new n.constructor);case"[object Symbol]":return ta?$r(ta.call(n)):{}}}function wi(t){return rs(t)||is(t)||!!(xo&&t&&t[xo])}function Li(t,e){return e=null==e?9007199254740991:e,!!e&&("number"==typeof t||bt.test(t))&&-1<t&&0==t%1&&t<e}function Ti(t,e,n){if(!gr(n))return!1;var i=typeof e;return!!("number"==i?lr(n)&&Li(e,n.length):"string"==i&&e in n)&&ur(n[e],t)}function Pi(t,e){if(rs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!xr(t))||nt.test(t)||!et.test(t)||null!=e&&t in $r(e)}function Ai(t){var e=di(t),n=Pt[e];return"function"==typeof n&&e in Nt.prototype&&(t===n||(e=ha(n),!!e&&t===e[0]))}function Ci(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||eo)}function Mi(t,e){return function(n){return null!=n&&n[t]===e&&(e!==j||t in $r(n))}}function Ei(t,e,n,i,r,o){return gr(t)&&gr(e)&&(o.set(e,t),Je(t,e,j,Ei,o),o.delete(e)),t}function ki(t,e,i){return e=Io(e===j?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Io(r.length-e,0),s=Zr(a);++o<a;)s[o]=r[e+o];for(o=-1,a=Zr(e+1);++o<e;)a[o]=r[o];return a[e]=i(s),n(t,this,a)}}function Di(t,e){return 1==e.length?t:Ce(t,gn(e,0,-1))}function Oi(t,e,n){var i=e+"";e=va;var r,o=Gi;return r=(r=i.match(ht))?r[1].split(ft):[],n=o(r,n),(o=n.length)&&(r=o-1,n[r]=(1<o?"& ":"")+n[r],n=n.join(2<o?", ":" "),i=i.replace(ct,"{\n/* [wrapped with "+n+"] */\n")),e(t,i)}function Ii(t){var e=0,n=0;return function(){var i=zo(),r=16-(i-n);if(n=i,0<r){if(800<=++e)return arguments[0]}else e=0;return t.apply(j,arguments)}}function Ri(t,e){var n=-1,i=t.length,r=i-1;for(e=e===j?i:e;++n<e;){var i=un(n,r),o=t[i];t[i]=t[n],t[n]=o}return t.length=e,t}function zi(t){if("string"==typeof t||xr(t))return t;var e=t+"";return"0"==e&&1/t==-U?"-0":e}function Ni(t){if(null!=t){try{return io.call(t)}catch(t){}return t+""}return""}function Gi(t,e){return r(H,function(n){var i="_."+n[0];e&n[1]&&!u(t,i)&&t.push(i)}),t.sort()}function Vi(t){if(t instanceof Nt)return t.clone();var e=new Et(t.__wrapped__,t.__chain__);return e.__actions__=Nn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Bi(t,e,n){var i=null==t?0:t.length;return i?(n=null==n?0:wr(n),0>n&&(n=Io(i+n,0)),_(t,gi(e,3),n)):-1}function ji(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==j&&(r=wr(n),r=0>n?Io(i+r,0):Ro(r,i-1)),_(t,gi(e,3),r,!0)}function Ui(t){return(null==t?0:t.length)?Le(t,1):[]}function Fi(t){return t&&t.length?t[0]:j}function Hi(t){var e=null==t?0:t.length;return e?t[e-1]:j}function Zi(t,e){return t&&t.length&&e&&e.length?an(t,e):t}function Xi(t){return null==t?t:Vo.call(t)}function Wi(t){if(!t||!t.length)return[];var e=0;return t=s(t,function(t){if(cr(t))return e=Io(t.length,e),!0}),P(e,function(e){return c(t,b(e))})}function qi(t,e){if(!t||!t.length)return[];var i=Wi(t);return null==e?i:c(i,function(t){return n(e,j,t)})}function Yi(t){return t=Pt(t),t.__chain__=!0,t}function $i(t,e){return e(t)}function Qi(){return this}function Ki(t,e){return(rs(t)?r:ia)(t,gi(e,3))}function Ji(t,e){return(rs(t)?o:ra)(t,gi(e,3))}function tr(t,e){return(rs(t)?c:$e)(t,gi(e,3))}function er(t,e,n){return e=n?j:e,e=t&&null==e?t.length:e,ui(t,128,j,j,j,j,e)}function nr(t,e){var n;if("function"!=typeof e)throw new Jr("Expected a function");return t=wr(t),function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=j),n}}function ir(t,e,n){return e=n?j:e,t=ui(t,8,j,j,j,j,j,e),t.placeholder=ir.placeholder,t}function rr(t,e,n){return e=n?j:e,t=ui(t,16,j,j,j,j,j,e),t.placeholder=rr.placeholder,t}function or(t,e,n){function i(e){var n=u,i=l;return u=l=j,p=e,h=t.apply(i,n)}function r(t){var n=t-d;return t-=p,d===j||n>=e||0>n||_&&t>=c}function o(){var t=Xa();if(r(t))return a(t);var n,i=ma;n=t-p,t=e-(t-d),n=_?Ro(t,c-n):t,f=i(o,n)}function a(t){return f=j,m&&u?i(t):(u=l=j,h)}function s(){var t=Xa(),n=r(t);if(u=arguments,l=this,d=t,n){if(f===j)return p=t=d,f=ma(o,e),g?i(t):h;if(_)return f=ma(o,e),i(d)}return f===j&&(f=ma(o,e)),h}var u,l,c,h,f,d,p=0,g=!1,_=!1,m=!0;if("function"!=typeof t)throw new Jr("Expected a function");return e=Tr(e)||0,gr(n)&&(g=!!n.leading,c=(_="maxWait"in n)?Io(Tr(n.maxWait)||0,e):c,m="trailing"in n?!!n.trailing:m),s.cancel=function(){f!==j&&la(f),p=0,u=d=l=f=j},s.flush=function(){return f===j?h:a(Xa())},s}function ar(t,e){function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;return o.has(r)?o.get(r):(i=t.apply(this,i),n.cache=o.set(r,i)||o,i)}if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Jr("Expected a function");return n.cache=new(ar.Cache||Ut),n}function sr(t){if("function"!=typeof t)throw new Jr("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ur(t,e){return t===e||t!==t&&e!==e}function lr(t){return null!=t&&pr(t.length)&&!fr(t)}function cr(t){return _r(t)&&lr(t)}function hr(t){if(!_r(t))return!1;var e=Ee(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!vr(t)}function fr(t){return!!gr(t)&&(t=Ee(t),"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function dr(t){return"number"==typeof t&&t==wr(t)}function pr(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}function gr(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function _r(t){return null!=t&&"object"==typeof t}function mr(t){return"number"==typeof t||_r(t)&&"[object Number]"==Ee(t)}function vr(t){return!(!_r(t)||"[object Object]"!=Ee(t))&&(t=_o(t),null===t||(t=ro.call(t,"constructor")&&t.constructor,"function"==typeof t&&t instanceof t&&io.call(t)==uo))}function yr(t){return"string"==typeof t||!rs(t)&&_r(t)&&"[object String]"==Ee(t)}function xr(t){return"symbol"==typeof t||_r(t)&&"[object Symbol]"==Ee(t)}function br(t){if(!t)return[];if(lr(t))return yr(t)?B(t):Nn(t);if(bo&&t[bo]){t=t[bo]();for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}return e=pa(t),("[object Map]"==e?I:"[object Set]"==e?N:Or)(t)}function Sr(t){return t?(t=Tr(t),t===U||t===-U?1.7976931348623157e308*(0>t?-1:1):t===t?t:0):0===t?t:0}function wr(t){t=Sr(t);var e=t%1;return t===t?e?t-e:t:0}function Lr(t){return t?ge(wr(t),0,4294967295):0}function Tr(t){if("number"==typeof t)return t;if(xr(t))return F;if(gr(t)&&(t="function"==typeof t.valueOf?t.valueOf():t,t=gr(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(st,"");var e=vt.test(t);return e||xt.test(t)?Bt(t.slice(2),e?2:8):mt.test(t)?F:+t}function Pr(t){return Gn(t,kr(t))}function Ar(t){return null==t?"":bn(t)}function Cr(t,e,n){return t=null==t?j:Ce(t,e),t===j?n:t}function Mr(t,e){return null!=t&&yi(t,e,Oe)}function Er(t){return lr(t)?Wt(t):qe(t)}function kr(t){if(lr(t))t=Wt(t,!0);else if(gr(t)){var e,n=Ci(t),i=[];for(e in t)("constructor"!=e||!n&&ro.call(t,e))&&i.push(e);t=i}else{if(e=[],null!=t)for(n in $r(t))e.push(n);t=e}return t}function Dr(t,e){return null==t?{}:rn(t,Me(t,kr,da),gi(e))}function Or(t){return null==t?[]:M(t,Er(t))}function Ir(t){return Ns(Ar(t).toLowerCase())}function Rr(t){return(t=Ar(t))&&t.replace(St,ee).replace(Mt,"")}function zr(t,e,n){return t=Ar(t),e=n?j:e,e===j?Ot.test(t)?t.match(kt)||[]:t.match(dt)||[]:t.match(e)||[]}function Nr(t){return function(){return t}}function Gr(t){return t}function Vr(t){return We("function"==typeof t?t:_e(t,!0))}function Br(t,e,n){var i=Er(e),o=Ae(e,i);null!=n||gr(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=Ae(e,Er(e)));var a=!(gr(n)&&"chain"in n&&!n.chain),s=fr(t);return r(o,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=Nn(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,h([this.value()],arguments))})}),t}function jr(){}function Ur(t){return Pi(t)?b(zi(t)):on(t)}function Fr(){return[]}function Hr(){return!1}Tt=null==Tt?Ft:re.defaults(Ft.Object(),Tt,re.pick(Ft,It));var Zr=Tt.Array,Xr=Tt.Date,Wr=Tt.Error,qr=Tt.Function,Yr=Tt.Math,$r=Tt.Object,Qr=Tt.RegExp,Kr=Tt.String,Jr=Tt.TypeError,to=Zr.prototype,eo=$r.prototype,no=Tt["__core-js_shared__"],io=qr.prototype.toString,ro=eo.hasOwnProperty,oo=0,ao=function(){var t=/[^.]+$/.exec(no&&no.keys&&no.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),so=eo.toString,uo=io.call($r),lo=Ft._,co=Qr("^"+io.call(ro).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ho=Xt?Tt.Buffer:j,fo=Tt.Symbol,po=Tt.Uint8Array,go=ho?ho.f:j,_o=R($r.getPrototypeOf,$r),mo=$r.create,vo=eo.propertyIsEnumerable,yo=to.splice,xo=fo?fo.isConcatSpreadable:j,bo=fo?fo.iterator:j,So=fo?fo.toStringTag:j,wo=function(){try{var t=vi($r,"defineProperty");return t({},"",{}),t}catch(t){}}(),Lo=Tt.clearTimeout!==Ft.clearTimeout&&Tt.clearTimeout,To=Xr&&Xr.now!==Ft.Date.now&&Xr.now,Po=Tt.setTimeout!==Ft.setTimeout&&Tt.setTimeout,Ao=Yr.ceil,Co=Yr.floor,Mo=$r.getOwnPropertySymbols,Eo=ho?ho.isBuffer:j,ko=Tt.isFinite,Do=to.join,Oo=R($r.keys,$r),Io=Yr.max,Ro=Yr.min,zo=Xr.now,No=Tt.parseInt,Go=Yr.random,Vo=to.reverse,Bo=vi(Tt,"DataView"),jo=vi(Tt,"Map"),Uo=vi(Tt,"Promise"),Fo=vi(Tt,"Set"),Ho=vi(Tt,"WeakMap"),Zo=vi($r,"create"),Xo=Ho&&new Ho,Wo={},qo=Ni(Bo),Yo=Ni(jo),$o=Ni(Uo),Qo=Ni(Fo),Ko=Ni(Ho),Jo=fo?fo.prototype:j,ta=Jo?Jo.valueOf:j,ea=Jo?Jo.toString:j,na=function(){function t(){}return function(e){return gr(e)?mo?mo(e):(t.prototype=e,e=new t,t.prototype=j,e):{}}}();Pt.templateSettings={escape:K,evaluate:J,interpolate:tt,variable:"",imports:{_:Pt}},Pt.prototype=At.prototype,Pt.prototype.constructor=Pt,Et.prototype=na(At.prototype),Et.prototype.constructor=Et,Nt.prototype=na(At.prototype),Nt.prototype.constructor=Nt,Gt.prototype.clear=function(){this.__data__=Zo?Zo(null):{},this.size=0},Gt.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},Gt.prototype.get=function(t){var e=this.__data__;return Zo?(t=e[t],"__lodash_hash_undefined__"===t?j:t):ro.call(e,t)?e[t]:j},Gt.prototype.has=function(t){var e=this.__data__;return Zo?e[t]!==j:ro.call(e,t)},Gt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Zo&&e===j?"__lodash_hash_undefined__":e,this},jt.prototype.clear=function(){this.__data__=[],this.size=0},jt.prototype.delete=function(t){var e=this.__data__;return t=ce(e,t),!(0>t||(t==e.length-1?e.pop():yo.call(e,t,1),--this.size,0))},jt.prototype.get=function(t){var e=this.__data__;return t=ce(e,t),0>t?j:e[t][1]},jt.prototype.has=function(t){return-1<ce(this.__data__,t)},jt.prototype.set=function(t,e){var n=this.__data__,i=ce(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this},Ut.prototype.clear=function(){this.size=0,this.__data__={hash:new Gt,map:new(jo||jt),string:new Gt}},Ut.prototype.delete=function(t){return t=_i(this,t).delete(t),this.size-=t?1:0,t},Ut.prototype.get=function(t){return _i(this,t).get(t)},Ut.prototype.has=function(t){return _i(this,t).has(t)},Ut.prototype.set=function(t,e){var n=_i(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Ht.prototype.add=Ht.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ht.prototype.has=function(t){return this.__data__.has(t)},Zt.prototype.clear=function(){this.__data__=new jt,this.size=0},Zt.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},Zt.prototype.get=function(t){return this.__data__.get(t)},Zt.prototype.has=function(t){return this.__data__.has(t)},Zt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof jt){var i=n.__data__;if(!jo||199>i.length)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ut(i)}return n.set(t,e),this.size=n.size,this};var ia=Un(Te),ra=Un(Pe,!0),oa=Fn(),aa=Fn(!0),sa=Xo?function(t,e){return Xo.set(t,e),t}:Gr,ua=wo?function(t,e){return wo(t,"toString",{configurable:!0,enumerable:!1,value:Nr(e),writable:!0})}:Gr,la=Lo||function(t){return Ft.clearTimeout(t)},ca=Fo&&1/N(new Fo([,-0]))[1]==U?function(t){return new Fo(t)}:jr,ha=Xo?function(t){return Xo.get(t)}:jr,fa=Mo?R(Mo,$r):Fr,da=Mo?function(t){for(var e=[];t;)h(e,fa(t)),t=_o(t);return e}:Fr,pa=Ee;(Bo&&"[object DataView]"!=pa(new Bo(new ArrayBuffer(1)))||jo&&"[object Map]"!=pa(new jo)||Uo&&"[object Promise]"!=pa(Uo.resolve())||Fo&&"[object Set]"!=pa(new Fo)||Ho&&"[object WeakMap]"!=pa(new Ho))&&(pa=function(t){var e=Ee(t);if(t=(t="[object Object]"==e?t.constructor:j)?Ni(t):"")switch(t){case qo:return"[object DataView]";case Yo:return"[object Map]";case $o:return"[object Promise]";case Qo:return"[object Set]";case Ko:return"[object WeakMap]"}return e});var ga=no?fr:Hr,_a=Ii(sa),ma=Po||function(t,e){return Ft.setTimeout(t,e)},va=Ii(ua),ya=function(t){t=ar(t,function(t){return 500===e.size&&e.clear(),t});var e=t.cache;return t}(function(t){t=Ar(t);var e=[];return it.test(t)&&e.push(""),t.replace(rt,function(t,n,i,r){e.push(i?r.replace(pt,"$1"):n||t)}),e}),xa=cn(function(t,e){return cr(t)?xe(t,Le(e,1,cr,!0)):[]}),ba=cn(function(t,e){var n=Hi(e);return cr(n)&&(n=j),cr(t)?xe(t,Le(e,1,cr,!0),gi(n,2)):[]}),Sa=cn(function(t,e){var n=Hi(e);return cr(n)&&(n=j),cr(t)?xe(t,Le(e,1,cr,!0),j,n):[]}),wa=cn(function(t){var e=c(t,An);return e.length&&e[0]===t[0]?Ie(e):[]}),La=cn(function(t){var e=Hi(t),n=c(t,An);return e===Hi(n)?e=j:n.pop(),n.length&&n[0]===t[0]?Ie(n,gi(e,2)):[]}),Ta=cn(function(t){var e=Hi(t),n=c(t,An);return(e="function"==typeof e?e:j)&&n.pop(),n.length&&n[0]===t[0]?Ie(n,j,e):[]}),Pa=cn(Zi),Aa=hi(function(t,e){var n=null==t?0:t.length,i=pe(t,e);return sn(t,c(e,function(t){return Li(t,n)?+t:t}).sort(In)),i}),Ca=cn(function(t){return Sn(Le(t,1,cr,!0))}),Ma=cn(function(t){var e=Hi(t);return cr(e)&&(e=j),Sn(Le(t,1,cr,!0),gi(e,2))}),Ea=cn(function(t){var e=Hi(t),e="function"==typeof e?e:j;return Sn(Le(t,1,cr,!0),j,e)}),ka=cn(function(t,e){return cr(t)?xe(t,e):[]}),Da=cn(function(t){return Tn(s(t,cr))}),Oa=cn(function(t){var e=Hi(t);return cr(e)&&(e=j),Tn(s(t,cr),gi(e,2))}),Ia=cn(function(t){var e=Hi(t),e="function"==typeof e?e:j;return Tn(s(t,cr),j,e)}),Ra=cn(Wi),za=cn(function(t){var e=t.length,e=1<e?t[e-1]:j,e="function"==typeof e?(t.pop(),e):j;return qi(t,e)}),Na=hi(function(t){function e(e){return pe(e,t)}var n=t.length,i=n?t[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof Nt&&Li(i)?(r=r.slice(i,+i+(n?1:0)),r.__actions__.push({func:$i,args:[e],thisArg:j}),new Et(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(j),t})):this.thru(e)}),Ga=Bn(function(t,e,n){ro.call(t,n)?++t[n]:de(t,n,1)}),Va=Yn(Bi),Ba=Yn(ji),ja=Bn(function(t,e,n){ro.call(t,n)?t[n].push(e):de(t,n,[e])}),Ua=cn(function(t,e,i){var r=-1,o="function"==typeof e,a=Pi(e),s=lr(t)?Zr(t.length):[];return ia(t,function(t){var u=o?e:a&&null!=t?t[e]:j;s[++r]=u?n(u,t,i):ze(t,e,i)}),s}),Fa=Bn(function(t,e,n){de(t,n,e)}),Ha=Bn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Za=cn(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Ti(t,e[0],e[1])?e=[]:2<n&&Ti(e[0],e[1],e[2])&&(e=[e[0]]),en(t,Le(e,1),[])}),Xa=To||function(){return Ft.Date.now()},Wa=cn(function(t,e,n){var i=1;if(n.length)var r=z(n,pi(Wa)),i=32|i;return ui(t,i,e,n,r)}),qa=cn(function(t,e,n){var i=3;if(n.length)var r=z(n,pi(qa)),i=32|i;return ui(e,i,t,n,r)}),Ya=cn(function(t,e){return ye(t,1,e)}),$a=cn(function(t,e,n){return ye(t,Tr(e)||0,n)});ar.Cache=Ut;var Qa=cn(function(t,e){e=1==e.length&&rs(e[0])?c(e[0],C(gi())):c(Le(e,1),C(gi()));var i=e.length;return cn(function(r){for(var o=-1,a=Ro(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),Ka=cn(function(t,e){return ui(t,32,j,e,z(e,pi(Ka)))}),Ja=cn(function(t,e){return ui(t,64,j,e,z(e,pi(Ja)))}),ts=hi(function(t,e){return ui(t,256,j,j,j,e)}),es=ri(ke),ns=ri(function(t,e){return t>=e}),is=Ne(function(){return arguments}())?Ne:function(t){return _r(t)&&ro.call(t,"callee")&&!vo.call(t,"callee")},rs=Zr.isArray,os=qt?C(qt):Ge,as=Eo||Hr,ss=Yt?C(Yt):Ve,us=$t?C($t):je,ls=Qt?C(Qt):He,cs=Kt?C(Kt):Ze,hs=Jt?C(Jt):Xe,fs=ri(Ye),ds=ri(function(t,e){return t<=e}),ps=jn(function(t,e){if(Ci(e)||lr(e))Gn(e,Er(e),t);else for(var n in e)ro.call(e,n)&&le(t,n,e[n])}),gs=jn(function(t,e){Gn(e,kr(e),t)}),_s=jn(function(t,e,n,i){Gn(e,kr(e),t,i)}),ms=jn(function(t,e,n,i){Gn(e,Er(e),t,i)}),vs=hi(pe),ys=cn(function(t){return t.push(j,se),n(_s,j,t)}),xs=cn(function(t){return t.push(j,Ei),n(Ts,j,t)}),bs=Kn(function(t,e,n){t[e]=n},Nr(Gr)),Ss=Kn(function(t,e,n){ro.call(t,e)?t[e].push(n):t[e]=[n]},gi),ws=cn(ze),Ls=jn(function(t,e,n){Je(t,e,n)}),Ts=jn(function(t,e,n,i){Je(t,e,n,i)}),Ps=hi(function(t,e){return null==t?{}:(e=c(e,zi),nn(t,xe(Me(t,kr,da),e)))}),As=hi(function(t,e){return null==t?{}:nn(t,c(e,zi))}),Cs=si(Er),Ms=si(kr),Es=Xn(function(t,e,n){return e=e.toLowerCase(),t+(n?Ir(e):e)}),ks=Xn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ds=Xn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Os=Zn("toLowerCase"),Is=Xn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Rs=Xn(function(t,e,n){return t+(n?" ":"")+Ns(e)}),zs=Xn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ns=Zn("toUpperCase"),Gs=cn(function(t,e){try{return n(t,j,e)}catch(t){return hr(t)?t:new Wr(t)}}),Vs=hi(function(t,e){return r(e,function(e){e=zi(e),de(t,e,Wa(t[e],t))}),t}),Bs=$n(),js=$n(!0),Us=cn(function(t,e){return function(n){return ze(n,t,e)}}),Fs=cn(function(t,e){return function(n){return ze(t,n,e)}}),Hs=ti(c),Zs=ti(a),Xs=ti(p),Ws=ii(),qs=ii(!0),Ys=Jn(function(t,e){return t+e},0),$s=ai("ceil"),Qs=Jn(function(t,e){return t/e},1),Ks=ai("floor"),Js=Jn(function(t,e){return t*e},1),tu=ai("round"),eu=Jn(function(t,e){return t-e},0);return Pt.after=function(t,e){if("function"!=typeof e)throw new Jr("Expected a function");return t=wr(t),function(){if(1>--t)return e.apply(this,arguments)}},Pt.ary=er,Pt.assign=ps,Pt.assignIn=gs,Pt.assignInWith=_s,Pt.assignWith=ms,Pt.at=vs,Pt.before=nr,Pt.bind=Wa,Pt.bindAll=Vs,Pt.bindKey=qa,Pt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return rs(t)?t:[t]},Pt.chain=Yi,Pt.chunk=function(t,e,n){if(e=(n?Ti(t,e,n):e===j)?1:Io(wr(e),0),n=null==t?0:t.length,!n||1>e)return[];for(var i=0,r=0,o=Zr(Ao(n/e));i<n;)o[r++]=gn(t,i,i+=e);return o},Pt.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Pt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Zr(t-1),n=arguments[0];t--;)e[t-1]=arguments[t];return h(rs(n)?Nn(n):[n],Le(e,1))},Pt.cond=function(t){var e=null==t?0:t.length,i=gi();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new Jr("Expected a function");return[i(t[0]),t[1]]}):[],cn(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})},Pt.conforms=function(t){return me(_e(t,!0))},Pt.constant=Nr,Pt.countBy=Ga,Pt.create=function(t,e){var n=na(t);return null==e?n:fe(n,e)},Pt.curry=ir,Pt.curryRight=rr,Pt.debounce=or,Pt.defaults=ys,Pt.defaultsDeep=xs,Pt.defer=Ya,Pt.delay=$a,Pt.difference=xa,Pt.differenceBy=ba,Pt.differenceWith=Sa,Pt.drop=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===j?1:wr(e),gn(t,0>e?0:e,i)):[]},Pt.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===j?1:wr(e),e=i-e,gn(t,0,0>e?0:e)):[]},Pt.dropRightWhile=function(t,e){return t&&t.length?wn(t,gi(e,3),!0,!0):[]},Pt.dropWhile=function(t,e){return t&&t.length?wn(t,gi(e,3),!0):[]},Pt.fill=function(t,e,n,i){var r=null==t?0:t.length;if(!r)return[];for(n&&"number"!=typeof n&&Ti(t,e,n)&&(n=0,i=r),r=t.length,n=wr(n),0>n&&(n=-n>r?0:r+n),i=i===j||i>r?r:wr(i),0>i&&(i+=r),i=n>i?0:Lr(i);n<i;)t[n++]=e;return t},Pt.filter=function(t,e){return(rs(t)?s:we)(t,gi(e,3))},Pt.flatMap=function(t,e){return Le(tr(t,e),1)},Pt.flatMapDeep=function(t,e){return Le(tr(t,e),U)},Pt.flatMapDepth=function(t,e,n){return n=n===j?1:wr(n),Le(tr(t,e),n)},Pt.flatten=Ui,Pt.flattenDeep=function(t){return(null==t?0:t.length)?Le(t,U):[]},Pt.flattenDepth=function(t,e){return null!=t&&t.length?(e=e===j?1:wr(e),Le(t,e)):[]},Pt.flip=function(t){return ui(t,512)},Pt.flow=Bs,Pt.flowRight=js,Pt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Pt.functions=function(t){return null==t?[]:Ae(t,Er(t))},Pt.functionsIn=function(t){return null==t?[]:Ae(t,kr(t))},Pt.groupBy=ja,Pt.initial=function(t){return(null==t?0:t.length)?gn(t,0,-1):[]},Pt.intersection=wa,Pt.intersectionBy=La,Pt.intersectionWith=Ta,Pt.invert=bs,Pt.invertBy=Ss,Pt.invokeMap=Ua,Pt.iteratee=Vr,Pt.keyBy=Fa,Pt.keys=Er,Pt.keysIn=kr,Pt.map=tr,Pt.mapKeys=function(t,e){var n={};return e=gi(e,3),Te(t,function(t,i,r){de(n,e(t,i,r),t)}),n},Pt.mapValues=function(t,e){var n={};return e=gi(e,3),Te(t,function(t,i,r){de(n,i,e(t,i,r))}),n},Pt.matches=function(t){return Qe(_e(t,!0))},Pt.matchesProperty=function(t,e){return Ke(t,_e(e,!0))},Pt.memoize=ar,Pt.merge=Ls,Pt.mergeWith=Ts,Pt.method=Us,Pt.methodOf=Fs,Pt.mixin=Br,Pt.negate=sr,Pt.nthArg=function(t){return t=wr(t),cn(function(e){return tn(e,t)})},Pt.omit=Ps,Pt.omitBy=function(t,e){return Dr(t,sr(gi(e)))},Pt.once=function(t){return nr(2,t)},Pt.orderBy=function(t,e,n,i){return null==t?[]:(rs(e)||(e=null==e?[]:[e]),n=i?j:n,rs(n)||(n=null==n?[]:[n]),en(t,e,n))},Pt.over=Hs,Pt.overArgs=Qa,Pt.overEvery=Zs,Pt.overSome=Xs,Pt.partial=Ka,Pt.partialRight=Ja,Pt.partition=Ha,Pt.pick=As,Pt.pickBy=Dr,Pt.property=Ur,Pt.propertyOf=function(t){return function(e){return null==t?j:Ce(t,e)}},Pt.pull=Pa,Pt.pullAll=Zi,Pt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?an(t,e,gi(n,2)):t},Pt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?an(t,e,j,n):t},Pt.pullAt=Aa,Pt.range=Ws,Pt.rangeRight=qs,Pt.rearg=ts,Pt.reject=function(t,e){return(rs(t)?s:we)(t,sr(gi(e,3)))},Pt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=gi(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return sn(t,r),n},Pt.rest=function(t,e){if("function"!=typeof t)throw new Jr("Expected a function");return e=e===j?e:wr(e),cn(t,e)},Pt.reverse=Xi,Pt.sampleSize=function(t,e,n){return e=(n?Ti(t,e,n):e===j)?1:wr(e),(rs(t)?oe:fn)(t,e)},Pt.set=function(t,e,n){return null==t?t:dn(t,e,n)},Pt.setWith=function(t,e,n,i){return i="function"==typeof i?i:j,null==t?t:dn(t,e,n,i)},Pt.shuffle=function(t){return(rs(t)?ae:pn)(t)},Pt.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ti(t,e,n)?(e=0,n=i):(e=null==e?0:wr(e),n=n===j?i:wr(n)),gn(t,e,n)):[]},Pt.sortBy=Za,Pt.sortedUniq=function(t){return t&&t.length?yn(t):[]},Pt.sortedUniqBy=function(t,e){return t&&t.length?yn(t,gi(e,2)):[]},Pt.split=function(t,e,n){return n&&"number"!=typeof n&&Ti(t,e,n)&&(e=n=j),n=n===j?4294967295:n>>>0,n?(t=Ar(t))&&("string"==typeof e||null!=e&&!ls(e))&&(e=bn(e),!e&&Dt.test(t))?En(B(t),0,n):t.split(e,n):[]},Pt.spread=function(t,e){if("function"!=typeof t)throw new Jr("Expected a function");return e=e===j?0:Io(wr(e),0),cn(function(i){var r=i[e];return i=En(i,0,e),r&&h(i,r),n(t,this,i)})},Pt.tail=function(t){var e=null==t?0:t.length;return e?gn(t,1,e):[]},Pt.take=function(t,e,n){return t&&t.length?(e=n||e===j?1:wr(e),gn(t,0,0>e?0:e)):[]},Pt.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===j?1:wr(e),e=i-e,gn(t,0>e?0:e,i)):[]},Pt.takeRightWhile=function(t,e){return t&&t.length?wn(t,gi(e,3),!1,!0):[]},Pt.takeWhile=function(t,e){return t&&t.length?wn(t,gi(e,3)):[]},Pt.tap=function(t,e){return e(t),t},Pt.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Jr("Expected a function");return gr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),or(t,e,{leading:i,maxWait:e,trailing:r})},Pt.thru=$i,Pt.toArray=br,Pt.toPairs=Cs,Pt.toPairsIn=Ms,Pt.toPath=function(t){return rs(t)?c(t,zi):xr(t)?[t]:Nn(ya(t))},Pt.toPlainObject=Pr,Pt.transform=function(t,e,n){var i=rs(t),o=i||as(t)||hs(t);if(e=gi(e,4),null==n){var a=t&&t.constructor;n=o?i?new a:[]:gr(t)&&fr(a)?na(_o(t)):{}}return(o?r:Te)(t,function(t,i,r){return e(n,t,i,r)}),n},Pt.unary=function(t){return er(t,1)},Pt.union=Ca,Pt.unionBy=Ma,Pt.unionWith=Ea,Pt.uniq=function(t){return t&&t.length?Sn(t):[]},Pt.uniqBy=function(t,e){return t&&t.length?Sn(t,gi(e,2)):[]},Pt.uniqWith=function(t,e){return e="function"==typeof e?e:j,t&&t.length?Sn(t,j,e):[]},Pt.unset=function(t,e){var n;if(null==t)n=!0;else{n=t;var i=e,i=Pi(i,n)?[i]:Mn(i);n=Di(n,i),i=zi(Hi(i)),n=!(null!=n&&ro.call(n,i))||delete n[i]}return n},Pt.unzip=Wi,Pt.unzipWith=qi,Pt.update=function(t,e,n){return null==t?t:dn(t,e,Cn(n)(Ce(t,e)),void 0)},Pt.updateWith=function(t,e,n,i){return i="function"==typeof i?i:j,null!=t&&(t=dn(t,e,Cn(n)(Ce(t,e)),i)),t},Pt.values=Or,Pt.valuesIn=function(t){return null==t?[]:M(t,kr(t))},Pt.without=ka,Pt.words=zr,Pt.wrap=function(t,e){return Ka(Cn(e),t)},Pt.xor=Da,Pt.xorBy=Oa,Pt.xorWith=Ia,Pt.zip=Ra,Pt.zipObject=function(t,e){return Pn(t||[],e||[],le)},Pt.zipObjectDeep=function(t,e){return Pn(t||[],e||[],dn)},Pt.zipWith=za,Pt.entries=Cs,Pt.entriesIn=Ms,Pt.extend=gs,Pt.extendWith=_s,Br(Pt,Pt),Pt.add=Ys,Pt.attempt=Gs,Pt.camelCase=Es,Pt.capitalize=Ir,Pt.ceil=$s,Pt.clamp=function(t,e,n){return n===j&&(n=e,e=j),n!==j&&(n=Tr(n),n=n===n?n:0),e!==j&&(e=Tr(e),e=e===e?e:0),ge(Tr(t),e,n)},Pt.clone=function(t){return _e(t,!1,!0)},Pt.cloneDeep=function(t){return _e(t,!0,!0)},Pt.cloneDeepWith=function(t,e){return e="function"==typeof e?e:j,_e(t,!0,!0,e)},Pt.cloneWith=function(t,e){return e="function"==typeof e?e:j,_e(t,!1,!0,e)},Pt.conformsTo=function(t,e){return null==e||ve(t,e,Er(e))},Pt.deburr=Rr,Pt.defaultTo=function(t,e){return null==t||t!==t?e:t},Pt.divide=Qs,Pt.endsWith=function(t,e,n){t=Ar(t),e=bn(e);var i=t.length,i=n=n===j?i:ge(wr(n),0,i);return n-=e.length,0<=n&&t.slice(n,i)==e},Pt.eq=ur,Pt.escape=function(t){return(t=Ar(t))&&Q.test(t)?t.replace(Y,ne):t},Pt.escapeRegExp=function(t){return(t=Ar(t))&&at.test(t)?t.replace(ot,"\\$&"):t},Pt.every=function(t,e,n){var i=rs(t)?a:be;return n&&Ti(t,e,n)&&(e=j),i(t,gi(e,3))},Pt.find=Va,Pt.findIndex=Bi,Pt.findKey=function(t,e){return g(t,gi(e,3),Te)},Pt.findLast=Ba,Pt.findLastIndex=ji,Pt.findLastKey=function(t,e){return g(t,gi(e,3),Pe)},Pt.floor=Ks,Pt.forEach=Ki,Pt.forEachRight=Ji,Pt.forIn=function(t,e){return null==t?t:oa(t,gi(e,3),kr)},Pt.forInRight=function(t,e){return null==t?t:aa(t,gi(e,3),kr)},Pt.forOwn=function(t,e){return t&&Te(t,gi(e,3))},Pt.forOwnRight=function(t,e){return t&&Pe(t,gi(e,3))},Pt.get=Cr,Pt.gt=es,
Pt.gte=ns,Pt.has=function(t,e){return null!=t&&yi(t,e,De)},Pt.hasIn=Mr,Pt.head=Fi,Pt.identity=Gr,Pt.includes=function(t,e,n,i){return t=lr(t)?t:Or(t),n=n&&!i?wr(n):0,i=t.length,0>n&&(n=Io(i+n,0)),yr(t)?n<=i&&-1<t.indexOf(e,n):!!i&&-1<m(t,e,n)},Pt.indexOf=function(t,e,n){var i=null==t?0:t.length;return i?(n=null==n?0:wr(n),0>n&&(n=Io(i+n,0)),m(t,e,n)):-1},Pt.inRange=function(t,e,n){return e=Sr(e),n===j?(n=e,e=0):n=Sr(n),t=Tr(t),t>=Ro(e,n)&&t<Io(e,n)},Pt.invoke=ws,Pt.isArguments=is,Pt.isArray=rs,Pt.isArrayBuffer=os,Pt.isArrayLike=lr,Pt.isArrayLikeObject=cr,Pt.isBoolean=function(t){return!0===t||!1===t||_r(t)&&"[object Boolean]"==Ee(t)},Pt.isBuffer=as,Pt.isDate=ss,Pt.isElement=function(t){return _r(t)&&1===t.nodeType&&!vr(t)},Pt.isEmpty=function(t){if(null==t)return!0;if(lr(t)&&(rs(t)||"string"==typeof t||"function"==typeof t.splice||as(t)||hs(t)||is(t)))return!t.length;var e=pa(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Ci(t))return!qe(t).length;for(var n in t)if(ro.call(t,n))return!1;return!0},Pt.isEqual=function(t,e){return Be(t,e)},Pt.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:j)?n(t,e):j;return i===j?Be(t,e,n):!!i},Pt.isError=hr,Pt.isFinite=function(t){return"number"==typeof t&&ko(t)},Pt.isFunction=fr,Pt.isInteger=dr,Pt.isLength=pr,Pt.isMap=us,Pt.isMatch=function(t,e){return t===e||Ue(t,e,mi(e))},Pt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:j,Ue(t,e,mi(e),n)},Pt.isNaN=function(t){return mr(t)&&t!=+t},Pt.isNative=function(t){if(ga(t))throw new Wr("Unsupported core-js use. Try https://github.com/es-shims.");return Fe(t)},Pt.isNil=function(t){return null==t},Pt.isNull=function(t){return null===t},Pt.isNumber=mr,Pt.isObject=gr,Pt.isObjectLike=_r,Pt.isPlainObject=vr,Pt.isRegExp=ls,Pt.isSafeInteger=function(t){return dr(t)&&-9007199254740991<=t&&9007199254740991>=t},Pt.isSet=cs,Pt.isString=yr,Pt.isSymbol=xr,Pt.isTypedArray=hs,Pt.isUndefined=function(t){return t===j},Pt.isWeakMap=function(t){return _r(t)&&"[object WeakMap]"==pa(t)},Pt.isWeakSet=function(t){return _r(t)&&"[object WeakSet]"==Ee(t)},Pt.join=function(t,e){return null==t?"":Do.call(t,e)},Pt.kebabCase=ks,Pt.last=Hi,Pt.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;if(n!==j&&(r=wr(n),r=0>r?Io(i+r,0):Ro(r,i-1)),e===e){for(n=r+1;n--&&t[n]!==e;);t=n}else t=_(t,y,r,!0);return t},Pt.lowerCase=Ds,Pt.lowerFirst=Os,Pt.lt=fs,Pt.lte=ds,Pt.max=function(t){return t&&t.length?Se(t,Gr,ke):j},Pt.maxBy=function(t,e){return t&&t.length?Se(t,gi(e,2),ke):j},Pt.mean=function(t){return x(t,Gr)},Pt.meanBy=function(t,e){return x(t,gi(e,2))},Pt.min=function(t){return t&&t.length?Se(t,Gr,Ye):j},Pt.minBy=function(t,e){return t&&t.length?Se(t,gi(e,2),Ye):j},Pt.stubArray=Fr,Pt.stubFalse=Hr,Pt.stubObject=function(){return{}},Pt.stubString=function(){return""},Pt.stubTrue=function(){return!0},Pt.multiply=Js,Pt.nth=function(t,e){return t&&t.length?tn(t,wr(e)):j},Pt.noConflict=function(){return Ft._===this&&(Ft._=lo),this},Pt.noop=jr,Pt.now=Xa,Pt.pad=function(t,e,n){t=Ar(t);var i=(e=wr(e))?V(t):0;return!e||i>=e?t:(e=(e-i)/2,ei(Co(e),n)+t+ei(Ao(e),n))},Pt.padEnd=function(t,e,n){t=Ar(t);var i=(e=wr(e))?V(t):0;return e&&i<e?t+ei(e-i,n):t},Pt.padStart=function(t,e,n){t=Ar(t);var i=(e=wr(e))?V(t):0;return e&&i<e?ei(e-i,n)+t:t},Pt.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),No(Ar(t).replace(ut,""),e||0)},Pt.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ti(t,e,n)&&(e=n=j),n===j&&("boolean"==typeof e?(n=e,e=j):"boolean"==typeof t&&(n=t,t=j)),t===j&&e===j?(t=0,e=1):(t=Sr(t),e===j?(e=t,t=0):e=Sr(e)),t>e){var i=t;t=e,e=i}return n||t%1||e%1?(n=Go(),Ro(t+n*(e-t+Vt("1e-"+((n+"").length-1))),e)):un(t,e)},Pt.reduce=function(t,e,n){var i=rs(t)?f:w,r=3>arguments.length;return i(t,gi(e,4),n,r,ia)},Pt.reduceRight=function(t,e,n){var i=rs(t)?d:w,r=3>arguments.length;return i(t,gi(e,4),n,r,ra)},Pt.repeat=function(t,e,n){return e=(n?Ti(t,e,n):e===j)?1:wr(e),ln(Ar(t),e)},Pt.replace=function(){var t=arguments,e=Ar(t[0]);return 3>t.length?e:e.replace(t[1],t[2])},Pt.result=function(t,e,n){e=Pi(e,t)?[e]:Mn(e);var i=-1,r=e.length;for(r||(t=j,r=1);++i<r;){var o=null==t?j:t[zi(e[i])];o===j&&(i=r,o=n),t=fr(o)?o.call(t):o}return t},Pt.round=tu,Pt.runInContext=S,Pt.sample=function(t){return(rs(t)?te:hn)(t)},Pt.size=function(t){if(null==t)return 0;if(lr(t))return yr(t)?V(t):t.length;var e=pa(t);return"[object Map]"==e||"[object Set]"==e?t.size:qe(t).length},Pt.snakeCase=Is,Pt.some=function(t,e,n){var i=rs(t)?p:_n;return n&&Ti(t,e,n)&&(e=j),i(t,gi(e,3))},Pt.sortedIndex=function(t,e){return mn(t,e)},Pt.sortedIndexBy=function(t,e,n){return vn(t,e,gi(n,2))},Pt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=mn(t,e);if(i<n&&ur(t[i],e))return i}return-1},Pt.sortedLastIndex=function(t,e){return mn(t,e,!0)},Pt.sortedLastIndexBy=function(t,e,n){return vn(t,e,gi(n,2),!0)},Pt.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=mn(t,e,!0)-1;if(ur(t[n],e))return n}return-1},Pt.startCase=Rs,Pt.startsWith=function(t,e,n){return t=Ar(t),n=ge(wr(n),0,t.length),e=bn(e),t.slice(n,n+e.length)==e},Pt.subtract=eu,Pt.sum=function(t){return t&&t.length?T(t,Gr):0},Pt.sumBy=function(t,e){return t&&t.length?T(t,gi(e,2)):0},Pt.template=function(t,e,n){var i=Pt.templateSettings;n&&Ti(t,e,n)&&(e=j),t=Ar(t),e=_s({},e,i,se),n=_s({},e.imports,i.imports,se);var r,o,a=Er(n),s=M(n,a),u=0;n=e.interpolate||wt;var l="__p+='";n=Qr((e.escape||wt).source+"|"+n.source+"|"+(n===tt?gt:wt).source+"|"+(e.evaluate||wt).source+"|$","g");var c="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,i,a,s,c){return i||(i=a),l+=t.slice(u,c).replace(Lt,O),n&&(r=!0,l+="'+__e("+n+")+'"),s&&(o=!0,l+="';"+s+";\n__p+='"),i&&(l+="'+((__t=("+i+"))==null?'':__t)+'"),u=c+e.length,e}),l+="';",(e=e.variable)||(l="with(obj){"+l+"}"),l=(o?l.replace(Z,""):l).replace(X,"$1").replace(W,"$1;"),l="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(r?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",e=Gs(function(){return qr(a,c+"return "+l).apply(j,s)}),e.source=l,hr(e))throw e;return e},Pt.times=function(t,e){if(t=wr(t),1>t||9007199254740991<t)return[];var n=4294967295,i=Ro(t,4294967295);for(e=gi(e),t-=4294967295,i=P(i,e);++n<t;)e(n);return i},Pt.toFinite=Sr,Pt.toInteger=wr,Pt.toLength=Lr,Pt.toLower=function(t){return Ar(t).toLowerCase()},Pt.toNumber=Tr,Pt.toSafeInteger=function(t){return ge(wr(t),-9007199254740991,9007199254740991)},Pt.toString=Ar,Pt.toUpper=function(t){return Ar(t).toUpperCase()},Pt.trim=function(t,e,n){return(t=Ar(t))&&(n||e===j)?t.replace(st,""):t&&(e=bn(e))?(t=B(t),n=B(e),e=k(t,n),n=D(t,n)+1,En(t,e,n).join("")):t},Pt.trimEnd=function(t,e,n){return(t=Ar(t))&&(n||e===j)?t.replace(lt,""):t&&(e=bn(e))?(t=B(t),e=D(t,B(e))+1,En(t,0,e).join("")):t},Pt.trimStart=function(t,e,n){return(t=Ar(t))&&(n||e===j)?t.replace(ut,""):t&&(e=bn(e))?(t=B(t),e=k(t,B(e)),En(t,e).join("")):t},Pt.truncate=function(t,e){var n=30,i="...";if(gr(e))var r="separator"in e?e.separator:r,n="length"in e?wr(e.length):n,i="omission"in e?bn(e.omission):i;t=Ar(t);var o=t.length;if(Dt.test(t))var a=B(t),o=a.length;if(n>=o)return t;if(o=n-V(i),1>o)return i;if(n=a?En(a,0,o).join(""):t.slice(0,o),r===j)return n+i;if(a&&(o+=n.length-o),ls(r)){if(t.slice(o).search(r)){var s=n;for(r.global||(r=Qr(r.source,Ar(_t.exec(r))+"g")),r.lastIndex=0;a=r.exec(s);)var u=a.index;n=n.slice(0,u===j?o:u)}}else t.indexOf(bn(r),o)!=o&&(r=n.lastIndexOf(r),-1<r&&(n=n.slice(0,r)));return n+i},Pt.unescape=function(t){return(t=Ar(t))&&$.test(t)?t.replace(q,ie):t},Pt.uniqueId=function(t){var e=++oo;return Ar(t)+e},Pt.upperCase=zs,Pt.upperFirst=Ns,Pt.each=Ki,Pt.eachRight=Ji,Pt.first=Fi,Br(Pt,function(){var t={};return Te(Pt,function(e,n){ro.call(Pt.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),Pt.VERSION="4.16.6",r("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Pt[t].placeholder=Pt}),r(["drop","take"],function(t,e){Nt.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Nt(this);n=n===j?1:Io(wr(n),0);var r=this.clone();return i?r.__takeCount__=Ro(n,r.__takeCount__):r.__views__.push({size:Ro(n,4294967295),type:t+(0>r.__dir__?"Right":"")}),r},Nt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;Nt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:gi(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");Nt.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Nt.prototype[t]=function(){return this.__filtered__?new Nt(this):this[n](1)}}),Nt.prototype.compact=function(){return this.filter(Gr)},Nt.prototype.find=function(t){return this.filter(t).head()},Nt.prototype.findLast=function(t){return this.reverse().find(t)},Nt.prototype.invokeMap=cn(function(t,e){return"function"==typeof t?new Nt(this):this.map(function(n){return ze(n,t,e)})}),Nt.prototype.reject=function(t){return this.filter(sr(gi(t)))},Nt.prototype.slice=function(t,e){t=wr(t);var n=this;return n.__filtered__&&(0<t||0>e)?new Nt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==j&&(e=wr(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Nt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Nt.prototype.toArray=function(){return this.take(4294967295)},Te(Nt.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Pt[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(Pt.prototype[e]=function(){function e(t){return t=r.apply(Pt,h([t],s)),i&&f?t[0]:t}var a=this.__wrapped__,s=i?[1]:arguments,u=a instanceof Nt,l=s[0],c=u||rs(a);c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,l=o&&!f,u=u&&!d;return!o&&c?(a=u?a:new Nt(this),a=t.apply(a,s),a.__actions__.push({func:$i,args:[e],thisArg:j}),new Et(a,f)):l&&u?t.apply(this,s):(a=this.thru(e),l?i?a.value()[0]:a.value():a)})}),r("pop push shift sort splice unshift".split(" "),function(t){var e=to[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Pt.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(rs(r)?r:[],t)}return this[n](function(n){return e.apply(rs(n)?n:[],t)})}}),Te(Nt.prototype,function(t,e){var n=Pt[e];if(n){var i=n.name+"";(Wo[i]||(Wo[i]=[])).push({name:e,func:n})}}),Wo[Qn(j,2).name]=[{name:"wrapper",func:j}],Nt.prototype.clone=function(){var t=new Nt(this.__wrapped__);return t.__actions__=Nn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Nn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Nn(this.__views__),t},Nt.prototype.reverse=function(){if(this.__filtered__){var t=new Nt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Nt.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,i=rs(e),r=0>n,o=i?e.length:0;t=o;for(var a=this.__views__,s=0,u=-1,l=a.length;++u<l;){var c=a[u],h=c.size;switch(c.type){case"drop":s+=h;break;case"dropRight":t-=h;break;case"take":t=Ro(t,s+h);break;case"takeRight":s=Io(s,t-h)}}if(t={start:s,end:t},a=t.start,s=t.end,t=s-a,r=r?s:a-1,a=this.__iteratees__,s=a.length,u=0,l=Ro(t,this.__takeCount__),!i||200>o||o==t&&l==t)return Ln(e,this.__actions__);i=[];t:for(;t--&&u<l;){for(r+=n,o=-1,c=e[r];++o<s;){var f=a[o],h=f.type,f=(0,f.iteratee)(c);if(2==h)c=f;else if(!f){if(1==h)continue t;break t}}i[u++]=c}return i},Pt.prototype.at=Na,Pt.prototype.chain=function(){return Yi(this)},Pt.prototype.commit=function(){return new Et(this.value(),this.__chain__)},Pt.prototype.next=function(){this.__values__===j&&(this.__values__=br(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?j:this.__values__[this.__index__++]}},Pt.prototype.plant=function(t){for(var e,n=this;n instanceof At;){var i=Vi(n);i.__index__=0,i.__values__=j,e?r.__wrapped__=i:e=i;var r=i,n=n.__wrapped__}return r.__wrapped__=t,e},Pt.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Nt?(this.__actions__.length&&(t=new Nt(this)),t=t.reverse(),t.__actions__.push({func:$i,args:[Xi],thisArg:j}),new Et(t,this.__chain__)):this.thru(Xi)},Pt.prototype.toJSON=Pt.prototype.valueOf=Pt.prototype.value=function(){return Ln(this.__wrapped__,this.__actions__)},Pt.prototype.first=Pt.prototype.head,bo&&(Pt.prototype[bo]=Qi),Pt}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ft._=re,define(function(){return re})):Zt?((Zt.exports=re)._=re,Ht._=re):Ft._=re}.call(this),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(t){return(t+="")===ya||t[0]===xa?xa+t:t}function h(t){return(t+="")[0]===xa?t.slice(1):t}function f(t){return c(t)in this._}function d(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(h(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function _(){for(var t in this._)return!1;return!0}function m(){this._=Object.create(null)}function v(t){return t}function y(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function x(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=ba.length;i>n;++n){var r=ba[n]+e;if(r in t)return r}}function b(){}function S(){}function w(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new l;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function L(){ua.event.preventDefault()}function T(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function P(t){for(var e=new S,n=0,i=arguments.length;++n<i;)e[arguments[n]]=w(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=ua.event;r.target=t,ua.event=r,e[r.type].apply(n,i)}finally{ua.event=o}}},e}function A(t){return wa(t,Aa),t}function C(t){return"function"==typeof t?t:function(){return La(t,this)}}function M(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function E(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ua.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:a:t.local?o:r}function k(t){return t.trim().replace(/\s+/g," ")}function D(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function O(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=O(t).map(R);var r=t.length;return"function"==typeof e?i:n}function R(t){var e=D(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",k(r+" "+t))):n.setAttribute("class",k(r.replace(e," ")))}}function z(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function N(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function G(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ca&&e.documentElement.namespaceURI===Ca?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ua.ns.qualify(t)).local?n:e}function V(){var t=this.parentNode;t&&t.removeChild(this)}function B(t){return{__data__:t}}function j(t){return function(){return Pa(this,t)}}function U(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function F(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],a=0,s=o.length;s>a;a++)(r=o[a])&&e(r,a,n);return t}function H(t){return wa(t,Ea),t}function Z(t){var e,n;return function(i,r,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<u;);return a}}function X(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=u(e,ca(arguments));i.call(this),this.addEventListener(t,this[a]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ua.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),u=W;s>0&&(t=t.slice(0,s));var l=ka.get(t);return l&&(t=l,u=q),s?e?r:i:e?b:o}function W(t,e){return function(n){var i=ua.event;ua.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ua.event=i}}}function q(t,e){var n=W(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function Y(n){var i=".dragsuppress-"+ ++Oa,r="click"+i,o=ua.select(e(n)).on("touchmove"+i,L).on("dragstart"+i,L).on("selectstart"+i,L);if(null==Da&&(Da=!("onselectstart"in n)&&x(n.style,"userSelect")),Da){var a=t(n).style,s=a[Da];a[Da]="none"}return function(t){if(o.on(i,null),Da&&(a[Da]=s),t){var e=function(){o.on(r,null)};o.on(r,function(){L(),e()},!0),setTimeout(e,0)}}}function $(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Ia){var o=e(t);if(o.scrollX||o.scrollY){i=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=i[0][0].getScreenCTM();Ia=!(a.f||a.e),i.remove()}}return Ia?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Q(){return ua.event.changedTouches[0].identifier}function K(t){return t>0?1:0>t?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Na:Math.acos(t)}function et(t){return t>1?Ba:-1>t?-Ba:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):bt(""+t,St,st):new st(t,e,n)}function ut(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new mt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):t instanceof ht?dt(t.l,t.a,t.b):dt((t=wt((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=ja)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof lt?ct(t.h,t.c,t.l):wt((t=mt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=pt(r)*Ka,i=pt(i)*Ja,o=pt(o)*ts,new mt(_t(3.2404542*r-1.5371385*i-.4985314*o),_t(-.969266*r+1.8760108*i+.041556*o),_t(.0556434*r-.2040259*i+1.0572252*o))}function dt(t,e,n){return t>0?new lt(Math.atan2(n,e)*Ua,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function _t(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function mt(t,e,n){return this instanceof mt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof mt?new mt(t.r,t.g,t.b):bt(""+t,mt,ut):new mt(t,e,n)}function vt(t){return new mt(t>>16,t>>8&255,255&t)}function yt(t){return vt(t)+""}function xt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Tt(r[0]),Tt(r[1]),Tt(r[2]))}return(o=is.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function St(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=.5>u?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=u>0&&1>u?0:i),new st(i,r,u)}function wt(t,e,n){t=Lt(t),e=Lt(e),n=Lt(n);var i=gt((.4124564*t+.3575761*e+.1804375*n)/Ka),r=gt((.2126729*t+.7151522*e+.072175*n)/Ja),o=gt((.0193339*t+.119192*e+.9503041*n)/ts);return ht(116*r-16,500*(i-r),200*(r-o))}function Lt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Pt(t){return"function"==typeof t?t:function(){return t}}function At(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Ct(e,n,t,i)}}function Ct(t,e,n,i){function r(){var t,e=u.status;if(!e&&Et(u)||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=ua.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var e=ua.event;ua.event=t;try{a.progress.call(o,u)}finally{ua.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ca(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,u),u.send(null==i?null:i),o},o.abort=function(){return u.abort(),o},ua.rebind(o,a,"on"),null==i?o:o.get(Mt(i))}function Mt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Et(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function kt(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={c:t,t:r,n:null};return os?os.n=o:rs=o,os=o,as||(ss=clearTimeout(ss),as=1,us(Dt)),o}function Dt(){var t=Ot(),e=It()-t;e>24?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Dt,e)),as=0):(as=1,us(Dt))}function Ot(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function It(){for(var t,e=rs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return os=t,n}function Rt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zt(t,e){var n=Math.pow(10,3*va(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Nt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],a=0,s=i[0],u=0;r>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(r-=s,r+s)),!((u+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:v;return function(t){var n=cs.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],h=n[7],f=n[8],d=n[9],p=1,g="",_="",m=!1,v=!0;switch(f&&(f=+f.substring(1)),(l||"0"===i&&"="===a)&&(l=i="0",a="="),d){case"n":h=!0,d="g";break;case"%":p=100,_="%",d="f";break;case"p":p=100,_="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":v=!1;case"d":m=!0,f=0;break;case"s":p=-1,d="r"}"$"===u&&(g=r[0],_=r[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):"e"!=d&&"f"!=d||(f=Math.max(0,Math.min(20,f)))),d=hs.get(d)||Gt;var y=l&&h;return function(t){var n=_;if(m&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var u=ua.formatPrefix(t,f);t=u.scale(t),n=u.symbol+_}else t*=p;t=d(t,f);var x,b,S=t.lastIndexOf(".");if(0>S){var w=v?t.lastIndexOf("e"):-1;0>w?(x=t,b=""):(x=t.substring(0,w),b=t.substring(w))}else x=t.substring(0,S),b=e+t.substring(S+1);!l&&h&&(x=o(x,1/0));var L=g.length+x.length+b.length+(y?0:r.length),T=c>L?new Array(L=c-L+1).join(i):"";return y&&(x=o(T+x,T.length?c-b.length:1/0)),r+=g,t=x+b,("<"===a?r+t+T:">"===a?T+r+t:"^"===a?T.substring(0,L>>=1)+r+t+T.substring(L):r+(y?t:T+t))+n}}}function Gt(t){return t+""}function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Bt(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ds(n-1)),1),n}function o(t,n){return e(t=new ds((+t)),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;i>a;)n(a)%o||s.push(new Date((+a))),e(a,1);else for(;i>a;)s.push(new Date((+a))),e(a,1);return s}function s(t,e,n){try{ds=Vt;var i=new Vt;return i._=t,a(i,e,n)}finally{ds=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var u=t.utc=jt(t);return u.floor=u,u.round=jt(i),u.ceil=jt(r),u.offset=jt(o),u.range=s,t}function jt(t){return function(e,n){try{ds=Vt;var i=new Vt;return i._=e,t(i,n)._}finally{ds=Date}}}function Ut(t){function e(t){function e(e){for(var n,r,o,a=[],s=-1,u=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=gs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=C[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&ds!==Vt,a=new(o?Vt:ds);return"j"in i?a.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),a.setFullYear(i.y,0,1),a.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(a.getDay()+5)%7:i.w+7*i.U-(a.getDay()+6)%7)):a.setFullYear(i.y,i.m,i.d),a.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;u>s;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37===r){if(a=e.charAt(s++),o=M[a in gs?e.charAt(s++):a],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){S.lastIndex=0;var i=S.exec(e.slice(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=b.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){P.lastIndex=0;var i=P.exec(e.slice(n));return i?(t.m=A.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){L.lastIndex=0;var i=L.exec(e.slice(n));return i?(t.m=T.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,C.c.toString(),e,i)}function u(t,e,i){return n(t,C.x.toString(),e,i)}function l(t,e,i){return n(t,C.X.toString(),e,i)}function c(t,e,n){var i=y.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,_=t.shortDays,m=t.months,v=t.shortMonths;e.utc=function(t){function n(t){try{ds=Vt;var e=new ds;return e._=t,i(e)}finally{ds=Date}}var i=e(t);return n.parse=function(t){try{ds=Vt;var e=i.parse(t);return e&&e._}finally{ds=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ue;var y=ua.map(),x=Ht(g),b=Zt(g),S=Ht(_),w=Zt(_),L=Ht(m),T=Zt(m),P=Ht(v),A=Zt(v);p.forEach(function(t,e){y.set(t.toLowerCase(),e)});var C={a:function(t){return _[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(h),d:function(t,e){return Ft(t.getDate(),e,2)},e:function(t,e){return Ft(t.getDate(),e,2)},H:function(t,e){return Ft(t.getHours(),e,2)},I:function(t,e){return Ft(t.getHours()%12||12,e,2)},j:function(t,e){return Ft(1+fs.dayOfYear(t),e,3)},L:function(t,e){return Ft(t.getMilliseconds(),e,3)},m:function(t,e){return Ft(t.getMonth()+1,e,2)},M:function(t,e){return Ft(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ft(t.getSeconds(),e,2)},U:function(t,e){return Ft(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ft(fs.mondayOfYear(t),e,2)},x:e(f),X:e(d),y:function(t,e){return Ft(t.getFullYear()%100,e,2)},Y:function(t,e){return Ft(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},M={a:i,A:r,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:ie,p:c,S:re,U:Wt,w:Xt,W:qt,x:u,X:l,y:$t,Y:Yt,Z:Qt,"%":se};return e}function Ft(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function Ht(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Zt(t){for(var e=new l,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Xt(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Wt(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function qt(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Yt(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function $t(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+2));return i?(t.y=Kt(+i[0]),n+i[0].length):-1}function Qt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t){return t+(t>68?1900:2e3)}function Jt(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){
var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=va(e)/60|0,r=va(e)%60;return n+Ft(i,"0",2)+Ft(r,"0",2)}function se(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function le(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function he(t,e){t&&bs.hasOwnProperty(t.type)&&bs[t.type](t,e)}function fe(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=ja,e=e*ja/2+Na/4;var n=t-i,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,h=r*u+c*Math.cos(s),f=c*a*Math.sin(s);ws.add(Math.atan2(f,h)),i=t,r=u,o=l}var e,n,i,r,o;Ls.point=function(a,s){Ls.point=t,i=(e=a)*ja,r=Math.cos(s=(n=s)*ja/2+Na/4),o=Math.sin(s)},Ls.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function _e(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function me(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Se(t,e){return va(t[0]-e[0])<Ra&&va(t[1]-e[1])<Ra}function we(t,e){t*=ja;var n=Math.cos(e*=ja);Le(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Le(t,e,n){++Ts,As+=(t-As)/Ts,Cs+=(e-Cs)/Ts,Ms+=(n-Ms)/Ts}function Te(){function t(t,r){t*=ja;var o=Math.cos(r*=ja),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(r),l=Math.atan2(Math.sqrt((l=n*u-i*s)*l+(l=i*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+i*u);Ps+=l,Es+=l*(e+(e=a)),ks+=l*(n+(n=s)),Ds+=l*(i+(i=u)),Le(e,n,i)}var e,n,i;zs.point=function(r,o){r*=ja;var a=Math.cos(o*=ja);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),zs.point=t,Le(e,n,i)}}function Pe(){zs.point=we}function Ae(){function t(t,e){t*=ja;var n=Math.cos(e*=ja),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=r*u-o*s,c=o*a-i*u,h=i*s-r*a,f=Math.sqrt(l*l+c*c+h*h),d=i*a+r*s+o*u,p=f&&-tt(d)/f,g=Math.atan2(f,d);Os+=p*l,Is+=p*c,Rs+=p*h,Ps+=g,Es+=g*(i+(i=a)),ks+=g*(r+(r=s)),Ds+=g*(o+(o=u)),Le(i,r,o)}var e,n,i,r,o;zs.point=function(a,s){e=a,n=s,zs.point=t,a*=ja;var u=Math.cos(s*=ja);i=u*Math.cos(a),r=u*Math.sin(a),o=Math.sin(s),Le(i,r,o)},zs.lineEnd=function(){t(e,n),zs.lineEnd=Pe,zs.point=we}}function Ce(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Me(){return!0}function Ee(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Se(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var u=new De(n,t,null,(!0)),l=new De(n,null,u,(!1));u.o=l,o.push(u),a.push(l),u=new De(i,t,null,(!1)),l=new De(i,null,u,(!0)),u.o=l,o.push(u),a.push(l)}}),a.sort(e),ke(o),ke(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;l>s;++s)r.point((h=c[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)r.point((h=c[s])[0],h[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);r.lineEnd()}}}function ke(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function De(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Oe(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);_.point(n[0],n[1])}function u(){v.point=s,_.lineStart()}function l(){v.point=a,_.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function h(){x.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=y.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,a=-1;if(i>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Ie))}var d,p,g,_=e(o),m=r.invert(i[0],i[1]),v={point:a,lineStart:u,lineEnd:l,polygonStart:function(){v.point=c,v.lineStart=h,v.lineEnd=f,d=[],p=[]},polygonEnd:function(){v.point=a,v.lineStart=u,v.lineEnd=l,d=ua.merge(d);var t=Be(m,p);d.length?(b||(o.polygonStart(),b=!0),Ee(d,ze,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Re(),x=e(y),b=!1;return v}}function Ie(t){return t.length>1}function Re(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:b,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ze(t,e){return((t=t.x)[0]<0?t[1]-Ba-Ra:Ba-t[1])-((e=e.x)[0]<0?e[1]-Ba-Ra:Ba-e[1])}function Ne(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Na:-Na,u=va(o-n);va(u-Na)<Ra?(t.point(n,i=(i+a)/2>0?Ba:-Ba),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=Na&&(va(n-r)<Ra&&(n-=r*Ra),va(o-s)<Ra&&(o-=s*Ra),i=Ge(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ge(t,e,n,i){var r,o,a=Math.sin(t-n);return va(a)>Ra?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function Ve(t,e,n,i){var r;if(null==t)r=n*Ba,i.point(-Na,r),i.point(0,r),i.point(Na,r),i.point(Na,0),i.point(Na,-r),i.point(0,-r),i.point(-Na,-r),i.point(-Na,0),i.point(-Na,r);else if(va(t[0]-e[0])>Ra){var o=t[0]<e[0]?Na:-Na;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Be(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;ws.reset();for(var s=0,u=e.length;u>s;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Na/4,p=Math.sin(d),g=Math.cos(d),_=1;;){_===c&&(_=0),t=l[_];var m=t[0],v=t[1]/2+Na/4,y=Math.sin(v),x=Math.cos(v),b=m-f,S=b>=0?1:-1,w=S*b,L=w>Na,T=p*y;if(ws.add(Math.atan2(T*S*Math.sin(w),g*x+T*Math.cos(w))),o+=L?b+S*Ga:b,L^f>=n^m>=n){var P=me(ge(h),ge(t));xe(P);var A=me(r,P);xe(A);var C=(L^b>=0?-1:1)*et(A[2]);(i>C||i===C&&(P[0]||P[1]))&&(a+=L^b>=0?1:-1)}if(!_++)break;f=m,p=y,g=x,h=t}}return(-Ra>o||Ra>o&&-Ra>ws)^1&a}function je(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=e(h,f),_=a?g?0:r(h,f):g?r(h+(0>h?Na:-Na),f):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=i(n,p),(Se(n,d)||Se(p,d))&&(p[0]+=Ra,p[1]+=Ra,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=i(p,n),t.point(d[0],d[1])):(d=i(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var m;_&o||!(m=i(p,n,!0))||(c=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&Se(n,p)||t.point(p[0],p[1]),n=p,u=g,o=_},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function i(t,e,n){var i=ge(t),r=ge(e),a=[1,0,0],s=me(i,r),u=_e(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,f=-o*l/c,d=me(a,s),p=ye(a,h),g=ye(s,f);ve(p,g);var _=d,m=_e(p,_),v=_e(_,_),y=m*m-v*(_e(p,p)-1);if(!(0>y)){var x=Math.sqrt(y),b=ye(_,(-m-x)/v);if(ve(b,p),b=be(b),!n)return b;var S,w=t[0],L=e[0],T=t[1],P=e[1];w>L&&(S=w,w=L,L=S);var A=L-w,C=va(A-Na)<Ra,M=C||Ra>A;if(!C&&T>P&&(S=T,T=P,P=S),M?C?T+P>0^b[1]<(va(b[0]-w)<Ra?T:P):T<=b[1]&&b[1]<=P:A>Na^(w<=b[0]&&b[0]<=L)){var E=ye(_,(-m+x)/v);return ve(E,p),[b,be(E)]}}}function r(e,n){var i=a?t:Na-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),a=o>0,s=va(o)>Ra,u=gn(t,6*ja);return Oe(e,n,u,a?[0,-t]:[-Na,t-Na])}function Ue(t,e,n,i){return function(r){var o,a=r.a,s=r.b,u=a.x,l=a.y,c=s.x,h=s.y,f=0,d=1,p=c-u,g=h-l;if(o=t-u,p||!(o>0)){if(o/=p,0>p){if(f>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>f&&(f=o)}else if(p>0){if(f>o)return;d>o&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,0>g){if(f>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=i-l,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>f&&(f=o)}else if(g>0){if(f>o)return;d>o&&(d=o)}return f>0&&(r.a={x:u+f*p,y:l+f*g}),1>d&&(r.b={x:u+d*p,y:l+d*g}),r}}}}}}function Fe(t,e,n,i){function r(i,r){return va(i[0]-t)<Ra?r>0?0:3:va(i[0]-n)<Ra?r>0?2:1:va(i[1]-e)<Ra?r>0?1:0:r>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=_.length,i=t[1],r=0;n>r;++r)for(var o,a=1,s=_[r],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=i?o[1]>i&&J(l,o,t)>0&&++e:o[1]<=i&&J(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,h=0;if(null==o||(c=r(o,u))!==(h=r(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+u+4)%4)!==h)}else l.point(s[0],s[1])}function c(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function h(t,e){c(t,e)&&s.point(t,e)}function f(){M.point=p,_&&_.push(m=[]),L=!0,w=!1,b=S=NaN}function d(){g&&(p(v,y),x&&w&&A.rejoin(),g.push(A.buffer())),M.point=h,w&&s.lineEnd()}function p(t,e){t=Math.max(-Gs,Math.min(Gs,t)),e=Math.max(-Gs,Math.min(Gs,e));var n=c(t,e);if(_&&m.push([t,e]),L)v=t,y=e,x=n,L=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&w)s.point(t,e);else{var i={a:{x:b,y:S},b:{x:t,y:e}};C(i)?(w||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(t,e),T=!1)}b=t,S=e,w=n}var g,_,m,v,y,x,b,S,w,L,T,P=s,A=Re(),C=Ue(t,e,n,i),M={point:h,lineStart:f,lineEnd:d,polygonStart:function(){s=A,g=[],_=[],T=!0},polygonEnd:function(){s=P,g=ua.merge(g);var e=u([t,i]),n=T&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&Ee(g,o,e,l,s),s.polygonEnd()),g=_=m=null}};return M}}function He(t){var e=0,n=Na/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Na/180,n=t[1]*Na/180):[e/Na*180,n/Na*180]},r}function Ze(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function Xe(){function t(t,e){Bs+=r*t-i*e,i=t,r=e}var e,n,i,r;Zs.point=function(o,a){Zs.point=t,e=i=o,n=r=a},Zs.lineEnd=function(){t(e,n)}}function We(t,e){js>t&&(js=t),t>Fs&&(Fs=t),Us>e&&(Us=e),e>Hs&&(Hs=e)}function qe(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=Ye(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=Ye(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ye(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $e(t,e){As+=t,Cs+=e,++Ms}function Qe(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);Es+=a*(e+t)/2,ks+=a*(n+i)/2,Ds+=a,$e(e=t,n=i)}var e,n;Ws.point=function(i,r){Ws.point=t,$e(e=i,n=r)}}function Ke(){Ws.point=$e}function Je(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);Es+=a*(i+t)/2,ks+=a*(r+e)/2,Ds+=a,a=r*t-i*e,Os+=a*(i+t),Is+=a*(r+e),Rs+=3*a,$e(i=t,r=e)}var e,n,i,r;Ws.point=function(o,a){Ws.point=t,$e(e=i=o,n=r=a)},Ws.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Ga)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:b};return s}function en(t){function e(t){return(s?i:n)(t)}function n(e){return on(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){y=NaN,L.point=o,e.lineStart()}function o(n,i){var o=ge([n,i]),a=t(n,i);r(y,x,v,b,S,w,y=a[0],x=a[1],v=n,b=o[0],S=o[1],w=o[2],s,e),e.point(y,x)}function a(){L.point=n,e.lineEnd()}function u(){i(),L.point=l,L.lineEnd=c}function l(t,e){o(h=t,f=e),d=y,p=x,g=b,_=S,m=w,L.point=o}function c(){r(y,x,v,b,S,w,d,p,h,g,_,m,s,e),L.lineEnd=a,a()}var h,f,d,p,g,_,m,v,y,x,b,S,w,L={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),L.lineStart=u},polygonEnd:function(){e.polygonEnd(),L.lineStart=i}};return L}function r(e,n,i,s,u,l,c,h,f,d,p,g,_,m){var v=c-e,y=h-n,x=v*v+y*y;if(x>4*o&&_--){var b=s+d,S=u+p,w=l+g,L=Math.sqrt(b*b+S*S+w*w),T=Math.asin(w/=L),P=va(va(w)-1)<Ra||va(i-f)<Ra?(i+f)/2:Math.atan2(S,b),A=t(P,T),C=A[0],M=A[1],E=C-e,k=M-n,D=y*E-v*k;(D*D/x>o||va((v*E+y*k)/x-.5)>.3||a>s*d+u*p+l*g)&&(r(e,n,i,s,u,l,C,M,P,b/=L,S/=L,w,_,m),m.point(C,M),r(C,M,P,b,S,w,c,h,f,d,p,g,_,m))}}var o=.5,a=Math.cos(30*ja),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*Ua,n*Ua])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*ja,t[1]*ja),[t[0]*f+u,l-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(l-t[1])/f),t&&[t[0]*Ua,t[1]*Ua]}function i(){s=Ce(a=hn(m,y,x),o);var t=o(g,_);return u=d-t[0]*f,l=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=en(function(t,e){return t=o(t,e),[t[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,_=0,m=0,y=0,x=0,b=Ns,S=v,w=null,L=null;return e.stream=function(t){return c&&(c.valid=!1),c=un(b(a,h(S(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Ns):je((w=+t)*ja),r()):w},e.clipExtent=function(t){return arguments.length?(L=t,S=t?Fe(t[0][0],t[0][1],t[1][0],t[1][1]):v,r()):L},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*ja,_=t[1]%360*ja,i()):[g*Ua,_*Ua]},e.rotate=function(t){return arguments.length?(m=t[0]%360*ja,y=t[1]%360*ja,x=t.length>2?t[2]%360*ja:0,i()):[m*Ua,y*Ua,x*Ua]},ua.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function un(t){return on(t,function(e,n){t.point(e*ja,n*ja)})}function ln(t,e){return[t,e]}function cn(t,e){return[t>Na?t-Ga:-Na>t?t+Ga:t,e]}function hn(t,e,n){return t?e||n?Ce(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(t){return function(e,n){return e+=t,[e>Na?e-Ga:-Na>e?e+Ga:e,n]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*i+s*r;return[Math.atan2(u*o-c*a,s*i-l*r),et(c*o+u*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*i+c*r),et(c*i-s*r)]},n}function gn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var u=a*e;null!=r?(r=_n(n,r),o=_n(n,o),(a>0?o>r:r>o)&&(r+=a*Ga)):(r=t+a*Ga,o=t-.5*u);for(var l,c=r;a>0?c>o:o>c;c-=u)s.point((l=be([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function _n(t,e){var n=ge(e);n[0]-=t,xe(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ra)%(2*Math.PI)}function mn(t,e,n){var i=ua.range(t,e-Ra,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function vn(t,e,n){var i=ua.range(t,e-Ra,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function yn(t){return t.source}function xn(t){return t.target}function bn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ot(i-e)+r*a*ot(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*u+e*c,r=n*l+e*h,a=n*o+e*s;return[Math.atan2(r,i)*Ua,Math.atan2(a,Math.sqrt(i*i+r*r))*Ua]}:function(){return[t*Ua,e*Ua]};return p.distance=f,p}function Sn(){function t(t,r){var o=Math.sin(r*=ja),a=Math.cos(r),s=va((t*=ja)-e),u=Math.cos(s);qs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*u)*s),n*o+i*a*u),e=t,n=o,i=a}var e,n,i;Ys.point=function(r,o){e=r*ja,n=Math.sin(o*=ja),i=Math.cos(o),Ys.point=t},Ys.lineEnd=function(){Ys.point=Ys.lineEnd=b}}function wn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function Ln(t,e){function n(t,e){a>0?-Ba+Ra>e&&(e=-Ba+Ra):e>Ba-Ra&&(e=Ba-Ra);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Na/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=K(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Ba]},n):Pn}function Tn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return va(r)<Ra?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-K(r)*Math.sqrt(t*t+n*n)]},n)}function Pn(t,e){return[t,Math.log(Math.tan(Na/4+e/2))]}function An(t){var e,n=an(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Na*i(),u=r();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Cn(t,e){return[Math.log(Math.tan(Na/4+e/2)),-t]}function Mn(t){return t[0]}function En(t){return t[1]}function kn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&J(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function On(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function In(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,h=i[1]-l,f=(s*(u-l)-h*(r-o))/(h*a-s*c);return[r+f*a,u+f*c]}function Rn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function zn(){ii(this),this.edge=this.site=this.circle=null}function Nn(t){var e=su.pop()||new zn;return e.site=t,e}function Gn(t){qn(t),ru.remove(t),su.push(t),ii(t)}function Vn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];Gn(t);for(var u=o;u.circle&&va(n-u.circle.x)<Ra&&va(i-u.circle.cy)<Ra;)o=u.P,s.unshift(u),Gn(u),u=o;s.unshift(u),qn(u);for(var l=a;l.circle&&va(n-l.circle.x)<Ra&&va(i-l.circle.cy)<Ra;)a=l.N,s.push(l),Gn(l),l=a;s.push(l),qn(l);var c,h=s.length;for(c=1;h>c;++c)l=s[c],u=s[c-1],ti(l.edge,u.site,l.site,r);u=s[0],l=s[h-1],l.edge=Kn(u.site,l.site,null,r),Wn(u),Wn(l)}function Bn(t){for(var e,n,i,r,o=t.x,a=t.y,s=ru._;s;)if(i=jn(s,a)-o,i>Ra)s=s.L;else{if(r=o-Un(s,a),!(r>Ra)){i>-Ra?(e=s.P,n=s):r>-Ra?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Nn(t);if(ru.insert(e,u),e||n){if(e===n)return qn(e),n=Nn(e.site),ru.insert(u,n),u.edge=n.edge=Kn(e.site,u.site),Wn(e),void Wn(n);if(!n)return void(u.edge=Kn(e.site,u.site));qn(e),qn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,_=p.y-h,m=2*(f*_-d*g),v=f*f+d*d,y=g*g+_*_,x={x:(_*v-d*y)/m+c,y:(f*y-g*v)/m+h};ti(n.edge,l,p,x),u.edge=Kn(l,t,null,x),n.edge=Kn(t,p,null,x),Wn(e),Wn(n)}}function jn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Un(t,e){var n=t.N;if(n)return jn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Fn(t){this.site=t,this.edges=[]}function Hn(t){for(var e,n,i,r,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=iu,_=g.length;_--;)if(o=g[_],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),i=c.x,r=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(va(i-e)>Ra||va(r-n)>Ra)&&(s.splice(a,0,new ei(Jn(o.site,c,va(i-h)<Ra&&p-r>Ra?{x:h,y:va(e-h)<Ra?n:p}:va(r-p)<Ra&&f-i>Ra?{x:va(n-p)<Ra?e:f,y:p}:va(i-f)<Ra&&r-d>Ra?{x:f,y:va(e-f)<Ra?n:d}:va(r-d)<Ra&&i-h>Ra?{x:va(n-d)<Ra?e:h,y:d}:null),o.site,null)),++u)}function Zn(t,e){return e.angle-t.angle}function Xn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,h=o.y-s,f=2*(u*h-l*c);if(!(f>=-za)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,_=(u*p-c*d)/f,h=_+s,m=uu.pop()||new Xn;m.arc=t,m.site=r,m.x=g+a,m.y=h+Math.sqrt(g*g+_*_),m.cy=h,t.circle=m;for(var v=null,y=au._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}au.insert(v,m),v||(ou=m)}}}}function qn(t){var e=t.circle;e&&(e.P||(ou=e.N),au.remove(e),uu.push(e),ii(e),t.circle=null)}function Yn(t){for(var e,n=nu,i=Ue(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!$n(e,t)||!i(e)||va(e.a.x-e.b.x)<Ra&&va(e.a.y-e.b.y)<Ra)&&(e.a=e.b=null,n.splice(r,1))}function $n(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,_=(f+p)/2,m=(d+g)/2;if(g===d){if(a>_||_>=s)return;if(f>p){if(o){if(o.y>=l)return}else o={x:_,y:u};n={x:_,y:l}}else{if(o){if(o.y<u)return}else o={x:_,y:l};n={x:_,y:u}}}else if(i=(f-p)/(g-d),r=m-i*_,-1>i||i>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Qn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Kn(t,e,n,i){var r=new Qn(t,e);return nu.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),iu[t.i].edges.push(new ei(r,t,e)),iu[e.i].edges.push(new ei(r,e,t)),r}function Jn(t,e,n){var i=new Qn(t,null);return i.a=e,i.b=n,nu.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(ui).pop();for(nu=[],iu=new Array(t.length),ru=new ni,au=new ni;;)if(r=ou,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(iu[o.i]=new Fn(o),Bn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Vn(r.arc)}e&&(Yn(e),Hn(e));var a={cells:iu,edges:nu};return ru=au=nu=iu=null,a}function ui(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function hi(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&di(t,u[0],n,i,a,s),u[1]&&di(t,u[1],a,i,r,s),u[2]&&di(t,u[2],n,s,a,o),u[3]&&di(t,u[3],a,s,r,o)}}function pi(t,e,n,i,r,o,a){var s,u=1/0;return function t(l,c,h,f,d){if(!(c>o||h>a||i>f||r>d)){if(p=l.point){var p,g=e-l.x,_=n-l.y,m=g*g+_*_;if(u>m){var v=Math.sqrt(u=m);i=e-v,r=n-v,o=e+v,a=n+v,s=p}}for(var y=l.nodes,x=.5*(c+f),b=.5*(h+d),S=e>=x,w=n>=b,L=w<<1|S,T=L+4;T>L;++L)if(l=y[3&L])switch(3&L){case 0:t(l,c,h,x,b);break;case 1:t(l,x,h,f,b);break;case 2:t(l,c,b,x,d);break;case 3:t(l,x,b,f,d)}}}(t,i,r,o,a),s}function gi(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+xt(Math.round(n+o*t))+xt(Math.round(i+a*t))+xt(Math.round(r+s*t))}}function _i(t,e){var n,i={},r={};for(n in t)n in e?i[n]=yi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function mi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vi(t,e){var n,i,r,o=cu.lastIndex=hu.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=cu.exec(t))&&(i=hu.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:mi(n,i)})),o=hu.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,i=0;e>i;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function yi(t,e){for(var n,i=ua.interpolators.length;--i>=0&&!(n=ua.interpolators[i](t,e)););return n}function xi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(yi(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;a>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function bi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Si(t){return function(e){return 1-t(1-e)}}function wi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Li(t){return t*t}function Ti(t){return t*t*t}function Pi(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ai(t){return function(e){return Math.pow(e,t)}}function Ci(t){return 1-Math.cos(t*Ba)}function Mi(t){return Math.pow(2,10*(t-1))}function Ei(t){return 1-Math.sqrt(1-t*t)}function ki(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ga*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ga/e)}}function Di(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Oi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ii(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ct(n+o*t,i+a*t,r+s*t)+""}}function Ri(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ut(n+o*t,i+a*t,r+s*t)+""}}function zi(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return ft(n+o*t,i+a*t,r+s*t)+""}}function Ni(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Gi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Bi(e),r=Vi(e,n),o=Bi(ji(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ua,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ua:0}function Vi(t,e){return t[0]*e[0]+t[1]*e[1]}function Bi(t){var e=Math.sqrt(Vi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function ji(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ui(t){return t.length?t.pop()+",":""}function Fi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:mi(t[0],e[0])},{i:r-2,x:mi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Hi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Ui(n)+"rotate(",null,")")-2,x:mi(t,e)})):e&&n.push(Ui(n)+"rotate("+e+")")}function Zi(t,e,n,i){t!==e?i.push({i:n.push(Ui(n)+"skewX(",null,")")-2,x:mi(t,e)}):e&&n.push(Ui(n)+"skewX("+e+")")}function Xi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Ui(n)+"scale(",null,",",null,")");i.push({i:r-4,x:mi(t[0],e[0])},{i:r-2,x:mi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Ui(n)+"scale("+e+")")}function Wi(t,e){var n=[],i=[];return t=ua.transform(t),e=ua.transform(e),Fi(t.translate,e.translate,n,i),Hi(t.rotate,e.rotate,n,i),Zi(t.skew,e.skew,n,i),Xi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function qi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Yi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function $i(t){for(var e=t.source,n=t.target,i=Ki(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Qi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ki(t,e){if(t===e)return t;for(var n=Qi(t),i=Qi(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Ji(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return ua.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function ur(t){return t.value}function lr(t,e){return e.value-t.value}function cr(t){return ua.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function hr(t){return t.x}function fr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function pr(t){return ua.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function _r(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function mr(t){return t.reduce(vr,0)}function vr(t,e){return t+e[1]}function yr(t,e){return xr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function xr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function br(t){return[ua.min(t),ua.max(t)]}function Sr(t,e){return t.value-e.value}function wr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Lr(t,e){t._pack_next=e,e._pack_prev=t}function Tr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Pr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,h=-(1/0),f=1/0,d=-(1/0);if(n.forEach(Ar),i=n[0],i.x=-i.r,i.y=0,e(i),l>1&&(r=n[1],r.x=r.r,r.y=0,e(r),l>2))for(o=n[2],Er(i,r,o),e(o),wr(i,o),i._pack_prev=o,wr(o,r),r=i._pack_next,a=3;l>a;a++){Er(i,r,o=n[a]);var p=0,g=1,_=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Tr(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!Tr(u,o);u=u._pack_prev,_++);p?(_>g||g==_&&r.r<i.r?Lr(i,r=s):Lr(i=u,r),a--):(wr(i,o),r=o,e(o))}var m=(c+h)/2,v=(f+d)/2,y=0;for(a=0;l>a;a++)o=n[a],o.x-=m,o.y-=v,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,n.forEach(Cr);
}}function Ar(t){t._pack_next=t._pack_prev=t}function Cr(t){delete t._pack_next,delete t._pack_prev}function Mr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Mr(r[o],e,n,i)}function Er(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o;a*=a,i*=i;var u=.5+(i-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function kr(t,e){return t.parent==e.parent?1:2}function Dr(t){var e=t.children;return e.length?e[0]:t.t}function Or(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ir(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Rr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function zr(t,e,n){return t.a.parent===e.parent?t.a:n}function Nr(t){return 1+ua.max(t,function(t){return t.y})}function Gr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Vr(t){var e=t.children;return e&&e.length?Vr(e[0]):t}function Br(t){var e,n=t.children;return n&&(e=n.length)?Br(n[e-1]):t}function jr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ur(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Fr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Hr(t){return t.rangeExtent?t.rangeExtent():Fr(t.range())}function Zr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Xr(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return o>a&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Wr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Su}function qr(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=ua.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function Yr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?qr:Zr,u=i?Yi:qi;return a=r(t,e,u,n),s=r(e,t,u,yi),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Ni)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return Jr(t,e)},o.tickFormat=function(e,n){return to(t,e,n)},o.nice=function(e){return Qr(t,e),r()},o.copy=function(){return Yr(t,e,n,i)},r()}function $r(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Qr(t,e){return Xr(t,Wr(Kr(t,e)[2])),Xr(t,Wr(Kr(t,e)[2])),t}function Kr(t,e){null==e&&(e=10);var n=Fr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Jr(t,e){return ua.range.apply(ua,Kr(t,e))}function to(t,e,n){var i=Kr(t,e);if(n){var r=cs.exec(n);if(r.shift(),"s"===r[8]){var o=ua.formatPrefix(Math.max(va(i[0]),va(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=ua.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in wu?Math.abs(n-eo(Math.max(va(e[0]),va(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),a):e},a.nice=function(){var e=Xr(i.map(r),n?Math:Tu);return t.domain(e),i=e.map(o),a},a.ticks=function(){var t=Fr(i),a=[],s=t[0],u=t[1],l=Math.floor(r(s)),c=Math.ceil(r(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var f=1;h>f;f++)a.push(o(l)*f);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var f=h-1;f>0;f--)a.push(o(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Lu;arguments.length<2?n=Lu:"function"!=typeof n&&(n=ua.format(n));var i=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/o(Math.round(r(t)));return e-.5>a*e&&(a*=e),i>=a?n(t):""}},a.copy=function(){return io(t.copy(),e,n,i)},$r(a,t)}function ro(t,e,n){function i(e){return t(r(e))}var r=oo(e),o=oo(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Jr(n,t)},i.tickFormat=function(t,e){return to(n,t,e)},i.nice=function(t){return i.domain(Qr(n,t))},i.exponent=function(a){return arguments.length?(r=oo(e=a),o=oo(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return ro(t.copy(),e,n)},$r(i,t)}function oo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ao(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return ua.range(t.length).map(function(t){return e+n*t})}var r,o,a;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new l;for(var o,a=-1,s=i.length;++a<s;)r.has(o=i[a])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=i(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=i(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],h=r[1-l],f=(h-c)/(t.length-s+2*u);return o=i(c+f*u,f),l&&o.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],h=r[1-l],f=Math.floor((h-c)/(t.length-s+2*u));return o=i(c+Math.round((h-c-(t.length-s)*f)/2),f),l&&o.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Fr(e.a[0])},n.copy=function(){return ao(t,e)},n.domain(t)}function so(t,e){function o(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=ua.quantile(t,n/i);return a}function a(t){return isNaN(t=+t)?void 0:e[ua.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return so(t,e)},o()}function uo(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},i.copy=function(){return uo(t,e,n)},r()}function lo(t,e){function n(n){return n>=n?e[ua.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return lo(t,e)},n}function co(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Jr(t,e)},e.tickFormat=function(e,n){return to(t,e,n)},e.copy=function(){return co(t)},e}function ho(){return 0}function fo(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function _o(t){return t.endAngle}function mo(t){return t&&t.padAngle}function vo(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function yo(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,_=f-c,m=d-h,v=_*_+m*m,y=n-i,x=c*d-f*h,b=(0>m?-1:1)*Math.sqrt(Math.max(0,y*y*v-x*x)),S=(x*m-_*b)/v,w=(-x*_-m*b)/v,L=(x*m+_*b)/v,T=(-x*_+m*b)/v,P=S-p,A=w-g,C=L-p,M=T-g;return P*P+A*A>C*C+M*M&&(S=L,w=T),[[S-u,w-l],[S*n/y,w*n/y]]}function xo(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,f=e.length,d=Pt(n),p=Pt(i);++h<f;)r.call(this,u=e[h],h)?c.push([+d.call(this,u,h),+p.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Mn,i=En,r=Me,o=bo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=ku.get(t)||bo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function bo(t){return t.length>1?t.join("L"):t+"Z"}function So(t){return t.join("L")+"Z"}function wo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Lo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function To(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Po(t,e){return t.length<4?bo(t):t[1]+Mo(t.slice(1,-1),Eo(t,e))}function Ao(t,e){return t.length<3?So(t):t[0]+Mo((t.push(t[0]),t),Eo([t[t.length-2]].concat(t,[t[1]]),e))}function Co(t,e){return t.length<3?bo(t):t[0]+Mo(t,Eo(t,e))}function Mo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return bo(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Eo(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function ko(t){if(t.length<3)return bo(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Ro(Iu,a),",",Ro(Iu,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),zo(u,a,s);return t.pop(),u.push("L",i),u.join("")}function Do(t){if(t.length<4)return bo(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Ro(Iu,o)+","+Ro(Iu,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),zo(n,o,a);return n.join("")}function Oo(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Ro(Iu,a),",",Ro(Iu,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),zo(e,a,s);return e.join("")}function Io(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return ko(t)}function Ro(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function zo(t,e,n){t.push("C",Ro(Du,e),",",Ro(Du,n),",",Ro(Ou,e),",",Ro(Ou,n),",",Ro(Iu,e),",",Ro(Iu,n))}function No(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Go(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=No(r,o);++e<n;)i[e]=(a+(a=No(r=o,o=t[e+1])))/2;return i[e]=a,i}function Vo(t){for(var e,n,i,r,o=[],a=Go(t),s=-1,u=t.length-1;++s<u;)e=No(t[s],t[s+1]),va(e)<Ra?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function Bo(t){return t.length<3?bo(t):t[0]+Mo(t,Vo(t))}function jo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]-Ba,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Uo(t){function e(e){function u(){g.push("M",s(t(m),h),c,l(t(_.reverse()),h),"Z")}for(var f,d,p,g=[],_=[],m=[],v=-1,y=e.length,x=Pt(n),b=Pt(r),S=n===i?function(){return d}:Pt(i),w=r===o?function(){return p}:Pt(o);++v<y;)a.call(this,f=e[v],v)?(_.push([d=+x.call(this,f,v),p=+b.call(this,f,v)]),m.push([+S.call(this,f,v),+w.call(this,f,v)])):_.length&&(u(),_=[],m=[]);return _.length&&u(),g.length?g.join(""):null}var n=Mn,i=Mn,r=0,o=En,a=Me,s=bo,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=ku.get(t)||bo).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Fo(t){return t.radius}function Ho(t){return[t.x,t.y]}function Zo(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Ba;return[n*Math.cos(i),n*Math.sin(i)]}}function Xo(){return 64}function Wo(){return"circle"}function qo(t){var e=Math.sqrt(t/Na);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Yo(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function $o(t,e,n){return wa(t,ju),t.namespace=e,t.id=n,t}function Qo(t,e,n,i){var r=t.id,o=t.namespace;return F(t,"function"==typeof n?function(t,a,s){t[o][r].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Ko(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(t,e,n,i,r){function o(t){var e=g.delay;return c.t=e+u,t>=e?a(t-e):void(c.c=a)}function a(n){var r=p.active,o=p[r];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var a in p)if(i>+a){var l=p[a];l.timer.c=null,l.timer.t=NaN,--p.count,delete p[a]}c.c=s,kt(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,u),p.active=i,g.event&&g.event.start.call(t,t.__data__,e),d=[],g.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&d.push(i)}),f=g.ease,h=g.duration}function s(r){for(var o=r/h,a=f(o),s=d.length;s>0;)d[--s].call(t,a);return o>=1?(g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1):void 0}var u,c,h,f,d,p=t[n]||(t[n]={active:0,count:0}),g=p[i];g||(u=r.time,c=kt(o,0,u),g=p[i]={tween:new l,time:u,timer:c,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++p.count)}function ea(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function na(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function ia(t){return t.toISOString()}function ra(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=ua.bisect($u,r);return o==$u.length?[e.year,Kr(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/$u[o-1]<$u[o]/r?o-1:o]:[Ju,Kr(t,n)[2]]}return i.invert=function(e){return oa(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(oa)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,oa(+n+1),e).length}var o=i.domain(),a=Fr(o),s=null==t?r(a,10):"number"==typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(Xr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=oa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=oa(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Fr(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],oa(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return ra(t.copy(),e,n)},$r(i,t)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=ha.createRange();return e.selectNode(ha.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},la=[].slice,ca=function(t){return la.call(t)},ha=this.document;if(ha)try{ca(ha.documentElement.childNodes)[0].nodeType}catch(t){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ha)try{ha.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var fa=this.Element.prototype,da=fa.setAttribute,pa=fa.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,_a=ga.setProperty;fa.setAttribute=function(t,e){da.call(this,t,e+"")},fa.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){_a.call(this,t,e+"",n)}}ua.ascending=n,ua.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},ua.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},ua.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},ua.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},ua.sum=function(t,e){var n,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)r(n=+t[a])&&(i+=n);else for(;++a<o;)r(n=+e.call(t,t[a],a))&&(i+=n);return i},ua.mean=function(t,e){var n,o=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)r(n=i(t[s]))?o+=n:--u;else for(;++s<a;)r(n=i(e.call(t,t[s],s)))?o+=n:--u;return u?o/u:void 0},ua.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ua.median=function(t,e){var o,a=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)r(o=i(t[u]))&&a.push(o);else for(;++u<s;)r(o=i(e.call(t,t[u],u)))&&a.push(o);return a.length?ua.quantile(a.sort(n),.5):void 0},ua.variance=function(t,e){var n,o,a=t.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)r(n=i(t[l]))&&(o=n-s,s+=o/++c,u+=o*(n-s));else for(;++l<a;)r(n=i(e.call(t,t[l],l)))&&(o=n-s,s+=o/++c,u+=o*(n-s));return c>1?u/(c-1):void 0},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ma=o(n);ua.bisectLeft=ma.left,ua.bisect=ua.bisectRight=ma.right,ua.bisector=function(t){return o(1===t.length?function(e,i){return n(t(e),i)}:t)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ua.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ua.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},ua.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=ua.min(t,a),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--a]=i[e];return n};var va=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=s(va(n)),a=-1;if(t*=o,e*=o,n*=o,0>n)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},ua.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var ya="__proto__",xa="\0";u(l,{has:f,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:d,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:g,empty:_,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ua.nest=function(){function t(e,a,s){if(s>=o.length)return i?i.call(r,a):n?a.sort(n):a;for(var u,c,h,f,d=-1,p=a.length,g=o[s++],_=new l;++d<p;)(f=_.get(u=g(c=a[d])))?f.push(c):_.set(u,[c]);return e?(c=e(),h=function(n,i){c.set(n,t(e,i,s))}):(c={},h=function(n,i){c[n]=t(e,i,s)}),_.forEach(h),c}function e(t,n){if(n>=o.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],a=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(ua.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return a[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},ua.set=function(t){var e=new m;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},u(m,{has:f,add:function(t){return this._[c(t+="")]=!0,t},remove:d,values:p,size:g,empty:_,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=y(t,e,e[n]);return t};var ba=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new S,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=w(t);return t},S.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(Sa,"\\$&")};var Sa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},La=function(t,e){return e.querySelector(t)},Ta=function(t,e){return e.querySelectorAll(t)},Pa=function(t,e){var n=t.matches||t[x(t,"matchesSelector")];return(Pa=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(La=function(t,e){return Sizzle(t,e)[0]||null},Ta=Sizzle,Pa=Sizzle.matchesSelector),ua.selection=function(){return ua.select(ha.documentElement)};var Aa=ua.selection.prototype=[];Aa.select=function(t){var e,n,i,r,o=[];t=C(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return A(o)},Aa.selectAll=function(t){var e,n,i=[];t=M(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,r))),e.parentNode=n);return A(i)};var Ca="http://www.w3.org/1999/xhtml",Ma={svg:"http://www.w3.org/2000/svg",xhtml:Ca,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Ma,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ma.hasOwnProperty(n)?{space:Ma[n],local:t}:t}},Aa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ua.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},Aa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=O(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!D(t[r]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},Aa.style=function(t,n,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(i in t)this.each(z(i,t[i],n));return this}if(2>r){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(z(t,n,i))},Aa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Aa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Aa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Aa.append=function(t){return t=G(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Aa.insert=function(t,e){return t=G(t),e=C(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(V)},Aa.data=function(t,e){function n(t,n){var i,r,o,a=t.length,h=n.length,f=Math.min(a,h),d=new Array(h),p=new Array(h),g=new Array(a);if(e){var _,m=new l,v=new Array(a);for(i=-1;++i<a;)(r=t[i])&&(m.has(_=e.call(r,r.__data__,i))?g[i]=r:m.set(_,r),v[i]=_);for(i=-1;++i<h;)(r=m.get(_=e.call(n,o=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=o):p[i]=B(o),m.set(_,!0);for(i=-1;++i<a;)i in v&&m.get(v[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<f;)r=t[i],o=n[i],r?(r.__data__=o,d[i]=r):p[i]=B(o);for(;h>i;++i)p[i]=B(n[i]);for(;a>i;++i)g[i]=t[i]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(p),u.push(d),c.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(r=i[o])&&(t[o]=r.__data__);return t}var s=H([]),u=A([]),c=A([]);if("function"==typeof t)for(;++o<a;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<a;)n(i=this[o],t);return u.enter=function(){return s},u.exit=function(){return c},u},Aa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Aa.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=j(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return A(r)},Aa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Aa.sort=function(t){t=U.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Aa.each=function(t){return F(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Aa.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},Aa.size=function(){var t=0;return F(this,function(){++t}),t};var Ea=[];ua.selection.enter=H,ua.selection.enter.prototype=Ea,Ea.append=Aa.append,Ea.empty=Aa.empty,Ea.node=Aa.node,Ea.call=Aa.call,Ea.size=Aa.size,Ea.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return A(a)},Ea.insert=function(t,e){return arguments.length<2&&(e=Z(this)),Aa.insert.call(this,t,e)},ua.select=function(e){var n;return"string"==typeof e?(n=[La(e,ha)],n.parentNode=ha.documentElement):(n=[e],n.parentNode=t(e)),A([n])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=ca(Ta(t,ha)),e.parentNode=ha.documentElement):(e=ca(t),e.parentNode=null),A([e])},Aa.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(X(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(X(t,e,n))};var ka=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});ha&&ka.forEach(function(t){"on"+t in ha&&ka.remove(t)});var Da,Oa=0;ua.mouse=function(t){return $(t,T())};var Ia=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=T().changedTouches),e)for(var i,r=0,o=e.length;o>r;++r)if((i=e[r]).identifier===n)return $(t,i)},ua.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,i=e(f,g);i&&(t=i[0]-y[0],n=i[1]-y[1],p|=t|n,y=i,d({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:n}))}function u(){e(f,g)&&(m.on(o+_,null).on(a+_,null),v(p),d({type:"dragend"}))}var l,c=this,h=ua.event.target.correspondingElement||ua.event.target,f=c.parentNode,d=i.of(c,arguments),p=0,g=t(),_=".drag"+(null==g?"":"-"+g),m=ua.select(n(h)).on(o+_,s).on(a+_,u),v=Y(h),y=e(f,g);r?(l=r.apply(c,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],d({type:"dragstart"})}}var i=P(t,"drag","dragstart","dragend"),r=null,o=n(b,ua.mouse,e,"mousemove","mouseup"),a=n(Q,ua.touch,v,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ua.rebind(t,i,"on")},ua.touches=function(t,e){return arguments.length<2&&(e=T().touches),e?ca(e).map(function(e){var n=$(t,e);return n.identifier=e.identifier,n}):[]};var Ra=1e-6,za=Ra*Ra,Na=Math.PI,Ga=2*Na,Va=Ga-Ra,Ba=Na/2,ja=Na/180,Ua=180/Na,Fa=Math.SQRT2,Ha=2,Za=4;ua.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-r,h=u-o,f=c*c+h*h;if(za>f)i=Math.log(l/a)/Fa,n=function(t){return[r+t*c,o+t*h,a*Math.exp(Fa*t*i)]};else{var d=Math.sqrt(f),p=(l*l-a*a+Za*f)/(2*a*Ha*d),g=(l*l-a*a-Za*f)/(2*l*Ha*d),_=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);i=(m-_)/Fa,n=function(t){var e=t*i,n=it(_),s=a/(Ha*d)*(n*rt(Fa*e+_)-nt(_));return[r+s*c,o+s*h,a*n/it(Fa*e+_)]}}return n.duration=1e3*i,n},ua.behavior.zoom=function(){function t(t){t.on(k,h).on(Wa+".zoom",d).on("dblclick.zoom",p).on(I,f)}function n(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function i(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function r(t){T.k=Math.max(C[0],Math.min(C[1],t))}function o(t,e){e=i(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function a(e,n,i,a){e.__chart__={x:T.x,y:T.y,k:T.k},r(Math.pow(2,a)),o(_=n,i),e=ua.select(e),M>0&&(e=e.transition().duration(M)),e.call(t.event)}function s(){b&&b.domain(x.range().map(function(t){return(t-T.x)/T.k}).map(x.invert)),w&&w.domain(S.range().map(function(t){return(t-T.y)/T.k}).map(S.invert))}function u(t){E++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function c(t){--E||(t({type:"zoomend"}),_=null)}function h(){function t(){s=1,o(ua.mouse(r),f),l(a)}function i(){h.on(D,null).on(O,null),d(s),c(a)}var r=this,a=R.of(r,arguments),s=0,h=ua.select(e(r)).on(D,t).on(O,i),f=n(ua.mouse(r)),d=Y(r);
Bu.call(r),u(a)}function f(){function t(){var t=ua.touches(p);return d=T.k,t.forEach(function(t){t.identifier in _&&(_[t.identifier]=n(t))}),t}function e(){var e=ua.event.target;ua.select(e).on(x,i).on(b,s),S.push(e);for(var n=ua.event.changedTouches,r=0,o=n.length;o>r;++r)_[n[r].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(500>l-y){var c=u[0];a(p,c,_[c.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),L()}y=l}else if(u.length>1){var c=u[0],h=u[1],f=c[0]-h[0],d=c[1]-h[1];m=f*f+d*d}}function i(){var t,e,n,i,a=ua.touches(p);Bu.call(p);for(var s=0,u=a.length;u>s;++s,i=null)if(n=a[s],i=_[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=m&&Math.sqrt(c/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(h*d)}y=null,o(t,e),l(g)}function s(){if(ua.event.touches.length){for(var e=ua.event.changedTouches,n=0,i=e.length;i>n;++n)delete _[e[n].identifier];for(var r in _)return void t()}ua.selectAll(S).on(v,null),w.on(k,h).on(I,f),P(),c(g)}var d,p=this,g=R.of(p,arguments),_={},m=0,v=".zoom-"+ua.event.changedTouches[0].identifier,x="touchmove"+v,b="touchend"+v,S=[],w=ua.select(p),P=Y(p);e(),u(g),w.on(k,null).on(I,e)}function d(){var t=R.of(this,arguments);v?clearTimeout(v):(Bu.call(this),g=n(_=m||ua.mouse(this)),u(t)),v=setTimeout(function(){v=null,c(t)},50),L(),r(Math.pow(2,.002*Xa())*T.k),o(_,g),l(t)}function p(){var t=ua.mouse(this),e=Math.log(T.k)/Math.LN2;a(this,t,n(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,_,m,v,y,x,b,S,w,T={x:0,y:0,k:1},A=[960,500],C=qa,M=250,E=0,k="mousedown.zoom",D="mousemove.zoom",O="mouseup.zoom",I="touchstart.zoom",R=P(t,"zoomstart","zoom","zoomend");return Wa||(Wa="onwheel"in ha?(Xa=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ha?(Xa=function(){return ua.event.wheelDelta},"mousewheel"):(Xa=function(){return-ua.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=R.of(this,arguments),e=T;Gu?ua.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=A[0],i=A[1],r=_?_[0]:n/2,o=_?_[1]:i/2,a=ua.interpolateZoom([(r-T.x)/T.k,(o-T.y)/T.k,n/T.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=T={x:r-i[0]*s,y:o-i[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=T,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},s(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:null},r(+e),s(),t):T.k},t.scaleExtent=function(e){return arguments.length?(C=null==e?qa:[+e[0],+e[1]],t):C},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(A=e&&[+e[0],+e[1]],t):A},t.duration=function(e){return arguments.length?(M=+e,t):M},t.x=function(e){return arguments.length?(b=e,x=e.copy(),T={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(w=e,S=e.copy(),T={x:0,y:0,k:1},t):w},ua.rebind(t,R,"on")};var Xa,Wa,qa=[0,1/0];ua.color=at,at.prototype.toString=function(){return this.rgb()+""},ua.hsl=st;var Ya=st.prototype=new at;Ya.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Ya.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Ya.rgb=function(){return ut(this.h,this.s,this.l)},ua.hcl=lt;var $a=lt.prototype=new at;$a.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Qa*(arguments.length?t:1)))},$a.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Qa*(arguments.length?t:1)))},$a.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ua.lab=ht;var Qa=18,Ka=.95047,Ja=1,ts=1.08883,es=ht.prototype=new at;es.brighter=function(t){return new ht(Math.min(100,this.l+Qa*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ht(Math.max(0,this.l-Qa*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ft(this.l,this.a,this.b)},ua.rgb=mt;var ns=mt.prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new mt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new mt(r,r,r)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new mt(t*this.r,t*this.g,t*this.b)},ns.hsl=function(){return St(this.r,this.g,this.b)},ns.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var is=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,vt(e))}),ua.functor=Pt,ua.xhr=At(v),ua.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Ct(t,e,null==n?i:r(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l>c;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,o={},a={},s=[],l=t.length,c=0,h=0;(i=n())!==a;){for(var f=[];i!==o&&i!==a;)f.push(i),i=n();e&&null==(f=e(f,h++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new m,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var rs,os,as,ss,us=this[x(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){kt.apply(this,arguments)},ua.timer.flush=function(){Ot(),It()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(zt);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=ua.round(t,Rt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,Rt(t,e))).toFixed(Math.max(0,Math.min(20,Rt(t*(1+1e-15),e))))}}),fs=ua.time={},ds=Date;Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=Bt(function(t){return t=fs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=Bt(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=fs[t]=Bt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});fs[t+"s"]=n.range,fs[t+"s"].utc=n.utc.range,fs[t+"OfYear"]=function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},_s=/^\s*\d+/,ms=/^%/;ua.locale=function(t){return{numberFormat:Nt(t),timeFormat:Ut(t)}};var vs=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=vs.numberFormat,ua.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,ys),ce(ys.s,this.s,this),this.s?this.t+=ys.t:this.s=ys.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ys=new le;ua.geo.stream=function(t,e){t&&xs.hasOwnProperty(t.type)?xs[t.type](t,e):he(t,e)};var xs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},bs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};ua.geo.area=function(t){return Ss=0,ua.geo.stream(t,Ls),Ss};var Ss,ws=new le,Ls={sphere:function(){Ss+=4*Na},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ws.reset(),Ls.lineStart=pe},polygonEnd:function(){var t=2*ws;Ss+=0>t?4*Na+t:t,Ls.lineStart=Ls.lineEnd=Ls.point=b}};ua.geo.bounds=function(){function t(t,e){y.push(x=[c=t,f=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var i=ge([e*ja,n*ja]);if(m){var r=me(m,i),o=[r[1],-r[0],0],a=me(o,r);xe(a),a=be(a);var u=e-p,l=u>0?1:-1,g=a[0]*Ua*l,_=va(u)>180;if(_^(g>l*p&&l*e>g)){var v=a[1]*Ua;v>d&&(d=v)}else if(g=(g+360)%360-180,_^(g>l*p&&l*e>g)){var v=-a[1]*Ua;h>v&&(h=v)}else h>n&&(h=n),n>d&&(d=n);_?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);m=i,p=e}function n(){b.point=e}function i(){x[0]=c,x[1]=f,b.point=t,m=null}function r(t,n){if(m){var i=t-p;v+=va(i)>180?i+(i>0?360:-360):i}else g=t,_=n;Ls.point(t,n),e(t,n)}function o(){Ls.lineStart()}function a(){r(g,_),Ls.lineEnd(),va(v)>Ra&&(c=-(f=180)),x[0]=c,x[1]=f,m=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,d,p,g,_,m,v,y,x,b={point:t,lineStart:n,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=o,b.lineEnd=a,v=0,Ls.polygonStart()},polygonEnd:function(){Ls.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=i,0>ws?(c=-(f=180),h=-(d=90)):v>Ra?d=90:-Ra>v&&(h=-90),x[0]=c,x[1]=f}};return function(t){d=f=-(c=h=1/0),y=[],ua.geo.stream(t,b);var e=y.length;if(e){y.sort(u);for(var n,i=1,r=y[0],o=[r];e>i;++i)n=y[i],l(n[0],r)||l(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var a,n,p=-(1/0),e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(a=s(r[1],n[0]))>p&&(p=a,c=n[0],f=r[1])}return y=x=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[f,d]]}}(),ua.geo.centroid=function(t){Ts=Ps=As=Cs=Ms=Es=ks=Ds=Os=Is=Rs=0,ua.geo.stream(t,zs);var e=Os,n=Is,i=Rs,r=e*e+n*n+i*i;return za>r&&(e=Es,n=ks,i=Ds,Ra>Ps&&(e=As,n=Cs,i=Ms),r=e*e+n*n+i*i,za>r)?[NaN,NaN]:[Math.atan2(n,e)*Ua,et(i/Math.sqrt(r))*Ua]};var Ts,Ps,As,Cs,Ms,Es,ks,Ds,Os,Is,Rs,zs={sphere:b,point:we,lineStart:Te,lineEnd:Pe,polygonStart:function(){zs.lineStart=Ae},polygonEnd:function(){zs.lineStart=Te}},Ns=Oe(Me,Ne,Ve,[-Na,-Na/2]),Gs=1e9;ua.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(s){return arguments.length?(o=Fe(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return He(Ze)}).raw=Ze,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=ua.geo.albers(),a=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?a:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,i=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Ra,h+.12*l+Ra],[c-.214*l-Ra,h+.234*l-Ra]]).stream(u).point,r=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Ra,h+.166*l+Ra],[c-.115*l-Ra,h+.234*l-Ra]]).stream(u).point,t},t.scale(1070)};var Vs,Bs,js,Us,Fs,Hs,Zs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Bs=0,Zs.lineStart=Xe},polygonEnd:function(){Zs.lineStart=Zs.lineEnd=Zs.point=b,Vs+=va(Bs/2)}},Xs={point:We,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ws={point:$e,lineStart:Qe,lineEnd:Ke,polygonStart:function(){Ws.lineStart=Je},polygonEnd:function(){Ws.point=$e,Ws.lineStart=Qe,Ws.lineEnd=Ke}};ua.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),ua.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return Vs=0,ua.geo.stream(t,r(Zs)),Vs},t.centroid=function(t){return As=Cs=Ms=Es=ks=Ds=Os=Is=Rs=0,ua.geo.stream(t,r(Ws)),Rs?[Os/Rs,Is/Rs]:Ds?[Es/Ds,ks/Ds]:Ms?[As/Ms,Cs/Ms]:[NaN,NaN]},t.bounds=function(t){return Fs=Hs=-(js=Us=1/0),ua.geo.stream(t,r(Xs)),[[js,Us],[Fs,Hs]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||nn(t):v,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new qe:new tn(t),"function"!=typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var i in t)n[i]=t[i];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ua.geo.rotation=function(t){function e(e){return e=t(e[0]*ja,e[1]*ja),e[0]*=Ua,e[1]*=Ua,e}return t=hn(t[0]%360*ja,t[1]*ja,t.length>2?t[2]*ja:0),e.invert=function(e){return e=t.invert(e[0]*ja,e[1]*ja),e[0]*=Ua,e[1]*=Ua,e},e},cn.invert=ln,ua.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=hn(-t[0]*ja,-t[1]*ja,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ua,t[1]*=Ua}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=gn((e=+i)*ja,r*ja),t):e},t.precision=function(i){return arguments.length?(n=gn(e*ja,(r=+i)*ja),t):r},t.angle(90)},ua.geo.distance=function(t,e){var n,i=(e[0]-t[0])*ja,r=t[1]*ja,o=e[1]*ja,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ua.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ua.range(Math.ceil(o/_)*_,r,_).map(f).concat(ua.range(Math.ceil(l/m)*m,u,m).map(d)).concat(ua.range(Math.ceil(i/p)*p,n,p).filter(function(t){return va(t%_)>Ra}).map(c)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return va(t%m)>Ra}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,g=p,_=90,m=360,v=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),t.precision(v)):[[o,l],[r,u]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(v)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(_=+e[0],m=+e[1],t):[_,m]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(v=+e,c=mn(s,a,90),h=vn(i,n,v),f=mn(l,u,90),d=vn(o,r,v),t):v},t.majorExtent([[-180,-90+Ra],[180,90-Ra]]).minorExtent([[-180,-80-Ra],[180,80+Ra]])},ua.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=yn,r=xn;return t.distance=function(){return ua.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},ua.geo.interpolate=function(t,e){return bn(t[0]*ja,t[1]*ja,e[0]*ja,e[1]*ja)},ua.geo.length=function(t){return qs=0,ua.geo.stream(t,Ys),qs};var qs,Ys={sphere:b,point:b,lineStart:Sn,lineEnd:b,polygonStart:b,polygonEnd:b},$s=wn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an($s)}).raw=$s;var Qs=wn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},v);(ua.geo.azimuthalEquidistant=function(){return an(Qs)}).raw=Qs,(ua.geo.conicConformal=function(){return He(Ln)}).raw=Ln,(ua.geo.conicEquidistant=function(){return He(Tn)}).raw=Tn;var Ks=wn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(Ks)}).raw=Ks,Pn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ba]},(ua.geo.mercator=function(){return An(Pn)}).raw=Pn;var Js=wn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Js)}).raw=Js;var tu=wn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(tu)}).raw=tu,Cn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ba]},(ua.geo.transverseMercator=function(){var t=An(Cn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Cn,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Pt(n),o=Pt(i),a=t.length,s=[],u=[];for(e=0;a>e;e++)s.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Dn),e=0;a>e;e++)u.push([s[e][0],-s[e][1]]);var l=kn(s),c=kn(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],d=[];for(e=l.length-1;e>=0;--e)d.push(t[s[l[e]][2]]);for(e=+h;e<c.length-f;++e)d.push(t[s[c[e]][2]]);return d}var n=Mn,i=En;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},ua.geom.polygon=function(t){return wa(t,eu),t};var eu=ua.geom.polygon.prototype=[];eu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},eu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},eu.clip=function(t){for(var e,n,i,r,o,a,s=Rn(t),u=-1,l=this.length-Rn(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)a=e[n],On(a,c,r)?(On(o,c,r)||t.push(In(o,a,c,r)),t.push(a)):On(o,c,r)&&t.push(In(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var nu,iu,ru,ou,au,su=[],uu=[];Fn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Zn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,oi(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],o=s[1][0],a=s[1][1];return si(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=i&&l.x<=o&&l.y>=r&&l.y<=a?[[i,a],[o,a],[o,r],[i,r]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ra)*Ra,y:Math.round(a(t,e)/Ra)*Ra,i:e}})}var i=Mn,r=En,o=i,a=r,s=lu;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var r,o,a=n.site,s=n.edges.sort(Zn),u=-1,l=s.length,c=s[l-1].edge,h=c.l===a?c.r:c.l;++u<l;)r=c,o=h,c=s[u].edge,h=c.l===a?c.r:c.l,i<o.i&&i<h.i&&li(a,o,h)<0&&e.push([t[i],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Pt(i=t),e):i},e.y=function(t){return arguments.length?(a=Pt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?lu:t,e):s===lu?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===lu?null:s&&s[1]},e)};var lu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(va(u-n)+va(c-i)<.01)l(t,e,n,i,r,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,r,o,a,s),l(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else l(t,e,n,i,r,o,a,s)}function l(t,e,n,i,r,a,s,u){var l=.5*(r+s),c=.5*(a+u),h=n>=l,f=i>=c,d=f<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=fi()),h?r=l:s=l,f?a=c:u=c,o(t,e,n,i,r,a,s,u)}var c,h,f,d,p,g,_,m,v,y=Pt(s),x=Pt(u);if(null!=e)g=e,_=n,m=i,v=r;else if(m=v=-(g=_=1/0),h=[],f=[],p=t.length,a)for(d=0;p>d;++d)c=t[d],c.x<g&&(g=c.x),c.y<_&&(_=c.y),c.x>m&&(m=c.x),c.y>v&&(v=c.y),h.push(c.x),f.push(c.y);else for(d=0;p>d;++d){var b=+y(c=t[d],d),S=+x(c,d);g>b&&(g=b),_>S&&(_=S),b>m&&(m=b),S>v&&(v=S),h.push(b),f.push(S)}var w=m-g,L=v-_;w>L?v=_+w:m=g+L;var T=fi();if(T.add=function(t){o(T,t,+y(t,++d),+x(t,d),g,_,m,v)},T.visit=function(t){di(t,T,g,_,m,v)},T.find=function(t){return pi(T,t[0],t[1],g,_,m,v)},d=-1,null==e){for(;++d<p;)o(T,t[d],h[d],f[d],g,_,m,v);--d}else t.forEach(T.add);return h=f=t=c=null,T}var a,s=Mn,u=En;return(a=arguments.length)?(s=ci,u=hi,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},ua.interpolateRgb=gi,ua.interpolateObject=_i,ua.interpolateNumber=mi,ua.interpolateString=vi;var cu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(cu.source,"g");ua.interpolate=yi,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:vi:e instanceof at?gi:Array.isArray(e)?xi:"object"===n&&isNaN(e)?_i:mi)(t,e)}],ua.interpolateArray=xi;var fu=function(){return v},du=ua.map({linear:fu,poly:Ai,quad:function(){return Li},cubic:function(){return Ti},sin:function(){return Ci},exp:function(){return Mi},circle:function(){return Ei},elastic:ki,back:Di,bounce:function(){return Oi}}),pu=ua.map({in:v,out:Si,"in-out":wi,"out-in":function(t){return wi(Si(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=du.get(n)||fu,i=pu.get(i)||v,bi(i(n.apply(null,la.call(arguments,1))))},ua.interpolateHcl=Ii,ua.interpolateHsl=Ri,ua.interpolateLab=zi,ua.interpolateRound=Ni,ua.transform=function(t){var e=ha.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Gi(n?n.matrix:gu)})(t)},Gi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=Wi,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push($i(t[n]));return e}},ua.layout.chord=function(){function t(){var t,l,h,f,d,p={},g=[],_=ua.range(o),m=[];for(n=[],i=[],t=0,f=-1;++f<o;){for(l=0,d=-1;++d<o;)l+=r[f][d];g.push(l),m.push(ua.range(o)),t+=l}for(a&&_.sort(function(t,e){return a(g[t],g[e])}),s&&m.forEach(function(t,e){t.sort(function(t,n){
return s(r[e][t],r[e][n])})}),t=(Ga-c*o)/t,l=0,f=-1;++f<o;){for(h=l,d=-1;++d<o;){var v=_[f],y=m[v][d],x=r[v][y],b=l,S=l+=x*t;p[v+"-"+y]={index:v,subindex:y,startAngle:b,endAngle:S,value:x}}i[v]={index:v,startAngle:h,endAngle:l,value:g[v]},l+=c}for(f=-1;++f<o;)for(d=f-1;++d<o;){var w=p[f+"-"+d],L=p[d+"-"+f];(w.value||L.value)&&n.push(w.value<L.value?{source:L,target:w}:{source:w,target:L})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,l):r},l.padding=function(t){return arguments.length?(c=t,n=i=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=i=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return i||t(),i},l},ua.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=r-n,u=o*o+a*a;if(u>s*s/m){if(g>u){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&g>u){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ua.event.x,t.py=ua.event.y,u.resume()}var n,i,r,o,a,s,u={},l=ua.dispatch("start","tick","end"),c=[1,1],h=.9,f=_u,d=mu,p=-30,g=vu,_=.1,m=.64,y=[],x=[];return u.tick=function(){if((r*=.99)<.005)return n=null,l.end({type:"end",alpha:r=0}),!0;var e,i,u,f,d,g,m,v,b,S=y.length,w=x.length;for(i=0;w>i;++i)u=x[i],f=u.source,d=u.target,v=d.x-f.x,b=d.y-f.y,(g=v*v+b*b)&&(g=r*a[i]*((g=Math.sqrt(g))-o[i])/g,v*=g,b*=g,d.x-=v*(m=f.weight+d.weight?f.weight/(f.weight+d.weight):.5),d.y-=b*m,f.x+=v*(m=1-m),f.y+=b*m);if((m=r*_)&&(v=c[0]/2,b=c[1]/2,i=-1,m))for(;++i<S;)u=y[i],u.x+=(v-u.x)*m,u.y+=(b-u.y)*m;if(p)for(ir(e=ua.geom.quadtree(y),r,s),i=-1;++i<S;)(u=y[i]).fixed||e.visit(t(u));for(i=-1;++i<S;)u=y[i],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*h,u.y-=(u.py-(u.py=u.y))*h);l.tick({type:"tick",alpha:r})},u.nodes=function(t){return arguments.length?(y=t,u):y},u.links=function(t){return arguments.length?(x=t,u):x},u.size=function(t){return arguments.length?(c=t,u):c},u.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.friction=function(t){return arguments.length?(h=+t,u):h},u.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,u):p},u.chargeDistance=function(t){return arguments.length?(g=t*t,u):Math.sqrt(g)},u.gravity=function(t){return arguments.length?(_=+t,u):_},u.theta=function(t){return arguments.length?(m=t*t,u):Math.sqrt(m)},u.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,l.end({type:"end",alpha:r=0})):t>0&&(l.start({type:"start",alpha:r=t}),n=kt(u.tick)),u):r},u.start=function(){function t(t,i){if(!n){for(n=new Array(r),u=0;r>u;++u)n[u]=[];for(u=0;l>u;++u){var o=x[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][t]))return a;return Math.random()*i}var e,n,i,r=y.length,l=x.length,h=c[0],g=c[1];for(e=0;r>e;++e)(i=y[e]).index=e,i.weight=0;for(e=0;l>e;++e)i=x[e],"number"==typeof i.source&&(i.source=y[i.source]),"number"==typeof i.target&&(i.target=y[i.target]),++i.source.weight,++i.target.weight;for(e=0;r>e;++e)i=y[e],isNaN(i.x)&&(i.x=t("x",h)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"==typeof f)for(e=0;l>e;++e)o[e]=+f.call(this,x[e],e);else for(e=0;l>e;++e)o[e]=f;if(a=[],"function"==typeof d)for(e=0;l>e;++e)a[e]=+d.call(this,x[e],e);else for(e=0;l>e;++e)a[e]=d;if(s=[],"function"==typeof p)for(e=0;r>e;++e)s[e]=+p.call(this,y[e],e);else for(e=0;r>e;++e)s[e]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return i||(i=ua.behavior.drag().origin(v).on("dragstart.force",Ji).on("drag.force",e).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(i):i},ua.rebind(u,l,"on")};var _u=20,mu=1,vu=1/0;ua.layout.hierarchy=function(){function t(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=l}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return ar(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=lr,n=sr,i=ur;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(or(e,function(t){t.children&&(t.value=0)}),ar(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ua.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,u,l=-1;for(i=e.value?i/e.value:0;++l<a;)t(s=o[l],n,u=s.value*i,r),n+=u}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return t(a[0],0,r[0],r[1]/e(a[0])),a}var i=ua.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},rr(n,i)},ua.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,f=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=f*(0>h?-1:1),p=ua.sum(l),g=p?(h-u*d)/p:0,_=ua.range(u),m=[];return null!=n&&_.sort(n===yu?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),_.forEach(function(t){m[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*g+d,padAngle:f}}),m}var e=Number,n=yu,i=0,r=Ga,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var yu={};ua.layout.stack=function(){function t(s,u){if(!(f=s.length))return s;var l=s.map(function(n,i){return e.call(t,n,i)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=ua.permute(l,h),c=ua.permute(c,h);var f,d,p,g,_=i.call(t,c,u),m=l[0].length;for(p=0;m>p;++p)for(r.call(t,l[0][p],g=_[p],c[0][p][1]),d=1;f>d;++d)r.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=v,n=pr,i=gr,r=dr,o=hr,a=fr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:xu.get(e)||pr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:bu.get(e)||gr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var xu=ua.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(_r),o=t.map(mr),a=ua.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;i>e;++e)n=a[e],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ua.range(t.length).reverse()},default:pr}),bu=ua.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;f>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];c>e;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,l>u&&(l=u)}for(n=0;f>n;++n)d[n]-=l;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:gr});ua.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=i.call(this,l,o),h=r.call(this,c,l,o),o=-1,f=l.length,d=h.length-1,p=e?1:1/f;++o<d;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(d>0)for(o=-1;++o<f;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[ua.bisect(h,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,i=br,r=yr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Pt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return xr(t,e)}:Pt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ua.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=r[0],l=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ar(s,function(t){t.r=+c(t.value)}),ar(s,Pr),i){var h=i*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;ar(s,function(t){t.r+=h}),ar(s,Pr),ar(s,function(t){t.r-=h})}return Mr(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=ua.layout.hierarchy().sort(Sr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},rr(t,n)},ua.layout.tree=function(){function t(t,r){var c=a.call(this,t,r),h=c[0],f=e(h);if(ar(f,n),f.parent.m=-f.z,or(f,i),l)or(h,o);else{var d=h,p=h,g=h;or(h,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var _=s(d,p)/2-d.x,m=u[0]/(p.x+s(p,d)/2+_),v=u[1]/(g.depth||1);or(h,function(t){t.x=(t.x+_)*m,t.y=t.depth*v})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;s>a;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Rr(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,a=e,u=r.parent.children[0],l=r.m,c=o.m,h=a.m,f=u.m;a=Or(a),r=Dr(r),a&&r;)u=Dr(u),o=Or(o),o.a=t,i=a.z+h-r.z-l+s(a._,r._),i>0&&(Ir(zr(a,t,n),t,i),l+=i,c+=i),h+=a.m,l+=r.m,f+=u.m,c+=o.m;a&&!Or(o)&&(o.t=a,o.m+=h-c),r&&!Dr(u)&&(u.t=r,u.m+=l-f,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=ua.layout.hierarchy().sort(null).value(null),s=kr,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},rr(t,a)},ua.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;ar(u,function(t){var e=t.children;e&&e.length?(t.x=Gr(e),t.y=Nr(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Vr(u),h=Br(u),f=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return ar(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(d-f)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var e=ua.layout.hierarchy().sort(null).value(null),n=kr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},rr(t,e)},ua.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],f=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/n.value),c.area=0;(u=f.length)>0;)c.push(a=f[u-1]),c.area+=a.area,"squarify"!==d||(s=i(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,r(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=h(e),s=i.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(r(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)r=t[o],r.x=s,r.y=l,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?u(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)r=t[o],r.x=s,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=o.y=0,o.value?(o.dx=l[0],o.dy=l[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=r),r}var a,s=ua.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=jr,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?jr(e):Ur(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ur(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?jr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},rr(o,s)},ua.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ua.scale={};var Su={floor:v,ceil:v};ua.scale.linear=function(){return Yr([0,1],[0,1],yi,!1)};var wu={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return io(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Lu=ua.format(".0e"),Tu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return ro(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(Pu)},ua.scale.category20=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20b=function(){return ua.scale.ordinal().range(Cu)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Mu)};var Pu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),Au=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Cu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Mu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return lo([.5],[0,1])},ua.scale.identity=function(){return co([0,1])},ua.svg={},ua.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+i.apply(this,arguments)),c=a.apply(this,arguments)-Ba,h=s.apply(this,arguments)-Ba,f=Math.abs(h-c),d=c>h?0:1;if(t>l&&(p=l,l=t,t=p),f>=Va)return e(l,d)+(t?e(t,1-d):"")+"Z";var p,g,_,m,v,y,x,b,S,w,L,T,P=0,A=0,C=[];if((m=(+u.apply(this,arguments)||0)/2)&&(_=o===Eu?Math.sqrt(t*t+l*l):+o.apply(this,arguments),d||(A*=-1),l&&(A=et(_/l*Math.sin(m))),t&&(P=et(_/t*Math.sin(m)))),l){v=l*Math.cos(c+A),y=l*Math.sin(c+A),x=l*Math.cos(h-A),b=l*Math.sin(h-A);var M=Math.abs(h-c-2*A)<=Na?0:1;if(A&&vo(v,y,x,b)===d^M){var E=(c+h)/2;v=l*Math.cos(E),y=l*Math.sin(E),x=b=null}}else v=y=0;if(t){S=t*Math.cos(h-P),w=t*Math.sin(h-P),L=t*Math.cos(c+P),T=t*Math.sin(c+P);var k=Math.abs(c-h+2*P)<=Na?0:1;if(P&&vo(S,w,L,T)===1-d^k){var D=(c+h)/2;S=t*Math.cos(D),w=t*Math.sin(D),L=T=null}}else S=w=0;if(f>Ra&&(p=Math.min(Math.abs(l-t)/2,+r.apply(this,arguments)))>.001){g=l>t^d?0:1;var O=p,I=p;if(Na>f){var R=null==L?[S,w]:null==x?[v,y]:In([v,y],[L,T],[x,b],[S,w]),z=v-R[0],N=y-R[1],G=x-R[0],V=b-R[1],B=1/Math.sin(Math.acos((z*G+N*V)/(Math.sqrt(z*z+N*N)*Math.sqrt(G*G+V*V)))/2),j=Math.sqrt(R[0]*R[0]+R[1]*R[1]);I=Math.min(p,(t-j)/(B-1)),O=Math.min(p,(l-j)/(B+1))}if(null!=x){var U=yo(null==L?[S,w]:[L,T],[v,y],l,O,d),F=yo([x,b],[S,w],l,O,d);p===O?C.push("M",U[0],"A",O,",",O," 0 0,",g," ",U[1],"A",l,",",l," 0 ",1-d^vo(U[1][0],U[1][1],F[1][0],F[1][1]),",",d," ",F[1],"A",O,",",O," 0 0,",g," ",F[0]):C.push("M",U[0],"A",O,",",O," 0 1,",g," ",F[0])}else C.push("M",v,",",y);if(null!=L){var H=yo([v,y],[L,T],t,-I,d),Z=yo([S,w],null==x?[v,y]:[x,b],t,-I,d);p===I?C.push("L",Z[0],"A",I,",",I," 0 0,",g," ",Z[1],"A",t,",",t," 0 ",d^vo(Z[1][0],Z[1][1],H[1][0],H[1][1]),",",1-d," ",H[1],"A",I,",",I," 0 0,",g," ",H[0]):C.push("L",Z[0],"A",I,",",I," 0 0,",g," ",H[0])}else C.push("L",S,",",w)}else C.push("M",v,",",y),null!=x&&C.push("A",l,",",l," 0 ",M,",",d," ",x,",",b),C.push("L",S,",",w),null!=L&&C.push("A",t,",",t," 0 ",k,",",1-d," ",L,",",T);return C.push("Z"),C.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=fo,i=po,r=ho,o=Eu,a=go,s=_o,u=mo;return t.innerRadius=function(e){return arguments.length?(n=Pt(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Pt(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Pt(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==Eu?Eu:Pt(e),t):o},t.startAngle=function(e){return arguments.length?(a=Pt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Pt(e),t):s},t.padAngle=function(e){return arguments.length?(u=Pt(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ba;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Eu="auto";ua.svg.line=function(){return xo(v)};var ku=ua.map({linear:bo,"linear-closed":So,step:wo,"step-before":Lo,"step-after":To,basis:ko,"basis-open":Do,"basis-closed":Oo,bundle:Io,cardinal:Co,"cardinal-open":Po,"cardinal-closed":Ao,monotone:Bo});ku.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Du=[0,2/3,1/3,0],Ou=[0,1/3,2/3,0],Iu=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=xo(jo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Lo.reverse=To,To.reverse=Lo,ua.svg.area=function(){return Uo(v)},ua.svg.area.radial=function(){var t=Uo(jo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+i(u.r,u.p1,u.a1-u.a0)+(n(u,l)?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,l.r,l.p0)+i(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=s.call(t,r,i),a=u.call(t,r,i)-Ba,c=l.call(t,r,i)-Ba;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Na)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=yn,a=xn,s=Fo,u=go,l=_o;return t.radius=function(e){return arguments.length?(s=Pt(e),t):s},t.source=function(e){return arguments.length?(o=Pt(e),t):o},t.target=function(e){return arguments.length?(a=Pt(e),t):a},t.startAngle=function(e){return arguments.length?(u=Pt(e),t):u},t.endAngle=function(e){return arguments.length?(l=Pt(e),t):l},t},ua.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(i),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=yn,n=xn,i=Ho;return t.source=function(n){return arguments.length?(e=Pt(n),t):e},t.target=function(e){return arguments.length?(n=Pt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=Ho,n=t.projection;return t.projection=function(t){return arguments.length?n(Zo(e=t)):e},t},ua.svg.symbol=function(){function t(t,i){return(Ru.get(e.call(this,t,i))||qo)(n.call(this,t,i))}var e=Wo,n=Xo;return t.type=function(n){return arguments.length?(e=Pt(n),t):e},t.size=function(e){return arguments.length?(n=Pt(e),t):n},t};var Ru=ua.map({circle:qo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Nu)),n=e*Nu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/zu),n=e*zu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/zu),n=e*zu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Ru.keys();var zu=Math.sqrt(3),Nu=Math.tan(30*ja);Aa.transition=function(t){for(var e,n,i=Gu||++Uu,r=Jo(t),o=[],a=Vu||{time:Date.now(),ease:Pi,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&ta(n,c,r,i,a),e.push(n)}return $o(o,r,i)},Aa.interrupt=function(t){return this.each(null==t?Bu:Yo(Jo(t)))};var Gu,Vu,Bu=Yo(Jo()),ju=[],Uu=0;ju.call=Aa.call,ju.empty=Aa.empty,ju.node=Aa.node,ju.size=Aa.size,ua.transition=function(t,e){return t&&t.transition?Gu?t.transition(e):t:ua.selection().transition(t)},ua.transition.prototype=ju,ju.select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=C(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return $o(a,o,r)},ju.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=M(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(i=h[f]){o=i[s][a],n=t.call(i,i.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ta(r,p,s,a,o),e.push(r)}return $o(u,s,a)},ju.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=j(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return $o(r,this.namespace,this.id)},ju.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):F(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},ju.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Wi:yi,s=ua.ns.qualify(t);return Qo(this,"attr."+t,e,s.local?o:r)},ju.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=ua.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},ju.style=function(t,n,i){function r(){this.style.removeProperty(t)}function o(n){return null==n?r:(n+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=yi(o,n),function(e){this.style.setProperty(t,r(e),i)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Qo(this,"style."+t,n,o)},ju.styleTween=function(t,n,i){function r(r,o){var a=n.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},ju.text=function(t){return Qo(this,"text",t,Ko)},ju.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ju.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ua.ease.apply(ua,arguments)),F(this,function(i){i[n][e].ease=t}))},ju.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:F(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},ju.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:F(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},ju.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Vu,o=Gu;try{Gu=n,F(this,function(e,r,o){Vu=e[i][n],t.call(e,e.__data__,r,o)})}finally{Vu=r,Gu=o}}else F(this,function(r){var o=r[i][n];(o.event||(o.event=ua.dispatch("start","end","interrupt"))).on(t,e)});return this},ju.transition=function(){for(var t,e,n,i,r=this.id,o=++Uu,a=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(t=[]);for(var e=this[u],c=0,h=e.length;h>c;c++)(n=e[c])&&(i=n[a][r],ta(n,c,a,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return $o(s,a,o)},ua.svg.axis=function(){function t(t){t.each(function(){var t,l=ua.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):v:e,p=l.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ra),_=ua.transition(p.exit()).style("opacity",Ra).remove(),m=ua.transition(p.order()).style("opacity",1),y=Math.max(r,0)+a,x=Hr(h),b=l.selectAll(".domain").data([0]),S=(b.enter().append("path").attr("class","domain"),ua.transition(b));g.append("line"),g.append("text");var w,L,T,P,A=g.select("line"),C=m.select("line"),M=p.select("text").text(d),E=g.select("text"),k=m.select("text"),D="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=ea,w="x",T="y",L="x2",P="y2",M.attr("dy",0>D?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+x[0]+","+D*o+"V0H"+x[1]+"V"+D*o)):(t=na,w="y",T="x",L="y2",P="x2",M.attr("dy",".32em").style("text-anchor",0>D?"end":"start"),S.attr("d","M"+D*o+","+x[0]+"H0V"+x[1]+"H"+D*o)),A.attr(P,D*r),E.attr(T,D*y),C.attr(L,0).attr(P,D*r),k.attr(w,0).attr(T,D*y),h.rangeBand){var O=h,I=O.rangeBand()/2;c=h=function(t){return O(t)+I}}else c.rangeBand?c=h:_.call(t,h,c);g.call(t,c,h),m.call(t,h,h)})}var e,n=ua.scale.linear(),i=Fu,r=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Hu?e+"":Fu,t):i},t.ticks=function(){return arguments.length?(s=ca(arguments),t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Fu="bottom",Hu={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function t(e){e.each(function(){var e=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,v);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Zu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=ua.transition(e),f=ua.transition(a);l&&(u=Hr(l),f.attr("x",u[0]).attr("width",u[1]-u[0]),i(h)),c&&(u=Hr(c),f.attr("y",u[0]).attr("height",u[1]-u[0]),r(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function o(){function o(){32==ua.event.keyCode&&(M||(y=null,k[0]-=h[1],k[1]-=f[1],M=2),L())}function g(){32==ua.event.keyCode&&2==M&&(k[0]+=h[1],k[1]+=f[1],M=0,L())}function _(){var t=ua.mouse(b),e=!1;x&&(t[0]+=x[0],t[1]+=x[1]),M||(ua.event.altKey?(y||(y=[(h[0]+h[1])/2,(f[0]+f[1])/2]),k[0]=h[+(t[0]<y[0])],k[1]=f[+(t[1]<y[1])]):y=null),A&&m(t,l,0)&&(i(T),e=!0),C&&m(t,c,1)&&(r(T),e=!0),e&&(n(T),w({type:"brush",mode:M?"move":"resize"}))}function m(t,e,n){var i,r,o=Hr(e),u=o[0],l=o[1],c=k[n],g=n?f:h,_=g[1]-g[0];return M&&(u-=c,l-=_+c),i=(n?p:d)?Math.max(u,Math.min(l,t[n])):t[n],M?r=(i+=c)+_:(y&&(c=Math.max(u,Math.min(l,2*y[n]-i))),i>c?(r=i,i=c):r=c),g[0]!=i||g[1]!=r?(n?s=null:a=null,g[0]=i,g[1]=r,!0):void 0}function v(){_(),T.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ua.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),w({type:"brushend"})}var y,x,b=this,S=ua.select(ua.event.target),w=u.of(b,arguments),T=ua.select(b),P=S.datum(),A=!/^(n|s)$/.test(P)&&l,C=!/^(e|w)$/.test(P)&&c,M=S.classed("extent"),E=Y(b),k=ua.mouse(b),D=ua.select(e(b)).on("keydown.brush",o).on("keyup.brush",g);if(ua.event.changedTouches?D.on("touchmove.brush",_).on("touchend.brush",v):D.on("mousemove.brush",_).on("mouseup.brush",v),T.interrupt().selectAll("*").interrupt(),M)k[0]=h[0]-k[0],k[1]=f[0]-k[1];else if(P){var O=+/w$/.test(P),I=+/^n/.test(P);x=[h[1-O]-k[0],f[1-I]-k[1]],k[0]=h[O],k[1]=f[I]}else ua.event.altKey&&(y=k.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",S.style("cursor")),w({type:"brushstart"}),_()}var a,s,u=P(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],f=[0,0],d=!0,p=!0,g=Xu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:f,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Gu?ua.select(this).transition().each("start.brush",function(){
a=n.i,s=n.j,h=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=xi(h,e.x),i=xi(f,e.y);return a=s=null,function(r){h=e.x=n(r),f=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=Xu[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=Xu[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(d=!!e[0],p=!!e[1]):l?d=!!e:c&&(p=!!e),t):l&&c?[d,p]:l?d:c?p:null},t.extent=function(e){var n,i,r,o,u;return arguments.length?(l&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(u=n,n=i,i=u),n==h[0]&&i==h[1]||(h=[n,i])),c&&(r=e[0],o=e[1],l&&(r=r[1],o=o[1]),s=[r,o],c.invert&&(r=c(r),o=c(o)),r>o&&(u=r,r=o,o=u),r==f[0]&&o==f[1]||(f=[r,o])),t):(l&&(a?(n=a[0],i=a[1]):(n=h[0],i=h[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(u=n,n=i,i=u))),c&&(s?(r=s[0],o=s[1]):(r=f[0],o=f[1],c.invert&&(r=c.invert(r),o=c.invert(o)),r>o&&(u=r,r=o,o=u))),l&&c?[[n,r],[i,o]]:l?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(h=[0,0],f=[0,0],a=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&f[0]==f[1]},ua.rebind(t,u,"on")};var Zu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wu=fs.format=vs.timeFormat,qu=Wu.utc,Yu=qu("%Y-%m-%dT%H:%M:%S.%LZ");Wu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Yu,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Yu.toString,fs.second=Bt(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=Bt(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=Bt(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=Bt(function(t){return t=fs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var $u=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Qu=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Ku=Wu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),Ju={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:v,ceil:v};Qu.year=fs.year,fs.scale=function(){return ra(ua.scale.linear(),Qu,Ku)};var tl=Qu.map(function(t){return[t[0].utc,t[1]]}),el=qu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);tl.year=fs.year.utc,fs.scale.utc=function(){return ra(ua.scale.linear(),tl,el)},ua.text=At(function(t){return t.responseText}),ua.json=function(t,e){return Ct(t,"application/json",aa,e)},ua.html=function(t,e){return Ct(t,"text/html",sa,e)},ua.xml=At(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),!function(t){"use strict";function e(t){this.owner=t}function n(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var n=function(){};n.prototype=t.prototype,e.prototype=new n}return e.prototype.constructor=e,e}function i(t){var e=this.internal=new r(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function t(e,n,i){Object.keys(e).forEach(function(r){n[r]=e[r].bind(i),Object.keys(e[r]).length>0&&t(e[r],n[r],i)})}(s,this,this)}function r(e){var n=this;n.d3=t.d3?t.d3:"undefined"!=typeof require?require("d3"):void 0,n.api=e,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function o(t){e.call(this,t)}function a(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+x)+", 0)"})}function i(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function r(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function o(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,d);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i}function a(){var t,n=g.copy();return e.isCategory&&(t=g.domain(),n.domain([t[0],t[1]-1])),n}function s(t){var e=f?f(t):t;return"undefined"!=typeof e?e:""}function u(t){if(P)return P;var e={h:11.5,w:5.5};return t.select("text").text(s).each(function(t){var n=this.getBoundingClientRect(),i=s(t),r=n.height,o=i?n.width/i.length:void 0;r&&o&&(e.h=r,e.w=o)}).text(""),P=e,e}function l(n){return e.withoutTransition?n:t.transition(n)}function c(f){f.each(function(){function f(t,n){function i(t,e){o=void 0;for(var s=1;s<e.length;s++)if(" "===e.charAt(s)&&(o=s),r=e.substr(0,s+1),a=X.w*r.length,a>n)return i(t.concat(e.substr(0,o?o:s)),e.slice(o?o+1:s));return t.concat(e)}var r,o,a,u=s(t),l=[];return"[object Array]"===Object.prototype.toString.call(u)?u:((!n||0>=n)&&(n=Y?95:e.isCategory?Math.ceil(k(D[1])-k(D[0]))-12:110),i(l,u+""))}function d(t,e){var n=X.h;return 0===e&&(n="left"===_||"right"===_?-((W[t.index]-1)*(X.h/2)-3):".71em"),n}function b(t){var e=g(t)+(p?0:x);return N[0]<e&&e<N[1]?m:0}function S(t){return t?t>0?"start":"end":"middle"}function w(t){return t?"rotate("+t+")":""}function L(t){return t?8*Math.sin(Math.PI*(t/180)):0}function T(t){return t?11.5-2.5*(t/15)*(t>0?1:-1):q}var P,A,C,M=c.g=t.select(this),E=this.__chart__||g,k=this.__chart__=a(),D=y?y:o(k),O=M.selectAll(".tick").data(D,k),I=O.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),R=O.exit().remove(),z=l(O).style("opacity",1),N=g.rangeExtent?g.rangeExtent():r(g.range()),G=M.selectAll(".domain").data([0]),V=(G.enter().append("path").attr("class","domain"),l(G));I.append("line"),I.append("text");var B=I.select("line"),j=z.select("line"),U=I.select("text"),F=z.select("text");e.isCategory?(x=Math.ceil((k(1)-k(0))/2),A=p?0:x,C=p?x:0):x=A=0;var H,Z,X=u(M.select(".tick")),W=[],q=Math.max(m,0)+v,Y="left"===_||"right"===_;H=O.select("text"),Z=H.selectAll("tspan").data(function(t,n){var i=e.tickMultiline?f(t,e.tickWidth):[].concat(s(t));return W[n]=i.length,i.map(function(t){return{index:n,splitted:t}})}),Z.enter().append("tspan"),Z.exit().remove(),Z.text(function(t){return t.splitted});var $=e.tickTextRotate;switch(_){case"bottom":P=n,B.attr("y2",m),U.attr("y",q),j.attr("x1",A).attr("x2",A).attr("y2",b),F.attr("x",0).attr("y",T($)).style("text-anchor",S($)).attr("transform",w($)),Z.attr("x",0).attr("dy",d).attr("dx",L($)),V.attr("d","M"+N[0]+","+h+"V0H"+N[1]+"V"+h);break;case"top":P=n,B.attr("y2",-m),U.attr("y",-q),j.attr("x2",0).attr("y2",-m),F.attr("x",0).attr("y",-q),H.style("text-anchor","middle"),Z.attr("x",0).attr("dy","0em"),V.attr("d","M"+N[0]+","+-h+"V0H"+N[1]+"V"+-h);break;case"left":P=i,B.attr("x2",-m),U.attr("x",-q),j.attr("x2",-m).attr("y1",C).attr("y2",C),F.attr("x",-q).attr("y",x),H.style("text-anchor","end"),Z.attr("x",-q).attr("dy",d),V.attr("d","M"+-h+","+N[0]+"H0V"+N[1]+"H"+-h);break;case"right":P=i,B.attr("x2",m),U.attr("x",q),j.attr("x2",m).attr("y2",0),F.attr("x",q).attr("y",0),H.style("text-anchor","start"),Z.attr("x",q).attr("dy",d),V.attr("d","M"+h+","+N[0]+"H0V"+N[1]+"H"+h)}if(k.rangeBand){var Q=k,K=Q.rangeBand()/2;E=k=function(t){return Q(t)+K}}else E.rangeBand?E=k:R.call(P,k);I.call(P,E),z.call(P,k)})}var h,f,d,p,g=t.scale.linear(),_="bottom",m=6,v=3,y=null,x=0,b=!0;return e=e||{},h=e.withOuterTick?6:0,c.scale=function(t){return arguments.length?(g=t,c):g},c.orient=function(t){return arguments.length?(_=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",c):_},c.tickFormat=function(t){return arguments.length?(f=t,c):f},c.tickCentered=function(t){return arguments.length?(p=t,c):p},c.tickOffset=function(){return x},c.tickInterval=function(){var t,n;return e.isCategory?t=2*x:(n=c.g.select("path.domain").node().getTotalLength()-2*h,t=n/c.g.selectAll("line").size()),t===1/0?0:t},c.ticks=function(){return arguments.length?(d=arguments,c):d},c.tickCulling=function(t){return arguments.length?(b=t,c):b},c.tickValues=function(t){if("function"==typeof t)y=function(){return t(g.domain())};else{if(!arguments.length)return y;y=t}return c},c}var s,u,l,c={version:"0.4.11"};c.generate=function(t){return new i(t)},c.chart={fn:i.prototype,internal:{fn:r.prototype,axis:{fn:o.prototype}}},s=c.chart.fn,u=c.chart.internal.fn,l=c.chart.internal.axis.fn,u.beforeInit=function(){},u.afterInit=function(){},u.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},u.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},u.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},u.initWithData=function(t){var e,n,i=this,r=i.d3,a=i.config,s=!0;i.axis=new o(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),a.bindto?"function"==typeof a.bindto.node?i.selectChart=a.bindto:i.selectChart=r.select(a.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),s=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),a.data_filter&&(i.data.targets=i.data.targets.filter(a.data_filter)),a.data_hide&&i.addHiddenTargetIds(a.data_hide===!0?i.mapToIds(i.data.targets):a.data_hide),a.legend_hide&&i.addHiddenLegendIds(a.legend_hide===!0?i.mapToIds(i.data.targets):a.legend_hide),i.hasType("gauge")&&(a.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),a.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(i)}).on("mouseleave",function(){return a.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",h.text+" "+h.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",h.chart),a.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",a.zoom_privileged?null:"g."+h.regions).attr("class",h.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),s&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},u.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),r=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(o)})})},u.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:a+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},u.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},u.showTargets=function(){var t=this;t.svg.selectAll("."+h.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},u.redraw=function(t,e){var n,i,r,o,a,s,u,l,c,f,d,p,g,_,m,v,y,x,b,w,L,T,P,A,C,M,E,k,D,O=this,I=O.main,R=O.d3,z=O.config,N=O.getShapeIndices(O.isAreaType),G=O.getShapeIndices(O.isBarType),V=O.getShapeIndices(O.isLineType),B=O.hasArcType(),j=O.filterTargetsToShow(O.data.targets),U=O.xv.bind(O);if(t=t||{},n=S(t,"withY",!0),i=S(t,"withSubchart",!0),r=S(t,"withTransition",!0),s=S(t,"withTransform",!1),u=S(t,"withUpdateXDomain",!1),l=S(t,"withUpdateOrgXDomain",!1),c=S(t,"withTrimXDomain",!0),g=S(t,"withUpdateXAxis",u),f=S(t,"withLegend",!1),d=S(t,"withEventRect",!0),p=S(t,"withDimension",!0),o=S(t,"withTransitionForExit",r),a=S(t,"withTransitionForAxis",r),b=r?z.transition_duration:0,w=o?b:0,L=a?b:0,e=e||O.axis.generateTransitions(L),f&&z.legend_show?O.updateLegend(O.mapToIds(O.data.targets),t,e):p&&O.updateDimension(!0),O.isCategorized()&&0===j.length&&O.x.domain([0,O.axes.x.selectAll(".tick").size()]),j.length?(O.updateXDomain(j,u,l,c),z.axis_x_tick_values||(A=O.axis.updateXAxisTickValues(j))):(O.xAxis.tickValues([]),O.subXAxis.tickValues([])),z.zoom_rescale&&!t.flow&&(E=O.x.orgDomain()),O.y.domain(O.getYDomain(j,"y",E)),O.y2.domain(O.getYDomain(j,"y2",E)),!z.axis_y_tick_values&&z.axis_y_tick_count&&O.yAxis.tickValues(O.axis.generateTickValues(O.y.domain(),z.axis_y_tick_count)),!z.axis_y2_tick_values&&z.axis_y2_tick_count&&O.y2Axis.tickValues(O.axis.generateTickValues(O.y2.domain(),z.axis_y2_tick_count)),O.axis.redraw(e,B),O.axis.updateLabels(r),(u||g)&&j.length)if(z.axis_x_tick_culling&&A){for(C=1;C<A.length;C++)if(A.length/C<z.axis_x_tick_culling_max){M=C;break}O.svg.selectAll("."+h.axisX+" .tick text").each(function(t){var e=A.indexOf(t);e>=0&&R.select(this).style("display",e%M?"none":"block")})}else O.svg.selectAll("."+h.axisX+" .tick text").style("display","block");_=O.generateDrawArea?O.generateDrawArea(N,!1):void 0,m=O.generateDrawBar?O.generateDrawBar(G):void 0,v=O.generateDrawLine?O.generateDrawLine(V,!1):void 0,y=O.generateXYForText(N,G,V,!0),x=O.generateXYForText(N,G,V,!1),n&&(O.subY.domain(O.getYDomain(j,"y")),O.subY2.domain(O.getYDomain(j,"y2"))),O.updateXgridFocus(),I.select("text."+h.text+"."+h.empty).attr("x",O.width/2).attr("y",O.height/2).text(z.data_empty_label_text).transition().style("opacity",j.length?0:1),O.updateGrid(b),O.updateRegion(b),O.updateBar(w),O.updateLine(w),O.updateArea(w),O.updateCircle(),O.hasDataLabel()&&O.updateText(w),O.redrawTitle&&O.redrawTitle(),O.redrawArc&&O.redrawArc(b,w,s),O.redrawSubchart&&O.redrawSubchart(i,e,b,w,N,G,V),I.selectAll("."+h.selectedCircles).filter(O.isBarType.bind(O)).selectAll("circle").remove(),z.interaction_enabled&&!t.flow&&d&&(O.redrawEventRect(),O.updateZoom&&O.updateZoom()),O.updateCircleY(),k=(O.config.axis_rotated?O.circleY:O.circleX).bind(O),D=(O.config.axis_rotated?O.circleX:O.circleY).bind(O),t.flow&&(P=O.generateFlow({targets:j,flow:t.flow,duration:t.flow.duration,drawBar:m,drawLine:v,drawArea:_,cx:k,cy:D,xv:U,xForText:y,yForText:x})),(b||P)&&O.isTabVisible()?R.transition().duration(b).each(function(){var e=[];[O.redrawBar(m,!0),O.redrawLine(v,!0),O.redrawArea(_,!0),O.redrawCircle(k,D,!0),O.redrawText(y,x,t.flow,!0),O.redrawRegion(!0),O.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),T=O.generateWait(),e.forEach(function(t){T.add(t)})}).call(T,function(){P&&P(),z.onrendered&&z.onrendered.call(O)}):(O.redrawBar(m),O.redrawLine(v),O.redrawArea(_),O.redrawCircle(k,D),O.redrawText(y,x,t.flow),O.redrawRegion(),O.redrawGrid(),z.onrendered&&z.onrendered.call(O)),O.mapToIds(O.data.targets).forEach(function(t){O.withoutFadeIn[t]=!0})},u.updateAndRedraw=function(t){var e,n=this,i=n.config;t=t||{},t.withTransition=S(t,"withTransition",!0),t.withTransform=S(t,"withTransform",!1),t.withLegend=S(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=S(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},u.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},u.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},u.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},u.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||b(e.data_xs))},u.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},u.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=v(i.margin.left),n=v(i.margin.top)):"context"===t?(e=v(i.margin2.left),n=v(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},u.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},u.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},u.opacityForCircle=function(t){var e=this.config.point_show?1:0;return f(t.value)?this.isScatterType(t)?.5:e:0},u.opacityForText=function(){return this.hasDataLabel()?1:0},u.xx=function(t){return t?this.x(t.x):null},u.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},u.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},u.subxx=function(t){return t?this.subX(t.x):null},u.transformMain=function(t,e){var n,i,r,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+h.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=o.main.select("."+h.axisY),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+h.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+h.chartArcs).attr("transform",o.getTranslate("arc"))},u.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},u.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+h.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},u.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},u.observeInserted=function(e){var n,i=this;return"undefined"==typeof MutationObserver?void t.console.error("MutationObserver not defined."):(n=new MutationObserver(function(r){r.forEach(function(r){"childList"===r.type&&r.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},u.bindResize=function(){var e=this,n=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){n.onresize.call(e)}),n.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&t.clearTimeout(e.resizeTimeout),e.resizeTimeout=t.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){n.onresized.call(e)}),t.attachEvent)t.attachEvent("onresize",e.resizeFunction);else if(t.addEventListener)t.addEventListener("resize",e.resizeFunction,!1);else{var i=t.onresize;i?i.add&&i.remove||(i=e.generateResize(),i.add(t.onresize)):i=e.generateResize(),i.add(e.resizeFunction),t.onresize=i}},u.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},t},u.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},u.generateWait=function(){var t=[],e=function(e,n){var i=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(t){e+=1}}),e===t.length&&(clearInterval(i),n&&n())},10)};return e.add=function(e){t.push(e)},e},u.parseDate=function(e){var n,i=this;return e instanceof Date?n=e:"string"==typeof e?n=i.dataTimeFormat(i.config.data_xFormat).parse(e):"number"!=typeof e||isNaN(e)||(n=new Date((+e))),n&&!isNaN(+n)||t.console.error("Failed to parse x '"+e+"' to Date object"),n},u.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),!document[t]},u.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},u.additionalConfig={},u.loadConfig=function(t){function e(){var t=i.shift();return t&&n&&"object"==typeof n&&t in n?(n=n[t],e()):t?void 0:n;
}var n,i,r,o=this.config;Object.keys(o).forEach(function(a){n=t,i=a.split("_"),r=e(),_(r)&&(o[a]=r)})},u.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},u.getX=function(t,e,n,i){var r,o=this,a=o.getScale(t,e,o.isTimeSeries()),s=n?a.domain(n):a;o.isCategorized()?(i=i||function(){return 0},a=function(t,e){var n=s(t)+i(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=s(t);return e?n:Math.ceil(n)};for(r in s)a[r]=s[r];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(t){return arguments.length?(s.domain(t),a):(t=this.orgDomain(),[t[0],t[1]+1])}),a},u.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},u.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},u.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},u.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},u.getYDomainMin=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(u.data_groups.length>0)for(a=s.hasNegativeValueInTargets(t),e=0;e<u.data_groups.length;e++)if(r=u.data_groups[e].filter(function(t){return l.indexOf(t)>=0}),0!==r.length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=0>t?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&+t>0||(c[i][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},u.getYDomainMax=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(u.data_groups.length>0)for(a=s.hasPositiveValueInTargets(t),e=0;e<u.data_groups.length;e++)if(r=u.data_groups[e].filter(function(t){return l.indexOf(t)>=0}),0!==r.length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t>0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&0>+t||(c[i][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},u.getYDomain=function(t,e,n){var i,r,o,a,s,u,l,c,h,d,p,g=this,_=g.config,m=t.filter(function(t){return g.axis.getId(t.id)===e}),v=n?g.filterByXDomain(m,n):m,x="y2"===e?_.axis_y2_min:_.axis_y_min,S="y2"===e?_.axis_y2_max:_.axis_y_max,w=g.getYDomainMin(v),L=g.getYDomainMax(v),T="y2"===e?_.axis_y2_center:_.axis_y_center,P=g.hasType("bar",v)&&_.bar_zerobased||g.hasType("area",v)&&_.area_zerobased,A="y2"===e?_.axis_y2_inverted:_.axis_y_inverted,C=g.hasDataLabel()&&_.axis_rotated,M=g.hasDataLabel()&&!_.axis_rotated;return w=f(x)?x:f(S)?S>w?w:S-10:w,L=f(S)?S:f(x)?L>x?L:x+10:L,0===v.length?"y2"===e?g.y2.domain():g.y.domain():(isNaN(w)&&(w=0),isNaN(L)&&(L=w),w===L&&(0>w?L=0:w=0),d=w>=0&&L>=0,p=0>=w&&0>=L,(f(x)&&d||f(S)&&p)&&(P=!1),P&&(d&&(w=0),p&&(L=0)),r=Math.abs(L-w),o=a=s=.1*r,"undefined"!=typeof T&&(u=Math.max(Math.abs(w),Math.abs(L)),L=T+u,w=T-u),C?(l=g.getDataLabelLength(w,L,"width"),c=y(g.y.range()),h=[l[0]/c,l[1]/c],a+=r*(h[1]/(1-h[0]-h[1])),s+=r*(h[0]/(1-h[0]-h[1]))):M&&(l=g.getDataLabelLength(w,L,"height"),a+=g.axis.convertPixelsToAxisPadding(l[1],r),s+=g.axis.convertPixelsToAxisPadding(l[0],r)),"y"===e&&b(_.axis_y_padding)&&(a=g.axis.getPadding(_.axis_y_padding,"top",a,r),s=g.axis.getPadding(_.axis_y_padding,"bottom",s,r)),"y2"===e&&b(_.axis_y2_padding)&&(a=g.axis.getPadding(_.axis_y2_padding,"top",a,r),s=g.axis.getPadding(_.axis_y2_padding,"bottom",s,r)),P&&(d&&(s=w),p&&(a=-L)),i=[w-s,L+a],A?i.reverse():i)},u.getXDomainMin=function(t){var e=this,n=e.config;return _(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},u.getXDomainMax=function(t){var e=this,n=e.config;return _(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},u.getXDomainPadding=function(t){var e,n,i,r,o=this,a=o.config,s=t[1]-t[0];return o.isCategorized()?n=0:o.hasType("bar")?(e=o.getMaxDataCount(),n=e>1?s/(e-1)/2:.5):n=.01*s,"object"==typeof a.axis_x_padding&&b(a.axis_x_padding)?(i=f(a.axis_x_padding.left)?a.axis_x_padding.left:n,r=f(a.axis_x_padding.right)?a.axis_x_padding.right:n):i=r="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:i,right:r}},u.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],o=e.getXDomainPadding(n),a=0,s=0;return i-r!==0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(a=e.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[a,s]},u.updateXDomain=function(t,e,n,i,r){var o=this,a=o.config;return n&&(o.x.domain(r?r:o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r?r:!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent()),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},u.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},u.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||b(n.data_xs)&&w(n.data_xs,t)},u.isNotX=function(t){return!this.isX(t)},u.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:b(n.data_xs)?n.data_xs[t]:null},u.getXValuesOfXKey=function(t,e){var n,i=this,r=e&&b(e)?i.mapToIds(e):[];return r.forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},u.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},u.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&f(n.data.xs[t][e])?n.data.xs[t][e]:e},u.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},u.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},u.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},u.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},u.isMultipleX=function(){return b(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},u.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},u.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},u.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},u.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},u.generateTargetX=function(t,e,n){var i,r=this;return i=r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?f(t)?+t:r.getXValue(e,n):n},u.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},u.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},u.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!=typeof e?e:null},u.getNextX=function(t){var e=this.xs[t+1];return"undefined"!=typeof e?e:null},u.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},u.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return n>1?t.forEach(function(t){t.values.length>i&&(e=t,i=t.values.length)}):e=n?t[0]:null,e},u.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},u.mapToIds=function(t){return t.map(function(t){return t.id})},u.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},u.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},u.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},u.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},u.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},u.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return n=e.isTimeSeries()?n.map(function(t){return new Date((+t))}):n.map(function(t){return+t}),n.sort(function(t,e){return e>t?-1:t>e?1:t>=e?0:NaN})},u.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},u.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},u.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},u.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},u.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},u.checkValueInTargets=function(t,e){var n,i,r,o=Object.keys(t);for(n=0;n<o.length;n++)for(r=t[o[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},u.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0>t})},u.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},u.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},u.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},u.orderTargets=function(t){var e=this,n=e.config,i=e.isOrderAsc(),r=e.isOrderDesc();return i||r?t.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),o=e.values.reduce(n,0);return i?o-r:r-o}):d(n.data_order)&&t.sort(n.data_order),t},u.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},u.filterRemoveNull=function(t){return t.filter(function(t){return f(t.value)})},u.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},u.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!b(t.data_labels))},u.getDataLabelLength=function(t,e,n){var i=this,r=[0,0],o=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=this.getBoundingClientRect()[n]*o}).remove(),r},u.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},u.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},u.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},u.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},u.findClosest=function(t,e){var n,i=this,r=i.config.point_sensitivity;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+h.bars+i.getTargetSelectorSuffix(t.id)+" ."+h.bar+"-"+t.index).node();!n&&i.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var o=i.dist(t,e);r>o&&(r=o,n=t)}),n},u.dist=function(t,e){var n=this,i=n.config,r=i.axis_rotated?1:0,o=i.axis_rotated?0:1,a=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[r],2)+Math.pow(a-e[o],2))},u.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;e>0;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},u.updateDataAttributes=function(t,e){var n=this,i=n.config,r=i["data_"+t];return"undefined"==typeof e?r:(Object.keys(e).forEach(function(t){r[t]=e[t]}),n.redraw({withLegend:!0}),r)},u.convertUrlToData=function(t,e,n,i,r){var o=this,a=e?e:"csv",s=o.d3.xhr(t);n&&Object.keys(n).forEach(function(t){s.header(t,n[t])}),s.get(function(t,e){var n;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");n="json"===a?o.convertJsonToData(JSON.parse(e.response),i):"tsv"===a?o.convertTsvToData(e.response):o.convertCsvToData(e.response),r.call(o,n)})},u.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},u.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},u.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},u.convertJsonToData=function(t,e){var n,i,r=this,o=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,o.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var i=r.findValueInJson(t,n);g(i)&&(i=null),e.push(i)}),o.push(e)}),i=r.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),i=r.convertColumnsToData(o)),i},u.findValueInJson=function(t,e){e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var n=e.split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in t))return;t=t[r]}return t},u.convertRowsToData=function(t){var e,n,i=t[0],r={},o=[];for(e=1;e<t.length;e++){for(r={},n=0;n<t[e].length;n++){if(g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[i[n]]=t[e][n]}o.push(r)}return o},u.convertColumnsToData=function(t){var e,n,i,r=[];for(e=0;e<t.length;e++)for(i=t[e][0],n=1;n<t[e].length;n++){if(g(r[n-1])&&(r[n-1]={}),g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[n-1][i]=t[e][n]}return r},u.convertDataToTargets=function(t,e){var n,i=this,r=i.config,o=i.d3.keys(t[0]).filter(i.isNotX,i),a=i.d3.keys(t[0]).filter(i.isX,i);return o.forEach(function(n){var o=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?a.indexOf(o)>=0?i.data.xs[n]=(e&&i.data.xs[n]?i.data.xs[n]:[]).concat(t.map(function(t){return t[o]}).filter(f).map(function(t,e){return i.generateTargetX(t,n,e)})):r.data_x?i.data.xs[n]=i.getOtherTargetXs():b(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(o,i.data.targets)):i.data.xs[n]=t.map(function(t,e){return e})}),o.forEach(function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=o.map(function(e,n){var o=r.data_idConverter(e);return{id:o,id_org:e,values:t.map(function(t,a){var s,u=i.getXKey(e),l=t[u],c=null===t[e]||isNaN(t[e])?null:+t[e];return i.isCustomX()&&i.isCategorized()&&0===n&&!g(l)?(0===n&&0===a&&(r.axis_x_categories=[]),s=r.axis_x_categories.indexOf(l),-1===s&&(s=r.axis_x_categories.length,r.axis_x_categories.push(l))):s=i.generateTargetX(l,e,a),(g(t[e])||i.data.xs[e].length<=a)&&(s=void 0),{x:s,value:c,id:o}}).filter(function(t){return _(t.x)})}}),n.forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,i=e.x||0===e.x?e.x:1/0;return n-i})),e=0,t.values.forEach(function(t){t.index=e++}),i.data.xs[t.id].sort(function(t,e){return t-e})}),i.hasNegativeValue=i.hasNegativeValueInTargets(n),i.hasPositiveValue=i.hasPositiveValueInTargets(n),r.data_type&&i.setTargetType(i.mapToIds(n).filter(function(t){return!(t in r.data_types)}),r.data_type),n.forEach(function(t){i.addCache(t.id_org,t)}),n},u.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},u.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},u.unload=function(t,e){var n=this;return e||(e=function(){}),t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}),t&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),void t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+h.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void e()},u.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},u.initEventRect=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.eventRects).style("fill-opacity",0)},u.redrawEventRect=function(){var t,e,n=this,i=n.config,r=n.isMultipleX(),o=n.main.select("."+h.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(h.eventRectsMultiple,r).classed(h.eventRectsSingle,!r);o.selectAll("."+h.eventRect).remove(),n.eventRect=o.selectAll("."+h.eventRect),r?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+h.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},u.updateEventRect=function(t){var e,n,i,r,o,a,s=this,u=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?u.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=u.axis_rotated?0:a,n=u.axis_rotated?a:0,i=u.axis_rotated?s.width:o,r=u.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},u.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,i=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(i.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+h.shape+"-"+n).each(function(t){i.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+h.shape+"-"+n).each(function(t){i.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var r,o=t.index,a=e.svg.select("."+h.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),r=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,o))}),i.tooltip_grouped&&(e.showTooltip(r,this),e.showXGridFocus(r)),(!i.tooltip_grouped||i.data_selection_enabled&&!i.data_selection_grouped)&&e.main.selectAll("."+h.shape+"-"+o).each(function(){n.select(this).classed(h.EXPANDED,!0),i.data_selection_enabled&&a.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),i.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(t))&&a.style("cursor","pointer"),i.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),i.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))}))}).on("click",function(t){var r=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===i.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,r))&&(r-=1),e.main.selectAll("."+h.shape+"-"+r).each(function(t){(i.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,r),e.config.data_onclick.call(e.api,t,this))})}}).call(i.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},u.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+h.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,i=n.d3,r=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",h.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,o,a,s,u=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(u)){if(t=i.mouse(this),o=n.findClosestFromTargets(u,t),!n.mouseover||o&&o.id===n.mouseover.id||(r.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!o)return void e();a=n.isScatterType(o)||!r.tooltip_grouped?[o]:n.filterByX(u,o.x),s=a.map(function(t){return n.addName(t)}),n.showTooltip(s,this),r.point_focus_expand_enabled&&n.expandCircles(o.index,o.id,!0),n.expandBars(o.index,o.id,!0),n.showXGridFocus(s),(n.isBarType(o.id)||n.dist(o,t)<r.point_sensitivity)&&(n.svg.select("."+h.eventRect).style("cursor","pointer"),n.mouseover||(r.data_onmouseover.call(n.api,o),n.mouseover=o))}}).on("click",function(){var t,e,o=n.filterTargetsToShow(n.data.targets);n.hasArcType(o)||(t=i.mouse(this),e=n.findClosestFromTargets(o,t),e&&(n.isBarType(e.id)||n.dist(e,t)<r.point_sensitivity)&&n.main.selectAll("."+h.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+h.shape+"-"+e.index).each(function(){(r.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(r.data_selection_draggable&&n.drag?i.behavior.drag().origin(Object).on("drag",function(){n.drag(i.mouse(this))}).on("dragstart",function(){n.dragstart(i.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},u.dispatchEvent=function(e,n,i){var r=this,o="."+h.eventRect+(r.isMultipleX()?"":"-"+n),a=r.main.select(o).node(),s=a.getBoundingClientRect(),u=s.left+(i?i[0]:0),l=s.top+(i?i[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(e,!0,!0,t,0,u,l,u,l,!1,!1,!1,!1,0,null),a.dispatchEvent(c)},u.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},u.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},u.getCurrentPaddingTop=function(){var t=this,e=t.config,n=f(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},u.getCurrentPaddingBottom=function(){var t=this.config;return f(t.padding_bottom)?t.padding_bottom:0},u.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return f(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(m(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:m(e.getAxisWidthByAxisId("y",t))},u.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,i=t.isLegendRight?t.getLegendWidth()+20:0;return f(e.padding_right)?e.padding_right+1:e.axis_rotated?n+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):m(t.getAxisWidthByAxisId("y2"))+i},u.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},u.getParentWidth=function(){return this.getParentRectValue("width")},u.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},u.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?h.axisX:h.axisY,o=e.main.select("."+r).node(),a=o&&i?o.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),u=e.hasArcType(),l=a.right-s.left-(u?0:e.getCurrentPaddingLeft(t));return l>0?l:0},u.getAxisWidthByAxisId=function(t,e){var n=this,i=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},u.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},u.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},u.getShapeIndices=function(t){var e,n,i=this,r=i.config,o={},a=0;return i.filterTargetsToShow(i.data.targets.filter(t,i)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in o){o[t.id]=o[r.data_groups[e][n]];break}g(o[t.id])&&(o[t.id]=a++)}),o.__max__=a-1,o},u.getShapeX=function(t,e,n,i){var r=this,o=i?r.subX:r.x;return function(i){var r=i.id in n?n[i.id]:0;return i.x||0===i.x?o(i.x)-t*(e/2-r):0}},u.getShapeY=function(t){var e=this;return function(n){var i=t?e.getSubYScale(n.id):e.getYScale(n.id);return i(n.value)}},u.getShapeOffset=function(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),o=r.map(function(t){return t.id});return function(t,a){var s=n?i.getSubYScale(t.id):i.getYScale(t.id),u=s(0),l=u;return r.forEach(function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&("undefined"!=typeof r[a]&&+r[a].x===+t.x||(a=-1,r.forEach(function(e,n){e.x===t.x&&(a=n)})),a in r&&r[a].value*t.value>=0&&(l+=s(r[a].value)-u))}),l}},u.isWithinShape=function(t,e){var n,i=this,r=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=!r.classed(h.bar)||i.isWithinBar(t)):n=!1,n},u.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},u.initLine=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartLines)},u.updateTargetsForLine=function(t){var e,n,i=this,r=i.config,o=i.classChartLine.bind(i),a=i.classLines.bind(i),s=i.classAreas.bind(i),u=i.classCircles.bind(i),l=i.classFocus.bind(i);e=i.main.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",function(t){return o(t)+l(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a),n.append("g").attr("class",s),n.append("g").attr("class",function(t){return i.generateClass(h.selectedCircles,t.id)}),n.append("g").attr("class",u).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){i.main.selectAll("."+h.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+h.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},u.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},u.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},u.generateDrawLine=function(t,e){var n=this,i=n.config,r=n.d3.svg.line(),o=n.generateGetLinePoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},u=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x(u).y(s):r.x(s).y(u),i.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var o,s=i.line_connectNull?n.filterRemoveNull(t.values):t.values,u=e?n.x:n.subX,l=a.call(n,t.id),c=0,h=0;return n.isLineType(t)?i.data_regions[t.id]?o=n.lineWithRegions(s,u,l,i.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),o=r.interpolate(n.getInterpolate(t))(s)):(s[0]&&(c=u(s[0].x),h=l(s[0].value)),o=i.axis_rotated?"M "+h+" "+c:"M "+c+" "+h),o?o:"M 0 0"}},u.generateGetLinePoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),l=s(t,e)||r,c=o(t),h=a(t);return i.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[c,h-(r-l)],[c,h-(r-l)],[c,h-(r-l)],[c,h-(r-l)]]}},u.lineWithRegions=function(t,e,n,i){function r(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function o(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var a,s,u,l,c,h,f,d,p,m,v,y,x=this,b=x.config,S=-1,w="M",L=x.isCategorized()?.5:0,T=[];if(_(i))for(a=0;a<i.length;a++)T[a]={},g(i[a].start)?T[a].start=t[0].x:T[a].start=x.isTimeSeries()?x.parseDate(i[a].start):i[a].start,
g(i[a].end)?T[a].end=t[t.length-1].x:T[a].end=x.isTimeSeries()?x.parseDate(i[a].end):i[a].end;for(v=b.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},y=b.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},u=x.isTimeSeries()?function(t,i,r,a){var s,u=t.x.getTime(),l=i.x-t.x,h=new Date(u+l*r),f=new Date(u+l*(r+a));return s=b.axis_rotated?[[n(c(r)),e(h)],[n(c(r+a)),e(f)]]:[[e(h),n(c(r))],[e(f),n(c(r+a))]],o(s)}:function(t,i,r,a){var s;return s=b.axis_rotated?[[n(c(r),!0),e(l(r))],[n(c(r+a),!0),e(l(r+a))]]:[[e(l(r),!0),n(c(r))],[e(l(r+a),!0),n(c(r+a))]],o(s)},a=0;a<t.length;a++){if(g(T)||!r(t[a].x,T))w+=" "+v(t[a])+" "+y(t[a]);else for(l=x.getScale(t[a-1].x+L,t[a].x+L,x.isTimeSeries()),c=x.getScale(t[a-1].value,t[a].value),h=e(t[a].x)-e(t[a-1].x),f=n(t[a].value)-n(t[a-1].value),d=Math.sqrt(Math.pow(h,2)+Math.pow(f,2)),p=2/d,m=2*p,s=p;1>=s;s+=m)w+=u(t[a-1],t[a],s,p);S=t[a].x}return w},u.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},u.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},u.generateDrawArea=function(t,e){var n=this,i=n.config,r=n.d3.svg.area(),o=n.generateGetAreaPoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},u=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(n.getAreaBaseValue(t.id))},l=function(t,e){return i.data_groups.length>0?o(t,e)[1][1]:a.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x0(u).x1(l).y(s):r.x(s).y0(i.area_above?0:u).y1(l),i.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,o=i.line_connectNull?n.filterRemoveNull(t.values):t.values,a=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=r.interpolate(n.getInterpolate(t))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(t.id)(o[0].value)),e=i.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),e?e:"M 0 0"}},u.getAreaBaseValue=function(){return 0},u.generateGetAreaPoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),l=s(t,e)||r,c=o(t),h=a(t);return i.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[c,l],[c,h-(r-l)],[c,h-(r-l)],[c,l]]}},u.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+h.circles).selectAll("."+h.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},u.redrawCircle=function(t,e,n){var i=this.main.selectAll("."+h.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?i.transition(Math.random().toString()):i).attr("cx",t).attr("cy",e)]},u.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},u.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},u.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+h.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.circle+(f(t)?"-"+t:""))},u.expandCircles=function(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(t,e).classed(h.EXPANDED,!0).attr("r",r)},u.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(h.EXPANDED)}).classed(h.EXPANDED,!1).attr("r",n)},u.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:d(n.point_r)?n.point_r(t):n.point_r},u.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},u.pointSelectR=function(t){var e=this,n=e.config;return d(n.point_select_r)?n.point_select_r(t):n.point_select_r?n.point_select_r:4*e.pointR(t)},u.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(a-i[1],2))<e},u.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},u.initBar=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartBars)},u.updateTargetsForBar=function(t){var e,n,i=this,r=i.config,o=i.classChartBar.bind(i),a=i.classBars.bind(i),s=i.classFocus.bind(i);e=i.main.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",function(t){return o(t)+s(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null})},u.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+h.bars).selectAll("."+h.bar).data(n),e.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},u.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},u.getBarW=function(t,e){var n=this,i=n.config,r="number"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&r>i.bar_width_max?i.bar_width_max:r},u.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+h.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.bar+(f(t)?"-"+t:""))},u.expandBars=function(t,e,n){var i=this;n&&i.unexpandBars(),i.getBars(t,e).classed(h.EXPANDED,!0)},u.unexpandBars=function(t){var e=this;e.getBars(t).classed(h.EXPANDED,!1)},u.generateDrawBar=function(t,e){var n=this,i=n.config,r=n.generateGetBarPoints(t,e);return function(t,e){var n=r(t,e),o=i.axis_rotated?1:0,a=i.axis_rotated?0:1,s="M "+n[0][o]+","+n[0][a]+" L"+n[1][o]+","+n[1][a]+" L"+n[2][o]+","+n[2][a]+" L"+n[3][o]+","+n[3][a]+" z";return s}},u.generateGetBarPoints=function(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,o=n.getBarW(i,r),a=n.getShapeX(o,r,t,!!e),s=n.getShapeY(!!e),u=n.getShapeOffset(n.isBarType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),r=u(t,e)||i,c=a(t),h=s(t);return n.config.axis_rotated&&(0<t.value&&i>h||t.value<0&&h>i)&&(h=i),[[c,r],[c,h-(i-r)],[c+o,h-(i-r)],[c+o,r]]}},u.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(i.x,r.x),a=Math.min(i.y,r.y),s=n.width,u=n.height,l=2,c=o-l,h=o+s+l,f=a+u+l,d=a-l;return c<e[0]&&e[0]<h&&d<e[1]&&e[1]<f},u.initText=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartTexts),t.mainText=t.d3.selectAll([])},u.updateTargetsForText=function(t){var e,n,i=this,r=i.classChartText.bind(i),o=i.classTexts.bind(i),a=i.classFocus.bind(i);e=i.main.select("."+h.chartTexts).selectAll("."+h.chartText).data(t).attr("class",function(t){return r(t)+a(t)}),n=e.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o)},u.updateText=function(t){var e=this,n=e.config,i=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+h.texts).selectAll("."+h.text).data(i),e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,i){return e.dataLabelFormat(t.id)(t.value,t.id,n,i)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},u.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},u.getTextRect=function(t,e,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).style("font",a).text(t).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},u.generateXYForText=function(t,e,n,i){var r=this,o=r.generateGetAreaPoints(t,!1),a=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),u=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?o:r.isBarType(t)?a:s;return u.call(r,n(t,e),t,this)}},u.getXForText=function(t,e,n){var i,r,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>o.width?i=o.width-a.width:0>i&&(i=4)),i},u.getYForText=function(t,e,n){var i,r=this,o=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(i+=o.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},u.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},u.hasType=function(t,e){var n=this,i=n.config.data_types,r=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=i[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(r=!0)}):r=n.config.data_type===t,r},u.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},u.isLineType=function(t){var e=this.config,n=p(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},u.isStepType=function(t){var e=p(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},u.isSplineType=function(t){var e=p(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},u.isAreaType=function(t){var e=p(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},u.isBarType=function(t){var e=p(t)?t:t.id;return"bar"===this.config.data_types[e]},u.isScatterType=function(t){var e=p(t)?t:t.id;return"scatter"===this.config.data_types[e]},u.isPieType=function(t){var e=p(t)?t:t.id;return"pie"===this.config.data_types[e]},u.isGaugeType=function(t){var e=p(t)?t:t.id;return"gauge"===this.config.data_types[e]},u.isDonutType=function(t){var e=p(t)?t:t.id;return"donut"===this.config.data_types[e]},u.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},u.lineData=function(t){return this.isLineType(t)?[t]:[]},u.arcData=function(t){return this.isArcType(t.data)?[t]:[]},u.barData=function(t){return this.isBarType(t)?t.values:[]},u.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},u.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},u.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0},u.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid),e.grid_x_show&&t.grid.append("g").attr("class",h.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",h.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",h.xgridFocus).append("line").attr("class",h.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},u.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid+" "+h.gridLines),t.gridLines.append("g").attr("class",h.xgridLines),t.gridLines.append("g").attr("class",h.ygridLines),t.xgridLines=e.selectAll([])},u.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,r=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+h.xgrids).selectAll("."+h.xgrid).data(r),e.xgrid.enter().append("line").attr("class",h.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},u.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+h.ygrids).selectAll("."+h.ygrid).data(n),t.ygrid.enter().append("line").attr("class",h.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},u.gridTextAnchor=function(t){return t.position?t.position:"end"},u.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},u.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},u.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},u.updateGrid=function(t){var e,n,i,r=this,o=r.main,a=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+h.xgridFocus).style("visibility","hidden"),a.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+h.xgridLines).selectAll("."+h.xgridLine).data(a.grid_x_lines),e=r.xgridLines.enter().append("g").attr("class",function(t){return h.xgridLine+(t.class?" "+t.class:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+h.ygridLines).selectAll("."+h.ygridLine).data(a.grid_y_lines),n=r.ygridLines.enter().append("g").attr("class",function(t){return h.ygridLine+(t.class?" "+t.class:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?i:0).attr("x2",a.axis_rotated?i:r.width).attr("y1",a.axis_rotated?0:i).attr("y2",a.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},u.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},u.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&f(t.value)}),r=e.main.selectAll("line."+h.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(r,"grid")))},u.hideXGridFocus=function(){this.main.select("line."+h.xgridFocus).style("visibility","hidden")},u.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+h.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},u.generateGridData=function(t,e){var n,i,r,o,a=this,s=[],u=a.main.select("."+h.axisX).selectAll(".tick").size();if("year"===t)for(n=a.getXDomain(),i=n[0].getFullYear(),r=n[1].getFullYear(),o=i;r>=o;o++)s.push(new Date(o+"-01-01 00:00:00"));else s=e.ticks(10),s.length>u&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},u.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)}),n}:function(){return!0}},u.removeGridLines=function(t,e){var n=this,i=n.config,r=n.getGridFilterToRemove(t),o=function(t){return!r(t)},a=e?h.xgridLines:h.ygridLines,s=e?h.xgridLine:h.ygridLine;n.main.select("."+a).selectAll("."+s).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(o):i.grid_y_lines=i.grid_y_lines.filter(o)},u.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",h.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&p(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},u.getTooltipContent=function(t,e,n,i){var r,o,a,s,u,l,c=this,h=c.config,f=h.tooltip_format_title||e,d=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value||n,g=c.isOrderAsc();if(0===h.data_groups.length)t.sort(function(t,e){var n=t?t.value:null,i=e?e.value:null;return g?n-i:i-n});else{var _=c.orderTargets(c.data.targets).map(function(t){return t.id});t.sort(function(t,e){var n=t?t.value:null,i=e?e.value:null;return n>0&&i>0&&(n=t?_.indexOf(t.id):null,i=e?_.indexOf(e.id):null),g?n-i:i-n})}for(o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(r||(a=L(f?f(t[o].x):t[o].x),r="<table class='"+c.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),s=L(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t)),void 0!==s)){if(null===t[o].name)continue;u=L(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),l=c.levelColor?c.levelColor(t[o].value):i(t[o].id),r+="<tr class='"+c.CLASS.tooltipName+"-"+c.getTargetSelectorSuffix(t[o].id)+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+u+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},u.tooltipPosition=function(t,e,n,i){var r,o,a,s,u,l=this,c=l.config,h=l.d3,f=l.hasArcType(),d=h.mouse(i);return f?(o=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+d[0],s=l.height/2+d[1]+20):(r=l.getSvgLeft(!0),c.axis_rotated?(o=r+d[0]+100,a=o+e,u=l.currentWidth-l.getCurrentPaddingRight(),s=l.x(t[0].x)+20):(o=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20,a=o+e,u=r+l.currentWidth-l.getCurrentPaddingRight(),s=d[1]+15),a>u&&(o-=a-u+20),s+n>l.currentHeight&&(s-=n+30)),0>s&&(s=0),{top:s,left:o}},u.showTooltip=function(t,e){var n,i,r,o=this,a=o.config,s=o.hasArcType(),l=t.filter(function(t){return t&&f(t.value)}),c=a.tooltip_position||u.tooltipPosition;0!==l.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=c.call(this,l,n,i,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},u.hideTooltip=function(){this.tooltip.style("display","none")},u.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},u.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},u.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},u.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},u.updateLegendStep=function(t){this.legendStep=t},u.updateLegendItemWidth=function(t){this.legendItemWidth=t},u.updateLegendItemHeight=function(t){this.legendItemHeight=t},u.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},u.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},u.opacityForLegend=function(t){return t.classed(h.legendItemHidden)?null:1},u.opacityForUnfocusedLegend=function(t){return t.classed(h.legendItemHidden)?null:.3},u.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+h.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(h.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})},u.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},u.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},u.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&x(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},u.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},u.updateLegend=function(t,e,n){function i(t,e){return L.legendItemTextBox[e]||(L.legendItemTextBox[e]=L.getTextRect(t.textContent,h.legendItem,t)),L.legendItemTextBox[e]}function r(e,n,r){function o(t,e){e||(a=(p-D-d)/2,E>a&&(a=(p-d)/2,D=0,G++)),N[t]=G,z[G]=L.isLegendInset?10:a,O[t]=D,D+=d}var a,s,u=0===r,l=r===t.length-1,c=i(e,n),h=c.width+k+(!l||L.isLegendRight||L.isLegendInset?A:0)+T.legend_padding,f=c.height+P,d=L.isLegendRight||L.isLegendInset?f:h,p=L.isLegendRight||L.isLegendInset?L.getLegendHeight():L.getLegendWidth();return u&&(D=0,G=0,C=0,M=0),T.legend_show&&!L.isLegendToShow(n)?void(I[n]=R[n]=N[n]=O[n]=0):(I[n]=h,R[n]=f,(!C||h>=C)&&(C=h),(!M||f>=M)&&(M=f),s=L.isLegendRight||L.isLegendInset?M:C,void(T.legend_equally?(Object.keys(I).forEach(function(t){I[t]=C}),Object.keys(R).forEach(function(t){R[t]=M}),a=(p-s*t.length)/2,E>a?(D=0,G=0,t.forEach(function(t){o(t)})):o(n,!0)):o(n)))}var o,a,s,u,l,c,f,d,p,g,m,v,y,x,b,w,L=this,T=L.config,P=4,A=10,C=0,M=0,E=10,k=T.legend_item_tile_width+5,D=0,O={},I={},R={},z=[0],N={},G=0;t=t.filter(function(t){return!_(T.data_names[t])||null!==T.data_names[t]}),e=e||{},m=S(e,"withTransition",!0),v=S(e,"withTransitionForTransform",!0),L.isLegendInset&&(G=T.legend_inset_step?T.legend_inset_step:t.length,L.updateLegendStep(G)),L.isLegendRight?(o=function(t){return C*N[t]},u=function(t){return z[N[t]]+O[t]}):L.isLegendInset?(o=function(t){return C*N[t]+10},u=function(t){return z[N[t]]+O[t]}):(o=function(t){return z[N[t]]+O[t]},u=function(t){return M*N[t]}),a=function(t,e){return o(t,e)+4+T.legend_item_tile_width},l=function(t,e){return u(t,e)+9},s=function(t,e){return o(t,e)},c=function(t,e){return u(t,e)-5},f=function(t,e){return o(t,e)-2},d=function(t,e){return o(t,e)-2+T.legend_item_tile_width},p=function(t,e){return u(t,e)+4},g=L.legend.selectAll("."+h.legendItem).data(t).enter().append("g").attr("class",function(t){return L.generateClass(h.legendItem,t)}).style("visibility",function(t){return L.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){T.legend_item_onclick?T.legend_item_onclick.call(L,t):L.d3.event.altKey?(L.api.hide(),L.api.show(t)):(L.api.toggle(t),L.isTargetToShow(t)?L.api.focus(t):L.api.revert())}).on("mouseover",function(t){T.legend_item_onmouseover?T.legend_item_onmouseover.call(L,t):(L.d3.select(this).classed(h.legendItemFocused,!0),!L.transiting&&L.isTargetToShow(t)&&L.api.focus(t))}).on("mouseout",function(t){T.legend_item_onmouseout?T.legend_item_onmouseout.call(L,t):(L.d3.select(this).classed(h.legendItemFocused,!1),L.api.revert())}),g.append("text").text(function(t){return _(T.data_names[t])?T.data_names[t]:t}).each(function(t,e){r(this,t,e)}).style("pointer-events","none").attr("x",L.isLegendRight||L.isLegendInset?a:-200).attr("y",L.isLegendRight||L.isLegendInset?-200:l),g.append("rect").attr("class",h.legendItemEvent).style("fill-opacity",0).attr("x",L.isLegendRight||L.isLegendInset?s:-200).attr("y",L.isLegendRight||L.isLegendInset?-200:c),g.append("line").attr("class",h.legendItemTile).style("stroke",L.color).style("pointer-events","none").attr("x1",L.isLegendRight||L.isLegendInset?f:-200).attr("y1",L.isLegendRight||L.isLegendInset?-200:p).attr("x2",L.isLegendRight||L.isLegendInset?d:-200).attr("y2",L.isLegendRight||L.isLegendInset?-200:p).attr("stroke-width",T.legend_item_tile_height),w=L.legend.select("."+h.legendBackground+" rect"),L.isLegendInset&&C>0&&0===w.size()&&(w=L.legend.insert("g","."+h.legendItem).attr("class",h.legendBackground).append("rect")),y=L.legend.selectAll("text").data(t).text(function(t){return _(T.data_names[t])?T.data_names[t]:t}).each(function(t,e){r(this,t,e)}),(m?y.transition():y).attr("x",a).attr("y",l),x=L.legend.selectAll("rect."+h.legendItemEvent).data(t),(m?x.transition():x).attr("width",function(t){return I[t]}).attr("height",function(t){return R[t]}).attr("x",s).attr("y",c),b=L.legend.selectAll("line."+h.legendItemTile).data(t),(m?b.transition():b).style("stroke",L.color).attr("x1",f).attr("y1",p).attr("x2",d).attr("y2",p),w&&(m?w.transition():w).attr("height",L.getLegendHeight()-12).attr("width",C*(G+1)+10),L.legend.selectAll("."+h.legendItem).classed(h.legendItemHidden,function(t){return!L.isTargetToShow(t)}),L.updateLegendItemWidth(C),L.updateLegendItemHeight(M),L.updateLegendStep(G),L.updateSizes(),L.updateScales(),L.updateSvgSize(),L.transformAll(v,n),L.legendHasRendered=!0},u.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},u.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},u.xForTitle=function(){var t,e=this,n=e.config,i=n.title_position||"left";return t=i.indexOf("right")>=0?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-n.title_padding.right:i.indexOf("center")>=0?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:n.title_padding.left},u.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},u.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},n(e,o),o.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",h.axis+" "+h.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",h.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",h.axis+" "+h.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",h.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",h.axis+" "+h.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",h.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.prototype.getXAxis=function(t,e,n,i,r,o,s){var u=this.owner,l=u.config,c={isCategory:u.isCategorized(),withOuterTick:r,tickMultiline:l.axis_x_tick_multiline,tickWidth:l.axis_x_tick_width,tickTextRotate:s?0:l.axis_x_tick_rotate,withoutTransition:o},h=a(u.d3,c).scale(t).orient(e);return u.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(t){return u.parseDate(t)})),h.tickFormat(n).tickValues(i),u.isCategorized()&&(h.tickCentered(l.axis_x_tick_centered),x(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),h},o.prototype.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},o.prototype.getYAxis=function(t,e,n,i,r,o,s){var u=this.owner,l=u.config,c={withOuterTick:r,withoutTransition:o,tickTextRotate:s?0:l.axis_y_tick_rotate},h=a(u.d3,c).scale(t).orient(e).tickFormat(n);return u.isTimeSeriesY()?h.ticks(u.d3.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):h.tickValues(i),h},o.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return 0>t?t.toFixed(0):t};return e.axis_x_tick_format&&(d(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),d(n)?function(e){return n.call(t,e)}:n},o.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():void 0},o.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis);
},o.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner,i=n.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},o.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return p(e)?e:e?e.text:null},o.prototype.setLabelText=function(t,e){var n=this.owner,i=n.config,r=this.getLabelOptionByAxisId(t);p(r)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):r&&(r.text=e)},o.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},o.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},o.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},o.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},o.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.getMaxTickWidth=function(t,e){var n,i,r,o,a,s=this.owner,u=s.config,l=0;return e&&s.currentMaxTickWidths[t]?s.currentMaxTickWidths[t]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===t?(i=s.y.copy().domain(s.getYDomain(n,"y")),r=this.getYAxis(i,s.yOrient,u.axis_y_tick_format,s.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=s.y2.copy().domain(s.getYDomain(n,"y2")),r=this.getYAxis(i,s.y2Orient,u.axis_y2_tick_format,s.y2AxisTickValues,!1,!0,!0)):(i=s.x.copy().domain(s.getXDomain(n)),r=this.getXAxis(i,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),o=s.d3.select("body").append("div").classed("c3",!0),a=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a.append("g").call(r).each(function(){s.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();l<t.width&&(l=t.width)}),o.remove()})),s.currentMaxTickWidths[t]=0>=l?s.currentMaxTickWidths[t]:l,s.currentMaxTickWidths[t])},o.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+h.axisX+" ."+h.axisXLabel),i=e.main.select("."+h.axisY+" ."+h.axisYLabel),r=e.main.select("."+h.axisY2+" ."+h.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.prototype.getPadding=function(t,e,n,i){var r="number"==typeof t?t:t[e];return f(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},o.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner,i=n.config.axis_rotated?n.width:n.height;return e*(t/i)},o.prototype.generateTickValues=function(t,e,n){var i,r,o,a,s,u,l,c=t;if(e)if(i=d(e)?e():e,1===i)c=[t[0]];else if(2===i)c=[t[0],t[t.length-1]];else if(i>2){for(a=i-2,r=t[0],o=t[t.length-1],s=(o-r)/(a+1),c=[r],u=0;a>u;u++)l=+r+s*(u+1),c.push(n?new Date(l):l);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},o.prototype.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},o.prototype.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},u.getClipPath=function(e){var n=t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+e+")"},u.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},u.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},u.getAxisClipY=function(t){return t?-20:-this.margin.top},u.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},u.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},u.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},u.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},u.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),i=Math.max(30,e.margin.right);return t?e.width+2+n+i:e.margin.left+20},u.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},u.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},u.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},u.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},u.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},u.initPie=function(){var t=this,e=t.d3,n=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),n.data_order||t.pie.sort(null)},u.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},u.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},u.updateAngle=function(t){var e,n,i,r,o=this,a=o.config,s=!1,u=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(e){s||e.data.id!==t.data.id||(s=!0,t=e,t.index=u),u++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),o.isGaugeType(t.data)&&(e=a.gauge_min,n=a.gauge_max,i=Math.PI*(a.gauge_fullCircle?2:1)/(n-e),r=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=a.gauge_startingAngle,t.endAngle=t.startAngle+i*r),s?t:null):null},u.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,i){var r;return i?e(n):(r=t.updateAngle(n),r?e(r):"M 0 0")};return n.centroid=e.centroid,n},u.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var i=e.updateAngle(t);return i?n(i):"M 0 0"}},u.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},u.transformForArcLabel=function(t){var e,n,i,r,o,a=this,s=a.config,u=a.updateAngle(t),l="";return u&&!a.hasType("gauge")&&(e=this.svgArc.centroid(u),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),o=a.hasType("donut")&&s.donut_label_ratio?d(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?d(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,r):s.pie_label_ratio:a.radius&&r?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/r:0,l="translate("+n*o+","+i*o+")"),l},u.getArcRatio=function(t){var e=this,n=e.config,i=Math.PI*(e.hasType("gauge")&&!n.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/i:null},u.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},u.textForArcLabel=function(t){var e,n,i,r,o,a=this;return a.shouldShowArcLabel()?(e=a.updateAngle(t),n=e?e.value:null,i=a.getArcRatio(e),r=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(i)?(o=a.getArcLabelFormat(),o?o(n,i,r):a.defaultArcValueFormat(n,i)):""):""},u.expandArc=function(e){var n,i=this;return i.transiting?void(n=t.setInterval(function(){i.transiting||(t.clearInterval(n),i.legend.selectAll(".c3-legend-item-focused").size()>0&&i.expandArc(e))},10)):(e=i.mapToTargetIds(e),void i.svg.selectAll(i.selectorTargets(e,"."+h.chartArc)).each(function(t){i.shouldExpand(t.data.id)&&i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(t.data.id)).attr("d",i.svgArcExpanded).transition().duration(2*i.expandDuration(t.data.id)).attr("d",i.svgArcExpandedSub).each(function(t){i.isDonutType(t.data)})}))},u.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+h.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+h.arc).style("opacity",1))},u.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},u.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},u.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},u.meetsArcLabelThreshold=function(t){var e=this,n=e.config,i=e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return t>=i},u.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},u.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},u.updateTargetsForArc=function(t){var e,n,i=this,r=i.main,o=i.classChartArc.bind(i),a=i.classArcs.bind(i),s=i.classFocus.bind(i);e=r.select("."+h.chartArcs).selectAll("."+h.chartArc).data(i.pie(t)).attr("class",function(t){return o(t)+s(t.data)}),n=e.enter().append("g").attr("class",o),n.append("g").attr("class",a),n.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},u.initArc=function(){var t=this;t.arcs=t.main.select("."+h.chart).append("g").attr("class",h.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",h.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},u.redrawArc=function(t,e,n){var i,r=this,o=r.d3,a=r.config,s=r.main;i=s.selectAll("."+h.arcs).selectAll("."+h.arc).data(r.arcData.bind(r)),i.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=a.gauge_startingAngle),this._current=t}),i.attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),e&&(n=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(n,this)))}:null).on("mousemove",a.interaction_enabled?function(t){var e,n,i=r.updateAngle(t);i&&(e=r.convertToArcData(i),n=[e],r.showTooltip(n,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),e&&(n=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this)))}:null).on("click",a.interaction_enabled?function(t,e){var n,i=r.updateAngle(t);i&&(n=r.convertToArcData(i),r.toggleShape&&r.toggleShape(this,n,e),r.config.data_onclick.call(r.api,n,this))}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=r.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=o.interpolate(this._current,n),this._current=e(0),function(n){var i=e(n);return i.data=t.data,r.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity",1).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+h.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?h.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),s.select("."+h.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+h.chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle};return r.getArc(t,!0,!0)}),r.arcs.select("."+h.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),r.arcs.select("."+h.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_min:""),r.arcs.select("."+h.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_max:""))},u.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",h.chartArcsBackground),t.append("text").attr("class",h.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},u.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},u.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",h.regions)},u.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+h.regions).selectAll("."+h.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},u.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),i=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(t){return f(t.opacity)?t.opacity:.1})]},u.regionX=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?r(t.start):0:i.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},u.regionY=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?r(t.end):0:i.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},u.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?o(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,r>e?0:e-r},u.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?o(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,r>e?0:e-r},u.isRegionOnX=function(t){return!t.axis||"x"===t.axis},u.drag=function(t){var e,n,i,r,o,a,s,u,l=this,c=l.config,f=l.main,d=l.d3;l.hasArcType()||c.data_selection_enabled&&(c.zoom_enabled&&!l.zoom.altDomain||c.data_selection_multiple&&(e=l.dragStart[0],n=l.dragStart[1],i=t[0],r=t[1],o=Math.min(e,i),a=Math.max(e,i),s=c.data_selection_grouped?l.margin.top:Math.min(n,r),u=c.data_selection_grouped?l.height:Math.max(n,r),f.select("."+h.dragarea).attr("x",o).attr("y",s).attr("width",a-o).attr("height",u-s),f.selectAll("."+h.shapes).selectAll("."+h.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,c,f,p,g=d.select(this),_=g.classed(h.SELECTED),m=g.classed(h.INCLUDED),v=!1;if(g.classed(h.circle))n=1*g.attr("cx"),i=1*g.attr("cy"),f=l.togglePoint,v=n>o&&a>n&&i>s&&u>i;else{if(!g.classed(h.bar))return;p=T(this),n=p.x,i=p.y,r=p.width,c=p.height,f=l.togglePath,v=!(n>a||o>n+r||i>u||s>i+c)}v^m&&(g.classed(h.INCLUDED,!m),g.classed(h.SELECTED,!_),f.call(l,!_,g,t,e))})))},u.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+h.chart).append("rect").attr("class",h.dragarea).style("opacity",.1),e.dragging=!0)},u.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+h.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+h.shape).classed(h.INCLUDED,!1),t.dragging=!1)},u.selectPoint=function(t,e,n){var i=this,r=i.config,o=(r.axis_rotated?i.circleY:i.circleX).bind(i),a=(r.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+h.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(h.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",s)},u.unselectPoint=function(t,e,n){var i=this;i.config.data_onunselected.call(i.api,e,t.node()),i.main.select("."+h.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},u.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},u.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},u.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},u.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},u.getToggle=function(t,e){var n,i=this;return"circle"===t.nodeName?n=i.isStepType(e)?function(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},u.toggleShape=function(t,e,n){var i=this,r=i.d3,o=i.config,a=r.select(t),s=a.classed(h.SELECTED),u=i.getToggle(t,e).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||i.main.selectAll("."+h.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+h.shape).each(function(t,e){var n=r.select(this);n.classed(h.SELECTED)&&u(!1,n.classed(h.SELECTED,!1),t,e)}),a.classed(h.SELECTED,!s),u(!s,a,e,n))},u.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+h.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},u.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),i=e.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",h.chart),n.select("."+h.chart).append("g").attr("class",h.chartBars),n.select("."+h.chart).append("g").attr("class",h.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",h.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",h.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?i:"hidden")},u.updateTargetsForSubchart=function(t){var e,n,i,r,o=this,a=o.context,s=o.config,u=o.classChartBar.bind(o),l=o.classBars.bind(o),c=o.classChartLine.bind(o),f=o.classLines.bind(o),d=o.classAreas.bind(o);s.subchart_show&&(r=a.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",u),i=r.enter().append("g").style("opacity",0).attr("class",u),i.append("g").attr("class",l),n=a.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",c),e=n.enter().append("g").style("opacity",0).attr("class",c),e.append("g").attr("class",f),e.append("g").attr("class",d),a.selectAll("."+h.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?o.width2:o.height2))},u.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+h.bars).selectAll("."+h.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},u.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},u.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},u.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},u.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},u.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},u.redrawSubchart=function(t,e,n,i,r,o,a){var s,u,l,c=this,h=c.d3,f=c.config;c.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(r,!0),u=c.generateDrawBar(o,!0),l=c.generateDrawLine(a,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(u,n,n),c.redrawLineForSubchart(l,n,n),c.redrawAreaForSubchart(s,n,n)))},u.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},u.transformContext=function(t,e){var n,i=this;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+h.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},u.getDefaultExtent=function(){var t=this,e=t.config,n=d(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},u.initZoom=function(){var t,e=this,n=e.d3,i=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,i.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=n.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),i.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=y(e.x.orgDomain())/y(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},u.getZoomDomain=function(){var t=this,e=t.config,n=t.d3,i=n.min([t.orgXDomain[0],e.zoom_x_min]),r=n.max([t.orgXDomain[1],e.zoom_x_max]);return[i,r]},u.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+h.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+h.eventRect).call(e).on("dblclick.zoom",null)},u.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},u.generateColor=function(){var t=this,e=t.config,n=t.d3,i=e.data_colors,r=b(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(a.indexOf(n)<0&&a.push(n),e=r[a.indexOf(n)%r.length],i[n]=e),o instanceof Function?o(e,t):e}},u.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,i=e.color_threshold,r="value"===i.unit,o=i.values&&i.values.length?i.values:[],a=i.max||100;return b(e.color_threshold)?function(t){var e,i,s=n[n.length-1];for(e=0;e<o.length;e++)if(i=r?t:100*t/a,i<o[e]){s=n[e];break}return s}:null},u.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,o){var a="y2"===e.axis.getId(o)?i:n;return a.call(e,t,r)}},u.yFormat=function(t){var e=this,n=e.config,i=n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat;return i(t)},u.y2Format=function(t){var e=this,n=e.config,i=n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat;return i(t)},u.defaultValueFormat=function(t){return f(t)?+t:""},u.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},u.dataLabelFormat=function(t){var e,n=this,i=n.config.data_labels,r=function(t){return f(t)?+t:""};return e="function"==typeof i.format?i.format:"object"==typeof i.format?i.format[t]?i.format[t]===!0?r:i.format[t]:function(){return""}:r},u.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},u.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},u.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n};var h=u.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",
ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};u.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},u.classText=function(t){return this.generateClass(h.text,t.index)},u.classTexts=function(t){return this.generateClass(h.texts,t.id)},u.classShape=function(t){return this.generateClass(h.shape,t.index)},u.classShapes=function(t){return this.generateClass(h.shapes,t.id)},u.classLine=function(t){return this.classShape(t)+this.generateClass(h.line,t.id)},u.classLines=function(t){return this.classShapes(t)+this.generateClass(h.lines,t.id)},u.classCircle=function(t){return this.classShape(t)+this.generateClass(h.circle,t.index)},u.classCircles=function(t){return this.classShapes(t)+this.generateClass(h.circles,t.id)},u.classBar=function(t){return this.classShape(t)+this.generateClass(h.bar,t.index)},u.classBars=function(t){return this.classShapes(t)+this.generateClass(h.bars,t.id)},u.classArc=function(t){return this.classShape(t.data)+this.generateClass(h.arc,t.data.id)},u.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(h.arcs,t.data.id)},u.classArea=function(t){return this.classShape(t)+this.generateClass(h.area,t.id)},u.classAreas=function(t){return this.classShapes(t)+this.generateClass(h.areas,t.id)},u.classRegion=function(t,e){return this.generateClass(h.region,e)+" "+("class"in t?t.class:"")},u.classEvent=function(t){return this.generateClass(h.eventRect,t.index)},u.classTarget=function(t){var e=this,n=e.config.data_classes[t],i="";return n&&(i=" "+h.target+"-"+n),e.generateClass(h.target,t)+i},u.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},u.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?h.focused:"")},u.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?h.defocused:"")},u.classChartText=function(t){return h.chartText+this.classTarget(t.id)},u.classChartLine=function(t){return h.chartLine+this.classTarget(t.id)},u.classChartBar=function(t){return h.chartBar+this.classTarget(t.id)},u.classChartArc=function(t){return h.chartArc+this.classTarget(t.data.id)},u.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},u.selectorTarget=function(t,e){return(e||"")+"."+h.target+this.getTargetSelectorSuffix(t)},u.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},u.selectorLegend=function(t){return"."+h.legendItem+this.getTargetSelectorSuffix(t)},u.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var f=u.isValue=function(t){return t||0===t},d=u.isFunction=function(t){return"function"==typeof t},p=u.isString=function(t){return"string"==typeof t},g=u.isUndefined=function(t){return"undefined"==typeof t},_=u.isDefined=function(t){return"undefined"!=typeof t},m=u.ceil10=function(t){return 10*Math.ceil(t/10)},v=u.asHalfPixel=function(t){return Math.ceil(t)+.5},y=u.diffDomain=function(t){return t[1]-t[0]},x=u.isEmpty=function(t){return"undefined"==typeof t||null===t||p(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},b=u.notEmpty=function(t){return!u.isEmpty(t)},S=u.getOption=function(t,e,n){return _(t[e])?t[e]:n},w=u.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){t[i]===e&&(n=!0)}),n},L=u.sanitise=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},T=u.getPathBox=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],i=n[0].x,r=Math.min(n[0].y,n[1].y);return{x:i,y:r,width:e.width,height:e.height}};s.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(h.focused,!0).classed(h.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},s.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(h.focused,!1).classed(h.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},s.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(h.focused,!1).classed(h.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(h.legendItemFocused)}).classed(h.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},s.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},s.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},s.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},s.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},s.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;return 0===t||t?void(n.zoom_x_max=i.max([e.orgXDomain[1],t])):n.zoom_x_max},s.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;return 0===t||t?void(n.zoom_x_min=i.min([e.orgXDomain[0],t])):n.zoom_x_min},s.zoom.range=function(t){return arguments.length?(_(t.max)&&this.domain.max(t.max),void(_(t.min)&&this.domain.min(t.min))):{max:this.domain.max(),min:this.domain.min()}},s.load=function(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"names"in t&&s.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},s.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},s.flow=function(t){var e,n,i,r,o,a,s,u,l=this.internal,c=[],h=l.getMaxDataCount(),d=0,p=0;if(t.json)n=l.convertJsonToData(t.json,t.keys);else if(t.rows)n=l.convertRowsToData(t.rows);else{if(!t.columns)return;n=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(n,!0),l.data.targets.forEach(function(t){var n,i,r=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(r=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),d=e[n].values.length,i=0;d>i;i++)e[n].values[i].index=p+i,l.isTimeSeries()||(e[n].values[i].x=p+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}r||c.push(t.id)}),l.data.targets.forEach(function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(p=t.values[t.values.length-1].index+1,n=0;d>n;n++)t.values.push({id:t.id,index:p+n,x:l.isTimeSeries()?l.getOtherTargetX(p+n):p+n,value:null})}),l.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=l.data.targets[0].values[0].index;p>e;e++)n.push({id:t.id,index:e,x:l.isTimeSeries()?l.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=p,l.isTimeSeries()||(t.x+=p)}),t.values=n.concat(t.values)}),l.data.targets=l.data.targets.concat(e),i=l.getMaxDataCount(),o=l.data.targets[0],a=o.values[0],_(t.to)?(d=0,u=l.isTimeSeries()?l.parseDate(t.to):t.to,o.values.forEach(function(t){t.x<u&&d++})):_(t.length)&&(d=t.length),h?1===h&&l.isTimeSeries()&&(s=(o.values[o.values.length-1].x-a.x)/2,r=[new Date(+a.x-s),new Date(+a.x+s)],l.updateXDomain(null,!0,!0,!1,r)):(s=l.isTimeSeries()?o.values.length>1?o.values[o.values.length-1].x-a.x:a.x-l.getXDomain(l.data.targets)[0]:1,r=[a.x-s,a.x],l.updateXDomain(null,!0,!0,!1,r)),l.updateTargets(l.data.targets),l.redraw({flow:{index:a.index,length:d,duration:f(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},u.generateFlow=function(t){var e=this,n=e.config,i=e.d3;return function(){var r,o,a,s=t.targets,u=t.flow,l=t.drawBar,c=t.drawLine,f=t.drawArea,d=t.cx,p=t.cy,g=t.xv,_=t.xForText,m=t.yForText,v=t.duration,x=1,b=u.index,S=u.length,w=e.getValueOnIndex(e.data.targets[0].values,b),L=e.getValueOnIndex(e.data.targets[0].values,b+S),T=e.x.domain(),P=u.duration||v,A=u.done||function(){},C=e.generateWait(),M=e.xgrid||i.selectAll([]),E=e.xgridLines||i.selectAll([]),k=e.mainRegion||i.selectAll([]),D=e.mainText||i.selectAll([]),O=e.mainBar||i.selectAll([]),I=e.mainLine||i.selectAll([]),R=e.mainArea||i.selectAll([]),z=e.mainCircle||i.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,S)}),a=e.updateXDomain(s,!0,!0),e.updateXGrid&&e.updateXGrid(!0),u.orgDataCount?r=1===u.orgDataCount||(w&&w.x)===(L&&L.x)?e.x(T[0])-e.x(a[0]):e.isTimeSeries()?e.x(T[0])-e.x(a[0]):e.x(w.x)-e.x(L.x):1!==e.data.targets[0].values.length?r=e.x(T[0])-e.x(a[0]):e.isTimeSeries()?(w=e.getValueOnIndex(e.data.targets[0].values,0),L=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),r=e.x(w.x)-e.x(L.x)):r=y(a)/2,x=y(T)/y(a),o="translate("+r+",0) scale("+x+",1)",e.hideXGridFocus(),i.transition().ease("linear").duration(P).each(function(){C.add(e.axes.x.transition().call(e.xAxis)),C.add(O.transition().attr("transform",o)),C.add(I.transition().attr("transform",o)),C.add(R.transition().attr("transform",o)),C.add(z.transition().attr("transform",o)),C.add(D.transition().attr("transform",o)),C.add(k.filter(e.isRegionOnX).transition().attr("transform",o)),C.add(M.transition().attr("transform",o)),C.add(E.transition().attr("transform",o))}).call(C,function(){var t,i=[],r=[],o=[];if(S){for(t=0;S>t;t++)i.push("."+h.shape+"-"+(b+t)),r.push("."+h.text+"-"+(b+t)),o.push("."+h.eventRect+"-"+(b+t));e.svg.selectAll("."+h.shapes).selectAll(i).remove(),e.svg.selectAll("."+h.texts).selectAll(r).remove(),e.svg.selectAll("."+h.eventRects).selectAll(o).remove(),e.svg.select("."+h.xgrid).remove()}M.attr("transform",null).attr(e.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",n.axis_rotated?0:g).attr("x2",n.axis_rotated?e.width:g),E.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",g),O.attr("transform",null).attr("d",l),I.attr("transform",null).attr("d",c),R.attr("transform",null).attr("d",f),z.attr("transform",null).attr("cx",d).attr("cy",p),D.attr("transform",null).attr("x",_).attr("y",m).style("fill-opacity",e.opacityForText.bind(e)),k.attr("transform",null),k.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),A(),e.flowing=!1})}},s.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+h.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+h.shape).filter(function(){return n.select(this).classed(h.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},s.select=function(t,e,n){var i=this.internal,r=i.d3,o=i.config;o.data_selection_enabled&&i.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(a,s){var u=r.select(this),l=a.data?a.data.id:a.id,c=i.getToggle(this,a).bind(i),f=o.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(s)>=0,p=u.classed(h.SELECTED);u.classed(h.line)||u.classed(h.area)||(f&&d?o.data_selection_isselectable(a)&&!p&&c(!0,u.classed(h.SELECTED,!0),a,s):_(n)&&n&&p&&c(!1,u.classed(h.SELECTED,!1),a,s))})},s.unselect=function(t,e){var n=this.internal,i=n.d3,r=n.config;r.data_selection_enabled&&n.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(o,a){var s=i.select(this),u=o.data?o.data.id:o.id,l=n.getToggle(this,o).bind(n),c=r.data_selection_grouped||!t||t.indexOf(u)>=0,f=!e||e.indexOf(a)>=0,d=s.classed(h.SELECTED);s.classed(h.line)||s.classed(h.area)||c&&f&&r.data_selection_isselectable(o)&&d&&l(!1,s.classed(h.SELECTED,!1),o,a)})},s.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},u.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),o=n||{withTransitionForAxis:r};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},s.groups=function(t){var e=this.internal,n=e.config;return g(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},s.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},s.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))},s.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)},s.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},s.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))},s.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)},s.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},s.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},s.regions.remove=function(t){var e,n,i,r=this.internal,o=r.config;return t=t||{},e=r.getOption(t,"duration",o.transition_duration),n=r.getOption(t,"classes",[h.region]),i=r.main.select("."+h.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e)}),o.regions},s.data=function(t){var e=this.internal.data.targets;return"undefined"==typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},s.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},s.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},s.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},s.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},s.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},s.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},s.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},s.color=function(t){var e=this.internal;return e.color(t)},s.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.axis=function(){},s.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},s.axis.max=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(f(t.x)&&(n.axis_x_max=t.x),f(t.y)&&(n.axis_y_max=t.y),f(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},s.axis.min=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(f(t.x)&&(n.axis_x_min=t.x),f(t.y)&&(n.axis_y_min=t.y),f(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},s.axis.range=function(t){return arguments.length?(_(t.max)&&this.axis.max(t.max),void(_(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},s.legend=function(){},s.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},s.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},s.destroy=function(){var e=this.internal;if(t.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&t.clearTimeout(e.resizeTimeout),t.detachEvent)t.detachEvent("onresize",e.resizeFunction);else if(t.removeEventListener)t.removeEventListener("resize",e.resizeFunction);else{var n=t.onresize;n&&n.add&&n.remove&&n.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},s.tooltip=function(){},s.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=f(t.data.index)?t.data.index:i.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=i.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n),i.config.tooltip_onshow.call(i,t.data)},s.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var P;u.isSafari=function(){var e=t.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},u.isChrome=function(){var e=t.navigator.userAgent;return e.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),function(){"SVGPathSeg"in t||(t.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},t.SVGPathSegClosePath=function(t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath((void 0))},t.SVGPathSegMovetoAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegMovetoRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegLinetoAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegLinetoRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs((void 0),this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel((void 0),this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs((void 0),this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel((void 0),this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegArcAbs=function(t,e,n,i,r,o,a,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs((void 0),this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){
this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegArcRel=function(t,e,n,i,r,o,a,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel((void 0),this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegLinetoHorizontalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs((void 0),this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegLinetoHorizontalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel((void 0),this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegLinetoVerticalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs((void 0),this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegLinetoVerticalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel((void 0),this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs((void 0),this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel((void 0),this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),t.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath((void 0))},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new SVGPathSegMovetoAbs((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new SVGPathSegMovetoRel((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new SVGPathSegLinetoAbs((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new SVGPathSegLinetoRel((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o){return new SVGPathSegCurvetoCubicAbs((void 0),t,e,n,i,r,o)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o){return new SVGPathSegCurvetoCubicRel((void 0),t,e,n,i,r,o)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new SVGPathSegCurvetoQuadraticAbs((void 0),t,e,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new SVGPathSegCurvetoQuadraticRel((void 0),t,e,n,i)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,o,a){return new SVGPathSegArcAbs((void 0),t,e,n,i,r,o,a)},SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,o,a){return new SVGPathSegArcRel((void 0),t,e,n,i,r,o,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new SVGPathSegLinetoHorizontalAbs((void 0),t)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new SVGPathSegLinetoHorizontalRel((void 0),t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new SVGPathSegLinetoVerticalAbs((void 0),t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new SVGPathSegLinetoVerticalRel((void 0),t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new SVGPathSegCurvetoCubicSmoothAbs((void 0),t,e,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new SVGPathSegCurvetoCubicSmoothRel((void 0),t,e,n,i)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothAbs((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothRel((void 0),t,e)}),"SVGPathSegList"in t||(t.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||0>t||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return" ">=t&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&"9">=t)&&e!=SVGPathSeg.PATHSEG_CLOSEPATH?e==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:e==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:e:SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==SVGPathSeg.PATHSEG_MOVETO_ABS||t==SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var u=this._currentIndex-1,l=1;u>=s;)e+=l*(this._string.charAt(u--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)i+=(this._string.charAt(this._currentIndex++)-"0")*(n*=.1)}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+i;if(c*=r,t&&(c*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(n=this._nextCommandHelper(t,this._previousCommand),n==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(e,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(e,i.x,i.y,i.x2,i.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(e,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(e,i.x,i.y,i.x1,i.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new n,o=new i(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList})}(),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return c}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:t.c3=c}(window),!function(t,e,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[];var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off("move",this._childMarkerMoved,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){if(!L.Util.isArray(t))return this.addLayer(t);var e,n=this._featureGroup,i=this._nonPointGroup,r=this.options.chunkedLoading,o=this.options.chunkInterval,a=this.options.chunkProgress,s=t.length,u=0,l=!0;if(this._map){var c=(new Date).getTime(),h=L.bind(function(){for(var f=(new Date).getTime();s>u;u++){if(r&&0===u%200){var d=(new Date).getTime()-f;if(d>o)break}if(e=t[u],e instanceof L.LayerGroup)l&&(t=t.slice(),l=!1),this._extractNonGroupLayers(e,t),s=t.length;else if(e.getLatLng){if(!this.hasLayer(e)&&(this._addLayer(e,this._maxZoom),e.__parent&&2===e.__parent.getChildCount())){var p=e.__parent.getAllChildMarkers(),g=p[0]===e?p[1]:p[0];n.removeLayer(g)}}else i.addLayer(e)}a&&a(u,s,(new Date).getTime()-c),u===s?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)},this);h()}else for(var f=this._needsClustering;s>u;u++)e=t[u],e instanceof L.LayerGroup?(l&&(t=t.slice(),l=!1),this._extractNonGroupLayers(e,t),s=t.length):e.getLatLng?this.hasLayer(e)||f.push(e):i.addLayer(e);return this},removeLayers:function(t){var e,n,i=t.length,r=this._featureGroup,o=this._nonPointGroup,a=!0;if(!this._map){for(e=0;i>e;e++)n=t[e],n instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):(this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push(n));return this}if(this._unspiderfy){this._unspiderfy();var s=t.slice(),u=i;for(e=0;u>e;e++)n=s[e],n instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),u=s.length):this._unspiderfyLayer(n)}for(e=0;i>e;e++)n=t[e],n instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):n.__parent?(this._removeLayer(n,!0,!0),r.hasLayer(n)&&(r.removeLayer(n),n.clusterShow&&n.clusterShow())):o.removeLayer(n);return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off("move",this._childMarkerMoved,this),delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i=this._needsClustering.slice(),r=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),n=i.length-1;n>=0;n--)-1===r.indexOf(i[n])&&t.call(e,i[n]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(n=this._needsRemoving,e=n.length-1;e>=0;e--)if(n[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};if(t._icon&&this._map.getBounds().contains(t.getLatLng()))e();else if(t.__parent._zoom<Math.round(this._map._zoom))this._map.on("moveend",n,this),this._map.panTo(t.getLatLng());else{var i=function(){this._map.off("movestart",i,this),i=null};this._map.on("movestart",i,this),this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds(),i&&n.call(this)}},onAdd:function(t){this._map=t;var e,n,i;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;n>e;e++)i=this._needsRemoving[e],this._removeLayer(i,!0);this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){
for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered;e>=0&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerMoved:function(t){this._ignoreMove||(t.target._latlng=t.oldLatLng,this.removeLayer(t.target),t.target._latlng=t.latlng,this.addLayer(t.target))},_removeLayer:function(t,e,n){var i=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,a=this._map;e&&this._removeFromGridUnclustered(t,this._maxZoom);var s,u=t.__parent,l=u._markers;for(this._arraySplice(l,t);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<0));)e&&u._childCount<=1?(s=u._markers[0]===t?u._markers[1]:u._markers[0],i[u._zoom].removeObject(u,a.project(u._cLatLng,u._zoom)),r[u._zoom].addObject(s,a.project(s.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(s),s.__parent=u.__parent,u._icon&&(o.removeLayer(u),n||o.addLayer(s))):u._iconNeedsUpdate=!0,u=u.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius,n=e;"function"!=typeof e&&(n=function(){return e}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var i=t;i>=0;i--)this._gridClusters[i]=new L.DistanceGrid(n(i)),this._gridUnclustered[i]=new L.DistanceGrid(n(i));this._topClusterLevel=new this._markerCluster(this,(-1))},_addLayer:function(t,e){var n,i,r=this._gridClusters,o=this._gridUnclustered;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on("move",this._childMarkerMoved,this);e>=0;e--){n=this._map.project(t.getLatLng(),e);var a=r[e].getNearObject(n);if(a)return a._addChild(t),void(t.__parent=a);if(a=o[e].getNearObject(n)){var s=a.__parent;s&&this._removeLayer(a,!1);var u=new this._markerCluster(this,e,a,t);r[e].addObject(u,this._map.project(u._cLatLng,e)),a.__parent=u,t.__parent=u;var l=u;for(i=e-1;i>s._zoom;i--)l=new this._markerCluster(this,i,l),r[i].addObject(l,this._map.project(a.getLatLng(),i));return s._addChild(l),void this._removeFromGridUnclustered(a,e)}o[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==n&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,i=t.getLayers(),r=0;for(e=e||[];r<i.length;r++)n=i[r],n instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){var e=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return e}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var n,i=this._getExpandedVisibleBounds(),r=this._featureGroup;this._ignoreMove=!0,this._topClusterLevel._recursively(i,t,0,function(o){var a,s=o._latlng,u=o._markers;for(i.contains(s)||(s=null),o._isSingleParent()&&t+1===e?(r.removeLayer(o),o._recursivelyAddChildrenToMap(null,e,i)):(o.clusterHide(),o._recursivelyAddChildrenToMap(s,e,i)),n=u.length-1;n>=0;n--)a=u[n],i.contains(a._latlng)||r.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),r.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,t,0,function(t){r.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,n){var i=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(i,e+1,n);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===t._childCount){var o=t._markers[0];this._ignoreMove=!0,o.setLatLng(o.getLatLng()),this._ignoreMove=!1,o.clusterShow&&o.clusterShow()}else t._recursively(i,n,0,function(t){t._recursivelyRemoveChildrenFromMap(i,e+1)});r._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),n=this._group._map,i=n.getBoundsZoom(this._bounds),r=this._zoom+1,o=n.getZoom();e.length>0&&i>r;){r++;var a=[];for(t=0;t<e.length;t++)a=a.concat(e[t]._childClusters);e=a}i>r?this._group._map.setView(this._latlng,r):o>=i?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,r=this._markers,o=this._childClusters,a=0,s=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<r.length;t++)n=r[t]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(t=0;t<o.length;t++)e=o[t],e._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,i=e._childCount,a+=n.lat*i,s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/u,s/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,0,n-1,function(t){var n,i,r=t._markers;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(e),i.clusterHide())},function(t){var n,i,r=t._childClusters;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(e),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n){this._recursively(t,n,0,function(i){i._recursivelyAnimateChildrenIn(t,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),e),i._isSingleParent()&&e-1===n?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(t,e)):i.clusterHide(),i._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,-1,e,function(i){if(e!==i._zoom)for(var r=i._markers.length-1;r>=0;r--){var o=i._markers[r];n.contains(o._latlng)&&(t&&(o._backupLatlng=o.getLatLng(),o.setLatLng(t),o.clusterHide&&o.clusterHide()),i._group._featureGroup.addLayer(o))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n){var i,r;this._recursively(t,-1,e-1,function(t){for(r=t._markers.length-1;r>=0;r--)i=t._markers[r],n&&n.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())},function(t){for(r=t._childClusters.length-1;r>=0;r--)i=t._childClusters[r],n&&n.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())})},_recursively:function(t,e,n,i,r){var o,a,s=this._childClusters,u=this._zoom;if(u>=e&&(i&&i(this),r&&u===n&&r(this)),e>u||n>u)for(o=s.length-1;o>=0;o--)a=s[o],t.intersects(a._bounds)&&a._recursively(t,e,n,i,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),r=this._grid,o=r[i]=r[i]||{},a=o[n]=o[n]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,a.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,r=this._getCoord(e.x),o=this._getCoord(e.y),a=this._grid,s=a[o]=a[o]||{},u=s[r]=s[r]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=u.length;i>n;n++)if(u[n]===t)return u.splice(n,1),1===i&&delete s[r],!0},eachObject:function(t,e){var n,i,r,o,a,s,u,l=this._grid;for(n in l){a=l[n];for(i in a)for(s=a[i],r=0,o=s.length;o>r;r++)u=t.call(e,s[r]),u&&(r--,o--)}},getNearObject:function(t){var e,n,i,r,o,a,s,u,l=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,f=this._sqCellSize,d=null;for(e=c-1;c+1>=e;e++)if(r=this._grid[e])for(n=l-1;l+1>=n;n++)if(o=r[n])for(i=0,a=o.length;a>i;i++)s=o[i],u=this._sqDist(h[L.Util.stamp(s)],t),f>u&&(f=u,d=s);return d},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},function(){L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat,i=e[0].lng-e[1].lng;return i*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,r,o=0,a=null,s=[];for(n=e.length-1;n>=0;n--)i=e[n],r=this.getDistant(i,t),r>0&&(s.push(i),r>o&&(o=r,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints)),n=n.concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints))):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,r=!1,o=!1,a=null,s=null,u=null,l=null,c=null,h=null;for(e=t.length-1;e>=0;e--){var f=t[e];(n===!1||f.lat>n)&&(a=f,n=f.lat),(i===!1||f.lat<i)&&(s=f,i=f.lat),(r===!1||f.lng>r)&&(u=f,r=f.lng),(o===!1||f.lng<o)&&(l=f,o=f.lng)}i!==n?(h=s,c=a):(h=l,c=u);var d=[].concat(this.buildConvexHull([h,c],t),this.buildConvexHull([c,h],t));return d}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),n=this._group,i=n._map,r=i.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,r):(r.y+=10,t=this._generatePointsCircle(e.length,r)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),o=r/this._2PI,a=this._2PI/t,s=[];for(s.length=t,n=t-1;n>=0;n--)i=this._circleStartAngle+n*a,s[n]=new L.Point(e.x+o*Math.cos(i),e.y+o*Math.sin(i))._round();return s},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier,r=i*this._spiralLengthStart,o=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,u=[];for(u.length=t,n=t-1;n>=0;n--)s+=o/r+5e-4*n,u[n]=new L.Point(e.x+r*Math.cos(s),e.y+r*Math.sin(s))._round(),r+=a/s;return u},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,r=n._featureGroup,o=this.getAllChildMarkers();for(n._ignoreMove=!0,this.setOpacity(1),e=o.length-1;e>=0;e--)t=o[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,r,o,a=this._group,s=a._map,u=a._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<t.length;n++)o=s.layerPointToLatLng(e[n]),i=t[n],r=new L.Polyline([this._latlng,o],l),s.addLayer(r),i._spiderLeg=r,i._preSpiderfyLatlng=i._latlng,i.setLatLng(o),i.setZIndexOffset&&i.setZIndexOffset(1e6),u.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,r,o,a,s,u,l=this,c=this._group,h=c._map,f=c._featureGroup,d=this._latlng,p=h.latLngToLayerPoint(d),g=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),m=_.opacity;for(m===n&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),g?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=m,c._ignoreMove=!0,i=0;i<t.length;i++)r=t[i],u=h.layerPointToLatLng(e[i]),o=new L.Polyline([d,u],_),h.addLayer(o),r._spiderLeg=o,g&&(a=o._path,s=a.getTotalLength()+.1,a.style.strokeDasharray=s,a.style.strokeDashoffset=s),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),f.addLayer(r),r._setPos&&r._setPos(p);for(c._forceLayout(),c._animationStart(),i=t.length-1;i>=0;i--)u=h.layerPointToLatLng(e[i]),r=t[i],r._preSpiderfyLatlng=r._latlng,r.setLatLng(u),r.clusterShow&&r.clusterShow(),g&&(o=r._spiderLeg,a=o._path,a.style.strokeDashoffset=0,o.setStyle({opacity:m}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:l,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,r,o,a,s=this,u=this._group,l=u._map,c=u._featureGroup,h=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(),d=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),n=f.length-1;n>=0;n--)e=f[n],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,a=!0,e._setPos&&(e._setPos(h),a=!1),e.clusterHide&&(e.clusterHide(),a=!1),a&&c.removeLayer(e),d&&(i=e._spiderLeg,r=i._path,o=r.getTotalLength()+.1,r.style.strokeDashoffset=o,i.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var t=0;for(n=f.length-1;n>=0;n--)e=f[n],e._spiderLeg&&t++;for(n=f.length-1;n>=0;n--)e=f[n],e._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&c.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document),function(t){function e(){$.getJSON(l,function(e){var i=e.elements;r(),s&&t.Map.removeLayer(s),s=new L.MarkerClusterGroup({maxClusterRadius:40}),i.forEach(function(t){if(t.lat&&t.lon){var e=L.marker([t.lat,t.lon]);e.bindPopup(t.tags?n(t.tags):"Aucune donne."),t.tags&&o(t.tags),s.addLayer(e)}}),t.Map.addLayer(s),a()})}function n(t){var e=Object.keys(t).map(function(e){if(e!==i(e)){var n=t[e];return"<strong>"+i(e)+"</strong> "+i(n)}});return e.join("<br />")}function i(t){return t in c?c[t]:t}function r(){stats={operators:{"Non renseign":0},advertising:{"Non renseign":0},total:0}}function o(t){"operator"in t?stats.operators[t.operator]=t.operator in stats.operators?stats.operators[t.operator]+1:1:stats.operators["Non renseign"]++,"advertising"in t?stats.advertising[t.advertising]=t.advertising in stats.advertising?stats.advertising[t.advertising]+1:1:stats.operators["Non renseign"]++,stats.total++}function a(){var t=d3.scale.category20(),e=_.range(20).map(function(e){return t(e)});c3.generate({bindto:"#operators-chart",data:{columns:_.map(stats.operators,function(t,e){return[i(e),t]}),type:"pie"},color:{pattern:e}}),c3.generate({bindto:"#types-chart",data:{columns:_.map(stats.advertising,function(t,e){return[i(e),t]}),type:"pie"},color:{pattern:e}}),$("#totalCount").text(stats.total),Object.keys(stats.operators).forEach(function(t){var e=stats.operators[t];$("#operators > tbody").append("<tr><td>"+t+"</td><td>"+e+"</td></tr>")}),Object.keys(stats.advertising).forEach(function(t){var e=stats.advertising[t];$("#advertising > tbody").append("<tr><td>"+i(t)+"</td><td>"+e+"</td></tr>")})}var s,u=$("#overpass-query").text(),l="http://api.openstreetmap.fr/oapi/interpreter?data="+encodeURIComponent(u);e(),setInterval(e,6e5);var c={advertising:"Type de panneau",luminous:"Lumineux",yes:"oui",no:"non",poster_box:"Affiche",billboard:"Panneau 4x3",operator:"Oprateur",two_sided:"Recto verso",doublesided:"Recto verso",column:"Colonne Morris",screen:"cran",event:"Affichage vnementiel",wall_painting:"Peinture murale",animated:"Dynamique",small_billboard:'"Petit" panneau'}}(window.Pub=window.Pub||{});